<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE muclient>

<muclient>

<plugin
   name="Prometheus"
   author="Nyano"
   id="f4bea1251bff11404aee0a76"
   language="Lua"
   purpose="Soundpack for Prometheus: The Eternal Wars."
   requires="5.00"
  >
</plugin>

<include name="constants.lua"/>

<triggers>
  <trigger
   enabled="y"
   match="^([\-]+)$"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="[Input]"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Username:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Password:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Report complete."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Suggestion sent."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^\[(\w*)\] (.*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.len("%1") > 2) then
      Execute("history_add All=%2")
      Execute("history_add %1=%2")
      CurrentGlobalSound = PlaySound("General/Channels/%1.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[Frequency *] *"
   omit_from_output="y"
   send_to="14"
   sequence="99"
  >
  <send>
    Execute("history_add All=[%1]: %2")
    Execute("history_add Frequency=[%1]: %2")
    CurrentGlobalSound = PlaySound("General/Channels/Frequency.ogg")
    Note("[%1] %2")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[* to you]*"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=[%1 to you]%2")
    Execute("history_add Private Communication=[%1 to you]%2")
    CurrentGlobalSound = PlaySound("General/Channels/Private.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[You to *]*"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=[You to %1]%2")
    Execute("history_add Private Communication=[You to %1]%2")
    CurrentGlobalSound = PlaySound("General/Channels/Private.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[ORGANIZATIONS]: *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=%1")
    Execute("history_add Organizations=%1")
    CurrentGlobalSound = PlaySound("General/Channels/Organization.ogg")
    Note("[Organizations] %1")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[ORG - *] *"
   omit_from_output="y"
   send_to="14"
   sequence="99"
  >
  <send>
    Execute("history_add All=%2")
    Execute("history_add Organizations=%2")
    CurrentGlobalSound = PlaySound("General/Channels/Organization.ogg")
    Note("[ORG] %2")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[ARENA] *"
   omit_from_output="y"
   send_to="14"
   sequence="99"
  >
  <send>
    Execute("history_add All=%1")
    Execute("history_add Arena=%1")
    CurrentGlobalSound = PlaySound("General/Channels/Arena.ogg")
    Note("[Arena] "..Capitalize(%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[PM from *], *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=[PM] %1: %2")
    Execute("history_add Private Messages=[PM] %1: %2")
    CurrentGlobalSound = PlaySound("General/Channels/PrivateMessage.ogg")
    Note("[PM] %1 to you: %2")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[PM to *], *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=[PM] %1: %2")
    Execute("history_add Private Messages=[PM] %1: %2")
    CurrentGlobalSound = PlaySound("General/Channels/PrivateMessage.ogg")
    Note("[PM] You to %1: %2")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your application has been submitted."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The application console beeps as * complete*submitting an application."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/ScanSuccess.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Thank you for your answer!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Application submitted."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The screen of * hypernet browser with * touchscreen flashes briefly, indicating that *."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/NewsFlash.ogg")
    Note(Capitalize("%4")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^\((.*)\)$"
   regexp="y"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/CameraFeed.ogg")
    if (string.match("%1", "%s*")) then
      Note(Capitalize("%1"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* &quot;* requesting * clearance&quot; into a small microphone mounted on the console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comm/CommChirp1.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* &quot;* requesting * clearance with *&quot; into a small microphone mounted on the console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comm/CommChirp1.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[EVENTS] *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=[Events] "..Capitalize("%1"))
    Execute("history_add Events="..Capitalize("%1")
    if (string.match("%1", "added")) then
      CurrentGlobalSound = PlaySound("General/Hosts/EventsAdded.ogg")
    elseif (string.match("%1", "removed")) then
      CurrentGlobalSound = PlaySound("General/Hosts/EventsRemoved.ogg")
    end
    Note("[Events] "..Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are one or more events scheduled for the near future! To see what's upcoming, type 'events'."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/Events.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Announcement from *: *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=Announcement from %1: %2")
    Execute("history_add GameAnnouncements=Announcement from %1: %2")
    CurrentGlobalSound = PlaySound("General/Hosts/Announcement.ogg")
    Note("Announcement from %1:")
    Note(Capitalize("%2"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[SUB-ANNOUNCEMENT | *]: &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=SubAnnouncement from %1: %2")
    Execute("history_add GameAnnouncements=SubAnnouncement from %1: %2")
    CurrentGlobalSound = PlaySound("General/Hosts/SubAnnouncement.ogg")
    Note("SubAnnouncement from %1:")
    Note(Capitalize("%2"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[Code updates] *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=%1")
    Execute("history_add CodeUpdates=%1")
    CurrentGlobalSound = PlaySound("General/Channels/CodeUpdates.ogg")
    Note("Code Updates:")
    Note(Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[* CHANGES]: &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=%2")
    Execute("history_add GameChanges=%2")
    CurrentGlobalSound = PlaySound("General/Hosts/GameChange"..math.random(1, 2)..".ogg")
    Note("Game Changes:")
    Note(Capitalize("%2"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* crumple*up into a ball and throw*it away."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Paper"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* bullet-proof statue crumples like paper!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Paper"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="In a sudden burst of anger at * bad luck, * tear*a PBS. Inc. lottery ticket up and throw*the pieces away!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Paper"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Attention! There is a new piece of news! The article is titled * and can be found in the category *."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/NewsFlash.ogg")
    Note("A new article titled %1 has been published in the category %2.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* Notice from * *"
   ignore_case="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/NewsFlash.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* End of Notice *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/NewsFlash.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press*a large * button on * wormhole recall remote*"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/ButtonPush.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Suddenly, you feel a pulling sensation behind your shoulderblades, and you are thrown into the swirling depths of a wormhole."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    StopSound(CurrentRoomSound)
    CurrentGlobalSound = PlaySound("General/Misc/Teleported.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* wormhole recall remote says in a synthesized voice, &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="99"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Say.ogg")
    Note("Your wormhole recall remote says: %2")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The monitor on * wormhole transport console flashes the words: *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Say.ogg")
    Note("The monitor on the wormhole transport console flashes the words: %2")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A robotic voice from * wormhole transport console says, &quot;*&quot;."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Say.ogg")
    Note("A robotic voice from %1 wormhole transport console says: %2")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the roar of * starship from outside."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "launching") or string.match("%1", "undocking")) then
      CurrentGlobalSound = PlaySound("Ship/Move/OtherLaunching"..math.random(1, 3)..".ogg")
    elseif (string.match("%1", "landing") or string.match("%1", "docking")) then
      CurrentGlobalSound = PlaySound("Ship/Move/OtherLanding"..math.random(1, 3)..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[Movement]: *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Movement.ogg")
    Note(Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A message is displayed in bright red on the screen, &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All="..Capitalize("%1"))
    Execute("history_add Vehicles="..Capitalize("%1"))
    CurrentGlobalSound = PlaySound("Ship/Computer/Announce"..math.random(1, 7)..".ogg")
    CurrentCombatSound = PlaySound("Combat/Space/OtherDestroyed"..math.random(1, 8)..".ogg")
    Note(Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The computer announces, &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All="..Capitalize("%1"))
    Execute("history_add Computer Announcements="..Capitalize("%1"))
    CurrentGlobalSound = PlaySound("Ship/Computer/Announce"..math.random(1, 7)..".ogg")
    if (string.match(string.lower("%1"), "successfully grabbed")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/Salvage"..math.random(1, 3)..".ogg")
      if (ConfigTable.Settings.GrabbingMessages == false) then
        return
      end
    end
    if (string.match(string.lower("%1"), "beam locked")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/Warning.ogg")
    end
    if (string.match(string.lower("%1"), "valuable material found")) then
      return
    end
    if (string.match(string.lower("%1"), "salvaged")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/Salvage"..math.random(1, 3)..".ogg")
      if (ConfigTable.Settings.SalvagingMessages == false) then
        return
      end
    end
    if (string.match(string.lower("%1"), "target moved")) then
      CurrentCombatSound = PlaySound("Combat/Space/LostLock.ogg")
    end
    if (string.match("%1", "Miss.")) then
      CurrentCombatSound = PlaySound("Combat/Space/LostLock.ogg")
    end
    if (string.match(string.lower("%1"), "this ship transmits")) then
      CurrentGlobalSound = PlaySound("General/Channels/Sector.ogg")
    end
    if (string.match(string.lower("%1"), "powerup complete")) then
      SetStarshipAmbience(CurrentRoomName, "On")
      CurrentGlobalSound = PlaySound("Ship/Misc/PowerOn"..math.random(1, 3)..".ogg")
    end
    if (string.match("%1", "Shutting down")) then
      SetStarshipAmbience(CurrentRoomName, "Off")
      CurrentGlobalSound = PlaySound("Ship/Misc/PowerOff"..math.random(1, 3)..".ogg")
    end
    if string.match(string.lower("%1"), "starship is not equipped with the landing equipment needed to land on asteroids") then
      CurrentGlobalSound = PlaySound("Ship/Move/LandingImpossible.ogg")
    end
    if (string.match(string.lower("%1"), "that component is damaged beyond repair")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/Warning.ogg")
    end
    if (string.match(string.lower("%1"), "recharging")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/BatteryRecharging.ogg")
    end
    if (string.match(string.lower("%1"), "recharge complete")) then
      CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    end
    if (string.match(string.lower("%1"), "beginning the repair of")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/RepairStart.ogg")
    end
    if (string.match(string.lower("%1"), "current repair aborted")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/RepairAborted.ogg")
    end
    if (string.match(string.lower("%1"), "has completed repair of")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/RepairComplete.ogg")
    end
    if (string.match(string.lower("%1"), "missile banks empty")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/Warning.ogg")
    end
    if (string.match(string.lower("%1"), "autopilot engaged")) then
      CurrentGlobalSound = PlaySound("Ship/Move/AutopilotEngaged.ogg")
    end
    if (string.match(string.lower("%1"), "autopilot disengaged")) then
      CurrentGlobalSound = PlaySound("Ship/Move/AutopilotDisengaged.ogg")
    end
    if (string.match(string.lower("%1"), "debris cloud has been completely salvaged")) then
      CurrentGlobalSound = PlaySound("Vehicle/Store.ogg")
    end
    if (string.match(string.lower("%1"), "debris cloud has been partially salvaged")) then
      CurrentGlobalSound = PlaySound("Vehicle/Store.ogg")
    end
    if (string.match(string.lower("%1"), "asteroid empty")) then
      CurrentGlobalSound = PlaySound("General/Asteroid/AsteroidDepleted.ogg")
    end
    if (string.match(string.lower("%1"), "deploying asteroid anchor complete")) then
      CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    end
    if (string.match(string.lower("%1"), "the equipment is non-functional when damaged")) then
      CurrentGlobalSound = PlaySound("Ship/Harvesting/EquipmentDamaged.ogg")
    end
    if (string.match(string.lower("%1"), "no minerals detected")) then
      CurrentGlobalSound = PlaySound("Ship/Harvesting/NoMinerals.ogg")
    end
    if (string.match(string.lower("%1"), "is not equipped for asteroid landing")) then
      CurrentGlobalSound = PlaySound("Ship/Move/LandingImpossible.ogg")
    end
    if (string.match(string.lower("%1"), "landing impossible when")) then
      CurrentGlobalSound = PlaySound("Ship/Move/LandingImpossible.ogg")
    end
    if (string.match(string.lower("%1"), "charge levels reaching critical")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/LowCharge"..math.random(1, 2)..".ogg")
    end
    if (string.match(string.lower("%1"), "storage full")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/StorageFull.ogg")
    end
    if (string.match(string.lower("%1"), "mission access code") and string.match(string.lower("%1"), "accepted")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/PiercingTone.ogg")
    end
    if (string.match("%1", "Deactivating shields")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/ShieldsDeactivation.ogg")
    end
    if (string.match("%1", "Activating shields")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/ShieldsActivation.ogg")
    end
    if (string.match("%1", "Deactivating cloak")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/CloakOff.ogg")
    end
    if (string.match("%1", "Activating cloak")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/CloakOn.ogg")
    end
    if (string.match(string.lower("%1"), "shields activated at")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/ShieldsActivationComplete.ogg")
    end
    if (string.match(string.lower("%1"), "starship probe has inadvertently triggered")) then
      CurrentGlobalSound = PlaySound("Ship/Derelicts/DestructionTriggered.ogg")
    end
    if (string.match(string.lower("%1"), "cannot refine all the material in the storage compartment")) then
      CurrentGlobalSound = PlaySound("Vehicle/RefineryFull.ogg")
    end
    if (string.match(string.lower("%1"), "initiating asteroid haul to")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
      CurrentGlobalSound = PlaySound("Ship/Move/HaulAsteroid"..math.random(1, 2)..".ogg")
    end
    if (string.match(string.lower("%1"), "on shipwreck")) then
      CurrentGlobalSound = PlaySound("General/Shipwrecks/BeamLockedOn.ogg")
    end
    if (string.match(string.lower("%1"), "self-destruct sequence initiated")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/SelfDestructStart.ogg")
    end
    if (string.match(string.lower("%1"), "sixty")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/SelfDestructSixty.ogg")
    end
    if (string.match(string.lower("%1"), "thirty")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/SelfDestructThirty.ogg")
    end
    if (string.match("%1", "Ten.")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/SelfDestructTen.ogg")
    end
    if (string.match("%1", "Five.")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/SelfDestructFive.ogg")
    end
    if (string.match("%1", "Four.")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/SelfDestructFour.ogg")
    end
    if (string.match("%1", "Three.")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/SelfDestructThree.ogg")
    end
    if (string.match("%1", "Two.")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/SelfDestructTwo.ogg")
    end
    if (string.match("%1", "One.")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/SelfDestructOne.ogg")
    end
    if (string.match(string.lower("%1"), "beginning ground dock")) then
      CurrentGlobalSound = PlaySound("Ship/Move/DockingBayDoorOpen.ogg")
    end
    if (string.match(string.lower("%1"), "harvesting aborted") and string.match(string.lower("%1"), "damaged")) then
      CurrentGlobalSound = PlaySound("General/Comets/Explosion.ogg")
    end
    if (string.match(string.lower("%1"), "harvested")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/Salvage"..math.random(1, 3)..".ogg")
      if (ConfigTable.Settings.HarvestingMessages == false) then
        return
      end
    end
    if (string.match(string.lower("%1"), "spacepowerup mode engaged")) then
      SPowerLoop = PlayLoopSound("Ship/Misc/SpacePowerStartup.ogg")
    end
    if (string.match(string.lower("%1"), "spacepowerup mode complete")) then
      StopSound(SPowerLoop)
    end
    if (string.match(string.lower("%1"), "powering down due to lack of charge")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/Warning.ogg")
      CurrentGlobalSound = PlaySound("Ship/Misc/PowerOff"..math.random(1, 3)..".ogg")
      SetStarshipAmbience(CurrentRoomName, "Off")
    end
    if (string.match(string.lower("%1"), "charge running critical")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/LowCharge"..math.random(1, 2)..".ogg")
    end
    if (string.match(string.lower("%1"), "hit on")) then
      CurrentCombatSound = PlaySound("Combat/Space/OtherHit"..math.random(1, 4)..".ogg")
    end
    if (string.match(string.lower("%1"), "Weapon fire blocked by shields")) then
      CurrentCombatSound = PlaySound("Combat/Space/FireReflected.ogg")
    end
    if (string.match(string.lower("%1"), "grenade firing complete")) then
      CurrentGlobalSound = PlaySound("Combat/Ground/GrenadeExplode.ogg")
    end
    if (string.match(string.lower("%1"), "computer piping") and string.match(string.lower("%1"), "enabled")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/PipeOn.ogg")
    end
    if (string.match(string.lower("%1"), "computer piping") and string.match(string.lower("%1"), "disabled")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/PipeOff.ogg")
    end
    if (string.match("%1", "Locked onto")) then
      CurrentCombatSound = PlaySound("Combat/Space/LockedOnOther.ogg")
    end
    if (string.match(string.lower("%1"), "target has moved from the locked coordinates")) then
      CurrentCombatSound = PlaySound("Combat/Space/LostLock.ogg")
    end
    if (string.match(string.lower("%1"), "target out of firing range")) then
      CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
    end
    if (string.match(string.lower("%1"), "detected an attempt to launch the ship while drunk")) then
      CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
    end
    if (string.match(string.lower("%1"), "firing incomplete due to target moving")) then
      CurrentCombatSound = PlaySound("Combat/Space/LostLock.ogg")
    end
    if (string.match(string.lower("%1"), "bad cell")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/BadCell.ogg")
    end
    if (string.match(string.lower("%1"), "firmware upgrade complete")) then
      CurrentGlobalSound = PlaySound("Combat/Space/ArmorPiercingChipDone.ogg")
    end
    if (string.match("%1", "Scanning")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/Scanning.ogg")
    end
    if (string.match(string.lower("%1"), "prepared for future use")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/Prepared.ogg")
    end
    Note(Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The low hum of the shields recharging abruptly ends."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/RepairAborted.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Repair the * first!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You cannot salvage whilst the ship is in motion."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship is currently unable to move."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You should stop the ship before attempting this."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Unlock the beam first."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship's NAVI drive is already engaged."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You can't salvage while navi is running."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Please do not attempt to salvage while your ship is in the midst of probing a derelict starship."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Wait for the acceleration to hyperspace first."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The power controls of this ship are locked due to it being under construction."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The weapons are not powered up."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You can't land while the starship is harvesting."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You cannot deploy probes while the starship is moving."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You cannot salvage while landing."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has begun to generate a field of unrecorded type."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/Inbound.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has begun a power buildup of some kind."
   omit_from_output="y"   
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/PowerBuildUp"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are no * left in the launchers."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Warning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* damaged beyond repair."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Warning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There is inadequate amount of ammunition left in the starship for a reload."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Warning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* the starships salvage scanners, which begin scanning the area for debris."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* begin*to install * into the ships systems."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Report"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* finish*installing *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Report"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The computer reports increased solar activity."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Report"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The computer reports that *"
   omit_from_output="y"
   send_to="14"
   sequence="99"
  >
  <send>
    Execute("history_add All="..Capitalize("%1"))
    Execute("history_add Computer Reports="..Capitalize("%1"))
    CurrentGlobalSound = PlaySound("Ship/Computer/Report"..math.random(1, 4)..".ogg")
    if (string.match(string.lower("%1"), "detected in the sector")) then
      if (string.match("%1", "enemy") or string.match("%1", "enemies")) then
        CurrentGlobalSound = PlaySound("Ship/Computer/EnemyDetected.ogg")
      end
      if (string.match("%0", "artifact")) then
        CurrentGlobalSound = PlaySound("Ship/Computer/Artifact.ogg")
      end
      if (string.match("%1", "friendly")) then
        CurrentGlobalSound = PlaySound("Ship/Computer/FriendlyShip.ogg")
      end
      if (string.match(string.lower("%1"), "a relic")) then
        CurrentGlobalSound = PlaySound("Ship/Computer/Relic.ogg")
      end
      if (string.match(string.lower("%1"), "a comet ")) then
        CurrentGlobalSound = PlaySound("Ship/Computer/Comet.ogg")
      end
      if (string.match(string.lower("%1"), "a shipwreck")) then
        CurrentGlobalSound = PlaySound("Ship/Computer/Shipwreck.ogg")
      end
      if (string.match("%1", "planet")) then
        CurrentGlobalSound = PlaySound("Ship/Computer/Planet.ogg")
      end
      if (string.match("%1", "spacestation")) then
        CurrentGlobalSound = PlaySound("Ship/Computer/SpaceStation.ogg")
      end
      if (string.match(string.lower("%1"), "a star ")) then
        CurrentGlobalSound = PlaySound("Ship/Computer/Star.ogg")
      end
      if (string.match(string.lower("%1"), "a derelict")) then
        CurrentGlobalSound = PlaySound("Ship/Derelicts/AlienStarship.ogg")
      end
    end
    if (string.match("%1", "there is no debris")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/NoDebris.ogg")
    end
    if (string.match("%1", "is 1 unit away from this ship")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/OneUnitAway.ogg")
    end
    if (string.match("%1", "destroyed")) then
      CurrentCombatSound = PlaySound("Combat/Space/OtherDestroyed"..math.random(1, 8)..".ogg")
    end
    if (string.match("%1", "starship probe") and string.match("%1", "been deployed")) then
      CurrentGlobalSound = PlaySound("Ship/Derelicts/Probe"..math.random(1, 3)..".ogg")
    end
    if (string.match("%1", "starship probe has discovered an artifact")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/Artifact.ogg")
    end
    if (string.match("%1", "starship probe") and string.match("%1", "returned to the ship")) then
      CurrentGlobalSound = PlaySound("Ship/Derelicts/ProbeReturn.ogg")
    end
    if (string.match("%1", "no space for the debris")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/StorageFull.ogg")
    end
    Note(Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The computer emits a piercing tone, alerting you that a starship has been detected in the sector's boundries."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/PiercingTone.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum of the recharge falls silent as the batteries of the vehicle become full."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear an odd whoosh as the stored charge is discarded."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    Note("Charge discarded.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum subsides and finally falls silent as the batteries finish recharging."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    Note("Recharge complete.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear several loud thuds as a salvaging line is deployed into space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/DeploySalvage.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* in-ship recharging station beeps, indicating that it's low on charge."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/OvenBeep.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press*a button on * toilet, flushing it."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/ToiletFlush.ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* turn*sink on and * washing * hands."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/WashingHands.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is carried into the room in the center of a flaming circle."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/FireBolt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* reforms into the legendary human wizard... And disappears in a circle of flames!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/FlameVanish.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* suddenly steps from the background."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/HostIn"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* suddenly seems to disappear into the background."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/HostOut"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[SECTOR COMMUNICATION] *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=%1")
    Execute("history_add General Sector Communication=%1")
    CurrentGlobalSound = PlaySound("General/Channels/Sector.ogg")
    Note("[Sector] %1")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A speaker on the communication console crackles to life, and you hear * transmitting from *, *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=%2, %1 transmits, %3")
    Execute("history_add General Sector Communication=%2, %1 transmits, %3")
    CurrentGlobalSound = PlaySound("General/Channels/Sector.ogg")
    Note("[Sector] %2, %1 transmits, %3.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* say*into a small microphone mounted on the console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comm/CommChirp1.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has restored you to full health!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Health.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="#$#*"
   omit_from_log="y"
   omit_from_output="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="*The server will be shut down by * in *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/Announcement.ogg")
    Note(Trim(string.gsub("%0", "*", "")))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* Shutting down: *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/Announcement.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Number of new announcements since last visit: *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/Announcement.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="New changes have been made since your last visit. Use @changes to view."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/GameChange"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Please do not command stack."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Warning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Checking to see if your * is broken..."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Checking movement..."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your roundtime is broken... Please wait a moment."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Note("Please wait a few seconds.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your * was broken... Fixing..."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Note("Fixing...")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Movement fixed."
   send_to="12"
   sequence="100"
  >
  <send>
    if (ConfigTable.Settings.Roundtime == true) then
      CurrentGlobalSound = PlaySound("General/Misc/Roundtime.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Fixed."
   send_to="12"
   sequence="100"
  >
  <send>
    if (ConfigTable.Settings.Roundtime == true) then
      CurrentGlobalSound = PlaySound("General/Misc/Roundtime.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Roundtime fixed."
   send_to="12"
   sequence="100"
  >
  <send>
    if (ConfigTable.Settings.Roundtime == true) then
      CurrentGlobalSound = PlaySound("General/Misc/Roundtime.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(\d+) (seconds|second) roundtime\.$"
   regexp="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (ConfigTable.Settings.Roundtime == true) then
      CurrentGlobalSound = DoAfterSpecial("%1", 'PlaySound("General/Misc/Roundtime.ogg")', sendto.script)
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[INFO]: *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=%1")
    Execute("history_add Info=%1")
    Note("[Info] "..Capitalize("%1"))
    if (string.match("%1", "entered the game")) then
      CurrentGlobalSound = PlaySound("General/Misc/LoggedOn.ogg")
    elseif (string.match("%1", "left the game")) then
      CurrentGlobalSound = PlaySound("General/Misc/LoggedOff.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[Chatcomm] *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=%1")
    Execute("history_add ChatComm=%1")
    CurrentGlobalSound = PlaySound("General/Channels/ChatComm.ogg")
    Note("[ChatComm] %1")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[AUCTION] *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=%1")
    Execute("history_add Auction=%1")
    CurrentGlobalSound = PlaySound("General/Channels/Auction.ogg")
    Note("[Auction] %1")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[SYSTEM ANNOUNCEMENTS]: *"
   omit_from_output="y"
   send_to="14"
   sequence="99"
  >
  <send>
    Execute("history_add All=%1")
    Execute("history_add System Announcements=%1")
    CurrentGlobalSound = PlaySound("General/Hosts/System.ogg")
    Note("[System Announcements] %1")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[LEVELS]: *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=[Levels] %1")
    Execute("history_add Levels=%1")
    CurrentGlobalSound = PlaySound("General/Channels/Levels.ogg")
    Note("[Levels] "..Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You raise your status to *!"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=%0")
    Execute("history_add Levels=%0")
    CurrentGlobalSound = PlaySound("General/Misc/LevelUp.ogg")
    Note("Your level is now %1! Congratulations!")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="No shipwrecks found. Cannot continue grabbing process."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Hyperspace drive could not be activated due to the vessle being in motion."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The sublight drive is still recharging: * remaining."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are no objects *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/NothingHere.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Can't find *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/NothingHere.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="No matching objects to &quot;*&quot;."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/NothingHere.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="That target is no longer here."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship is already salvaging."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * is already firing."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* WELCOME BACK TO PROMETHEUS! *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/LoggedOn.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* Redirecting connection to this port... *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/LoggedOn.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[attacks] info-bot transmits, *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=%1")
    Execute("history_add Attacks=%1")
    CurrentGlobalSound = PlaySound("General/Comm/Attacks.ogg")
    Note("[Attacks] "..Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[Commpipe] *"
   omit_from_output="y"
   send_to="14"
   sequence="99"
  >
  <send>
    if (string.match(string.lower("%1"), "salvaged") or string.match(string.lower("%1"), "harvested") or string.match(string.lower("%1"), "grabbed") or string.match(string.lower("%1"), "valuable material found")) then
      return
    elseif (string.match(string.lower("%1"), "powering down due to lack of charge")) then
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      Note("[CommPipe] "..Capitalize("%1"))
      CurrentGlobalSound = PlaySound("Ship/Computer/LowCharge"..math.random(1, 2)..".ogg")
    elseif (string.match(string.lower("%1"), "no minerals detected")) then
      return
    elseif (string.match(string.lower("%1"), "beam locked")) then
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      CurrentGlobalSound = PlaySound("Ship/Misc/Warning.ogg")
      CurrentGlobalSound = PlaySound("General/Channels/CommPipe.ogg")
      Note("[CommPipe] "..Capitalize("%1"))
    elseif (string.match("%1", "enemy")) then
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      CurrentGlobalSound = PlaySound("Ship/Computer/EnemyDetected.ogg")
      CurrentGlobalSound = PlaySound("General/Channels/CommPipe.ogg")
      Note("[CommPipe] "..Capitalize("%1"))
    elseif (string.match("%0", "artifact")) then
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      CurrentGlobalSound = PlaySound("Ship/Computer/Artifact.ogg")
      CurrentGlobalSound = PlaySound("General/Channels/CommPipe.ogg")
      Note("[CommPipe] "..Capitalize("%1"))
    elseif (string.match("%1", "friendly")) then
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      CurrentGlobalSound = PlaySound("Ship/Computer/FriendlyShip.ogg")
      CurrentGlobalSound = PlaySound("General/Channels/CommPipe.ogg")
      Note("[CommPipe] "..Capitalize("%1"))
    elseif (string.match(string.lower("%1"), "a relic")) then
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      CurrentGlobalSound = PlaySound("Ship/Computer/Relic.ogg")
      CurrentGlobalSound = PlaySound("General/Channels/CommPipe.ogg")
      Note("[CommPipe] "..Capitalize("%1"))
    elseif (string.match(string.lower("%1"), "a comet")) then
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      CurrentGlobalSound = PlaySound("Ship/Computer/Comet.ogg")
      CurrentGlobalSound = PlaySound("General/Channels/CommPipe.ogg")
      Note("[CommPipe] "..Capitalize("%1"))
    elseif (string.match(string.lower("%1"), "a shipwreck")) then
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      CurrentGlobalSound = PlaySound("Ship/Computer/Shipwreck.ogg")
      CurrentGlobalSound = PlaySound("General/Channels/CommPipe.ogg")
      Note("[CommPipe] "..Capitalize("%1"))
    elseif (string.match(string.lower("%1"), "the beam stops abruptly")) then
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      CurrentGlobalSound = PlaySound("Ship/Comm/Warning.ogg")
      CurrentGlobalSound = PlaySound("General/Channels/CommPipe.ogg")
      Note("[CommPipe] "..Capitalize("%1"))
    elseif (string.match("%1", "planet")) then
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      CurrentGlobalSound = PlaySound("Ship/Computer/Planet.ogg")
      CurrentGlobalSound = PlaySound("General/Channels/CommPipe.ogg")
      Note("[CommPipe] "..Capitalize("%1"))
    elseif (string.match("%1", "space station")) then
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      CurrentGlobalSound = PlaySound("Ship/Computer/SpaceStation.ogg")
      CurrentGlobalSound = PlaySound("General/Channels/CommPipe.ogg")
      Note("[CommPipe] "..Capitalize("%1"))
    elseif (string.match(string.lower("%1"), "a star ")) then
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      CurrentGlobalSound = PlaySound("Ship/Computer/Star.ogg")
      CurrentGlobalSound = PlaySound("General/Channels/CommPipe.ogg")
      Note("[CommPipe] "..Capitalize("%1"))
    elseif ((string.match(string.lower("%1"), "a derelict")) and (string.match("%1", "detected"))) then
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      CurrentGlobalSound = PlaySound("Ship/Derelicts/AlienStarship.ogg")
      CurrentGlobalSound = PlaySound("General/Channels/CommPipe.ogg")
      Note("[CommPipe] "..Capitalize("%1"))
    elseif (string.match(string.lower("%1"), "asteroid empty")) then
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      CurrentGlobalSound = PlaySound("General/Asteroid/AsteroidDepleted.ogg")
      CurrentGlobalSound = PlaySound("General/Channels/CommPipe.ogg")
      Note("[CommPipe] "..Capitalize("%1"))
    elseif ((string.match(string.lower("%1"), "warning")) or (string.match(string.lower("%1"), "aborting"))) then
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      CurrentGlobalSound = PlaySound("Ship/Comm/Warning.ogg")
      CurrentGlobalSound = PlaySound("General/Channels/CommPipe.ogg")
      Note("[CommPipe] "..Capitalize("%1"))
    elseif (string.match(string.lower("%1"), "excavation cannot continue due to the equipment being damaged")) then
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      CurrentGlobalSound = PlaySound("Ship/Comm/Warning.ogg")
      CurrentGlobalSound = PlaySound("General/Channels/CommPipe.ogg")
      Note("[CommPipe] "..Capitalize("%1"))
    else
      Execute("history_add All=%1")
      Execute("history_add CommPipe=%1")
      CurrentGlobalSound = PlaySound("General/Channels/CommPipe.ogg")
      Note("[CommPipe] "..Capitalize("%1"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[FLIGHT CONTROL], &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=Flight Control: "..Capitalize("%1"))
    Execute("history_add Flight Control="..Capitalize("%1"))
    CurrentGlobalSound = PlaySound("General/Comm/FlightControl.ogg")
    Note(Capitalize("%1"))
    if (string.match("%1", "static")) then
      CurrentGlobalSound = PlaySound("General/Comm/Static"..math.random(1, 5)..".ogg")
    elseif (string.match(string.lower("%1"), "ground on")) then
      CurrentGlobalSound = PlaySound("Combat/Ground/GroundTroops.ogg")
    elseif (string.match(string.lower("%1"), "enemies are forcing a landing")) then
      CurrentGlobalSound = PlaySound("General/Comm/FlightControlForcedLanding.ogg")
    elseif (string.match("%1", "Forced landing at")) then
      CurrentGlobalSound = PlaySound("General/Comm/FlightControlForcedLanding.ogg")
    elseif (string.match("%1", "Detecting") and string.match("%1", "at")) then
      CurrentGlobalSound = PlaySound("General/Comm/FlightControlEnemiesEntering.ogg")
    elseif (string.match("%1", "We detect a pack of enemys on the way")) then
      CurrentGlobalSound = PlaySound("General/Comm/FlightControlEnemiesEntering.ogg")
    elseif (string.match("%1", "ships are retreating")) then
      CurrentGlobalSound = PlaySound("General/Comm/FlightControlEnemiesRetreating.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You ask * if * would like to establish a private communications link."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=You ask %1 for a link.")
    Execute("history_add Private Communication=You ask %1 for a link.")
    CurrentGlobalSound = PlaySound("General/Misc/Prompt.ogg")
    Note("You ask %1 for a link.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your * emits a confirmational tone as the private link with * is established."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=Link with %1 confirmed.")
    Execute("history_add Private Communication=Link with %1 confirmed.")
    CurrentGlobalSound = PlaySound("General/Comm/LinkConfirmed.ogg")
    Note("Link with %1 confirmed.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You deny * request for a communications link."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=Link with %1 denied.")
    Execute("history_add Private Communication=Link with %1 denied.")
    CurrentGlobalSound = PlaySound("General/Comm/LinkDenied.ogg")
    Note("Link with %1 denied.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* denies your request."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=Your link with %1 has been denied.")
    Execute("history_add Private Communication=Your link with %1 has been denied.")
    CurrentGlobalSound = PlaySound("General/Comm/LinkDenied.ogg")
    Note("Your link with %1 has been denied.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has deleted * communications link with you."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=Your link with %1 has been removed.")
    Execute("history_add Private Communication=Your link with %1 has been removed.")
    CurrentGlobalSound = PlaySound("General/Comm/LinkConfirmed.ogg")
    Note("Link with %1 has been removed.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You delete your communications link with *\."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=You removed your link with %1")
    Execute("history_add Private Communication=You removed your link with %1")
    CurrentGlobalSound = PlaySound("General/Comm/LinkConfirmed.ogg")
    Note("Link with %1 has been removed.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your * flashes a message, indicating that the remote link with its starship has been lost due to *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comm/LinkConfirmed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The screen of * with * screen and * switches flashes briefly, indicating that a new link to a starship has been established."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comm/LinkConfirmed.ogg")
    Note("A new starship link has been established.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* private communications are disabled."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comm/Disabled.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A new poll has been opened. Use vote to answer it."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Poll.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your vote has been recorded! Thank you for voting!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The polls are now closed. They will be re-opened when the results are tallied."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your hypernet browser flashes briefly, notifying you that you have new mail!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/NewMail.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The screen of * hypernet browser with * touchscreen flashes briefly, indicating that there is new hypermail waiting for you."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/NewMail.ogg")
    Note("A new hypermail is waiting for you.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="ROOC: &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All="..Capitalize(Trim("%1")))
    Execute("history_add Room OOC="..Capitalize(Trim("%1")))
    CurrentGlobalSound = PlaySound("General/Misc/Room_OOC.ogg")
    Note("ROOC: "..Capitalize(Trim("%1")))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* pull*a series of straps around * and securely buckle* into * seat."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Buckle"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* release*the buckle of * seatbelt, causing it to retract back into * seat."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Unbuckle"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A small speaker on * suddenly emits a loud burst of static."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comm/Static"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* with * suddenly emits a painfully loud burst of static. After a few moments, it subsides a bit, and a synthesized voice breaks through the static, saying: *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comm/Static"..math.random(1, 5)..".ogg")
    Note("Through the static, with a synthesized voice saying: %3")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press*a button to retrieve the remaining prob*"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/ButtonPush.ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press*a button to stop the ongoing harvest."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/ButtonPush.ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* quickly doubletap*a button on top of *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/MiniKeyboard.ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press*a button on top of *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/ButtonPush.ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* stand*up*."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/StandUp.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* gently place*on *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Lie.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* sit*down on *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Sit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="&gt;&gt; Command Aborted &lt;&lt;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
    Note("Aborted.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Buying less than one? Nice try!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Invalid*"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Oops, wrong amount!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* tr*to enter*, but * turned away by the locked hatch."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/CantGo"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* push*a button, *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/ButtonPush.ogg")
    if (string.match("%3", "enabling")) then
      CurrentGlobalSound = PlaySound("General/Devices/Activate.ogg")
    end
    if (string.match("%3", "disabling")) then
      CurrentGlobalSound = PlaySound("General/Devices/Deactivate.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press*a button, *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/ButtonPush.ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* flick*a switch on * the * channel."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%3", "enabling")) then
      CurrentGlobalSound = PlaySound("General/Devices/Activate.ogg")
    elseif (string.match("%3", "disabling")) then
      CurrentGlobalSound = PlaySound("General/Devices/Deactivate.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You connect to the * channel."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/Activate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You disconnect from the * channel."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/Deactivate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="AFK notifications *"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "enabled")) then
      CurrentGlobalSound = PlaySound("General/Devices/Activate.ogg")
    elseif (string.match("%1", "disabled")) then
      CurrentGlobalSound = PlaySound("General/Devices/Deactivate.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* flick*switch on * and *, *"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%5", "enabling")) then
      CurrentGlobalSound = PlaySound("General/Devices/Activate.ogg")
    elseif (string.match("%5", "disabling")) then
      CurrentGlobalSound = PlaySound("General/Devices/Deactivate.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="*[Enter *yes* or *no*]"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[Type *, *]"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are more than one matches to that argument in your links. Please be more specific."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You exchange * credits for *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You sell * for * credits."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You deposit * credits into *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You withdraw * credits from *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="CONGRATULATIONS! You won * credits!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You receive a * of * credits."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You have * credits on hand and * bank credits."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/ViewInfo.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You need * more points before you can raise your status."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/ViewInfo.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You are * credits in debt."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/ViewInfo.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You are given a loan of * credits. You are now * credits in debt. The loan increased your cash on hand by *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You pay * credits * of your debt."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Transaction complete."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your * informs you that * credits (* of current account balance) has been transfered to your account by *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="I don't understand that."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Command"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[SHIP CONSTRUCTION]: &quot;A new starship has been constructed: * by *. Model type: *.&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    message = "[ShipConstructions] A new %3 starship '%1' has been built by %2."
    Execute("history_add All="..message)
    Execute("history_add ShipConstructions="..message)
    CurrentGlobalSound = PlaySound("General/Comm/Notify.ogg")
    CurrentGlobalSound = PlaySound("General/Misc/NewsFlash.ogg")
    Note(message)
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(You holster|.* holsters) .*$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/Unwield.ogg")
    CurrentGlobalSound = PlaySound("Combat/Ground/Holster.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* deftly draw*from * weapon holster clipped to * weapon belt with * clips."
   send_to="12"
   sequence="100"
  >
  <send>
    for g = 1, #guns do
      if (string.match(string.lower("%2"), string.lower(guns[g]))) then
        CurrentGlobalSound = PlaySound("Combat/Ground/Draw"..Capitalize(guns[g])..".ogg")
        CurrentGlobalSound = PlaySound("Combat/Ground/Wield"..math.random(1, 5)..".ogg")
      end
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* lock*the vehicle."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Lock.ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* unlock*the vehicle."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Unlock.ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* securely bolt* so it cannot be moved."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Asteroid/AnchorStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* remove*the bolts from * and pick*it up."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Asteroid/AnchorRemove.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press*a button on * chair with *, *"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%5", "leaning it back")) then
      CurrentGlobalSound = PlaySound("General/Misc/Chair1.ogg")
    elseif (string.match("%5", "leaning it forward")) then
      CurrentGlobalSound = PlaySound("General/Misc/Chair2.ogg")
    elseif (string.match("%5", "ing it")) then
      CurrentGlobalSound = PlaySound("General/Misc/Chair3.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You notice a faint hum as the starship orients its asteroid anchor into place."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
    CurrentGlobalSound = PlaySound("General/Asteroid/AnchorStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a whirring coming from beneath you, followed by a loud click as the ship's asteroid anchor is drilled securely into the asteroid."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Asteroid/AnchorEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a sharp scraping sound and look out to notice the asteroid anchor being removed from the solid rock."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Asteroid/AnchorRemove.ogg")
    Note("Anchors removed.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* begin*maneuvering the starship onto an asteroid."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/LandAsteroid.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* tap*a series of buttons, * the starship's power."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* tap*the unlock button on the grabbing console, causing the locked cutting beam to begin moving again."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship lurches as a powerful cutting beam is launched into space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/SalvageLaunch.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press*some buttons on * with *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/MiniKeyboard.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You tap some buttons on * hypernet browser with * touchscreen and the screen flashes, '*'"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/MiniKeyboard.ogg")
    Note("%3")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Sorry, but your guess was wrong. *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Note(Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* carefully slide*into *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Archaeology/Container.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You put * into * container*"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Archaeology/Container.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Through the window, you watch a starship probe remove a section of hull with its industrial-strength drill and saw attachments, just large enough for it to enter the ship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Derelicts/ProbeDrill.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Displaying docked starships:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Debris scanner report for the current sector:"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Items in the storage compartment:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There is no trash in the storage compartment. The size of the storage compartment is * units."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Combat mission"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Record for *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Available starship probes: *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship has * armor piercing shells left."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There is no debris to refine."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Nothing is currently being constructed."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Defense system information for *:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The following items are in the cargo hold:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * hold contains * units of debris out of a maximum of *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There is nothing in the * hold. *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
    Note(Capitalize("%2"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Available units of refined material: * out of *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The refinery tanks are * full *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear several loud thuds as automated drones remove cargo from the storage room."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/TransferStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A drone loads * onto its platform and carries it away."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Transfer"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The thuds coming from *."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/TransferEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The clicks abruptly stop as the transfer finishes."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/TransferEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A loud thud can be heard from the storage room as a piece of debris is deposited by the salvaging line."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Salvage"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You retrieve a weapons status readout."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Status for *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Charge readout:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Security status for *:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Engine Speed: *"
   ignore_case="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="No * are damaged."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Starship component Damage:"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Weapon Damage:"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A weapon is already being repaired."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press*a few keys on a console, * the * alert."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
    if (string.match("%3", "enabling")) then
      CurrentGlobalSound = PlaySound("General/Devices/Activate.ogg")
    elseif (string.match("%3", "disabling")) then
      CurrentGlobalSound = PlaySound("General/Devices/Deactivate.ogg")
    end
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* pull*up an image of the starship's status report on a screen built-into the main control board."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* furiously input*into a weapon locking console."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a thrumming pulse through the deck beneath you as the shields activate."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/Shields.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a slight vibration from the ship as it strengthens the shields around the ship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/Reflectors"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The plates around the hull orient themselves, deflecting the solar mass."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/Reflectors"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The pulsing slowly fades away as the shields around the ship deactivate."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/Shields.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Input the amount of defense units to be used for *. The maximum at the moment is *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear several sliding noises as the reflector plates *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "surround the hull")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/PanelsOn.ogg")
    end
    if (string.match("%1", "around the hull are retracted")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/PanelsOff.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear several sliding noises followed by loud clangs as armor plates *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "retract back into the hull")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/PanelsOff.ogg")
    end
    if (string.match("%1", "slot themselves into place")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/PanelsOn.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a barely audible vibration followed by a loud click as the solar-wind receptors snap into place around the ship."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/PanelsOn.ogg")
    Note("Solar-wind receptors enabled.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a barely audible vibration followed by a booming click sound as the solar-wind receptors retract back into the ship."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/PanelsOff.ogg")
    Note("Solar-wind receptors disabled.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a vibration as the solar recharge completes an the solar receptors retract back into the ship with an audible click."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/PanelsOff.ogg")
    Note("Recharge process complete.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a slight whirring noise as the starship adjusts the reflector field around the ship."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/Reflectors"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship shakes slightly as rebounded weapons fire impacts the hull."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/Reflectors"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship rocks slightly as planetary lasers impact the hull from *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
    CurrentCombatSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
    CurrentCombatSound = PlaySound("Combat/Space/Reflectors"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear some clangs and drilling sounds as the replacement * is installed."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/ReplacingComponent.ogg")
    Note("Replacement %1 is installed.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You're not in space!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/NotInSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You should be in space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/NotInSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * isn't in space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/NotInSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is not in space."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/NotInSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * is not in the required conditions to use this function."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/NotInSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * should be in space before * wormhole transport console may be activated."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/NotInSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* to autopilot first."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* to manual pilot first."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship is already moving."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Hyperspace jumps cannot be aborted."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * is already in that sector."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * is not moving."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * is already moving."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You're already there."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Hyperspace jump not possible while shielded."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The launchers do not need reloading."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are still * left in the banks."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Invalid coordinates. Range: * to *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has * the sector."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%2", "entered")) then
      CurrentGlobalSound = PlaySound("Ship/Move/EnterSector"..math.random(1, 2)..".ogg")
    elseif (string.match("%2", "jumped into")) then
      CurrentGlobalSound = PlaySound("Ship/Move/EnterSector"..math.random(1, 2)..".ogg")
    elseif (string.match("%2", "left")) then
      CurrentGlobalSound = PlaySound("Ship/Move/ExitSector"..math.random(1, 2)..".ogg")
    elseif (string.match("%2", "jumped out of")) then
      CurrentGlobalSound = PlaySound("Ship/Move/ExitSector"..math.random(1, 2)..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has * the sector through an unrecorded field."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "X-Loritan") and string.match("%2", "entered")) then
      CurrentGlobalSound = PlaySound("Ship/Move/EnterSector"..math.random(1, 2)..".ogg")
      CurrentGlobalSound = PlaySound("Ship/Computer/EnemyDetected.ogg")
    elseif (string.match("%2", "jumped into")) then
      CurrentGlobalSound = PlaySound("Ship/Move/EnterSector"..math.random(1, 2)..".ogg")
    elseif (string.match("%2", "left")) then
      CurrentGlobalSound = PlaySound("Ship/Move/ExitSector"..math.random(1, 2)..".ogg")
    elseif (string.match("%1", "X-Loritan") and string.match("%2", "jumped out of")) then
      CurrentGlobalSound = PlaySound("Ship/Move/ExitSector"..math.random(1, 2)..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has * hyperspace."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%2", "entered")) then
      CurrentGlobalSound = PlaySound("Ship/Move/ExitSector"..math.random(1, 2)..".ogg")
    elseif (string.match("%2", "exitted")) then
      CurrentGlobalSound = PlaySound("Ship/Move/EnterSector"..math.random(1, 2)..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has * stargate."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%2", "entered")) then
      CurrentGlobalSound = PlaySound("Ship/Move/ExitSector"..math.random(1, 2)..".ogg")
    elseif (string.match("%2", "exitted")) then
      CurrentGlobalSound = PlaySound("Ship/Move/EnterSector"..math.random(1, 2)..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A chime sounds, indicating that somebody has entered an airlock."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/AirlockChime.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a humming noise as the docking bay door opens."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/DockingBayDoorOpen.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a slight jolt as the ship begins to move through the open bay door, and into open space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/DockingBayDoorOpen.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a slight jolt as the other ship begins to move through the open bay door, and into open space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/DockingBayDoorOpen.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a faint vibration coming from the direction of the ships docking bay."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/DockingBayDoorOpen.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a humming noise as the docking bay door closes."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/DockingBayDoorClose.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a slight pull as the ship is expeled from the docking bay."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/DockingBayDoorClose.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a slight jolt as the ship sets down in a docking bay."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/DockingBayDoorClose.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* make*some selections on the docking console. The red light turns to yellow."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/MiniKeyboard.ogg")
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Choosing * (Status: powered *)."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/MiniKeyboard.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A red light on the docking console turns on."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The yellow light turns to green."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The smooth hum of the engines builds up a bit as the ship begins moving."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/Accelerate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum of the engines settles down as the ship stops moving."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/Decelerate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the sound of the ship's engine as you are propelled toward space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/YouLaunch"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel the starship accelerate as it moves toward a *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/YouLand"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="That space is occupied."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/SameSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Those coordinates are occupied by this ship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/SameSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the dull roar as the ship's sublight drive propels the ship toward its destination."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/SublightExt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has initiated an intrasector sublight jump."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/SublightExt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The dull roar of the sublight drive fades away as the ship reaches a destination."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Background"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="(PA) *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=%1")
    Execute("history_add Public Announcements=%1")
    CurrentGlobalSound = PlaySound("Ship/Comm/PA"..math.random(1, 9)..".ogg")
    Note("[PA] "..Capitalize(Trim("%1")))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="From * speaker on *, you hear * say, *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=[EXT] %2, %3 says: %4")
    Execute("history_add Public Announcements=[EXT] %2, %3 says: %4")
    CurrentGlobalSound = PlaySound("Ship/Comm/PA"..math.random(1, 9)..".ogg")
    Note("[EXT] %2, %3 says: %4")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You say &quot;*&quot; into an external PA microphone."
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=[EXT] You say: %1")
    Execute("history_add Public Announcements=[EXT] You say: %1")
    CurrentGlobalSound = PlaySound("Ship/Comm/PA"..math.random(1, 9)..".ogg")
    Note("[EXT] %2, %3 says: %4")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* a button, * the * viewscreen."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%2", "enabling")) then
      CurrentGlobalSound = PlaySound("General/Devices/Activate.ogg")
    end
    if (string.match("%2", "disabling")) then
      CurrentGlobalSound = PlaySound("General/Devices/Deactivate.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* float*out into space."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "you")) then
      SetStarshipAmbience("%2", "%3")
      CurrentGlobalSound = PlaySound("Ship/Misc/AirlockExit.ogg")
    else
      CurrentGlobalSound = PlaySound("Ship/Misc/AirlockExit.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* out of the ship's hatch."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "you")) then
      SetStarshipAmbience("%2", "%3")
    end
    CurrentGlobalSound = PlaySound("Ship/Misc/AirlockExit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* snatch*from the cold, cruel hands of space."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/SnatchArtifact"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* place*hand against a sensor on * and *."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "you")) then
      SetStarshipAmbience("%2", "%3")
      SetSpaceAmbience("space")
      CurrentGlobalSound = PlaySound("Ship/Misc/AirlockEnter.ogg")
    else
      CurrentGlobalSound = PlaySound("Ship/Misc/Hatch4.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* out from the hatch of *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/AirlockExit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* board*through the unlocked hatch."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "you")) then
      SetStarshipAmbience("%2", "%3")
      SetSpaceAmbience("space")
      CurrentGlobalSound = PlaySound("Ship/Misc/AirlockEnter.ogg")
    else
      CurrentGlobalSound = PlaySound("Ship/Misc/Hatch4.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* walk*out into space."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "you")) then
      SetSpaceAmbience("space")
      CurrentGlobalSound = PlaySound("Ship/Misc/AirlockExit.ogg")
    else
      CurrentGlobalSound = PlaySound("Ship/Misc/AirlockExit.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* place* UTF-Issue hatch cracker against *, and press a few buttons. The device's AI immediately begins to hack  into the vehicle's security systems."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/HatchCracking/HatchCrackStart.ogg")
    CurrentGlobalSound = PlaySound("Ship/HatchCracking/WaitForCrack.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* UTF-Issue hatch cracker displays, &quot;Warning, a virus has been transmitted to this device!&quot;"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/HatchCracking/HatchCrackFailStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* UTF-Issue hatch cracker begins to spray sparks and glow omenously, then explodes in your hand!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/HatchCracking/HatchCrackFailEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="In no time at all, * UTF-Issue hatch cracker's AI has totally overpowered * security system and unlocked the airlock."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/HatchCracking/HatchCrackEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You put your hands around * hatch repair drone and squeeze."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/HatchCracking/ActivateHatchRepairDrone.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* hatch repair drone unfolds slowly, revealing a wide aray of tools. It begins its work with a loud racket."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/HatchCracking/HatchRepairDroneActivationResponse.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* hatch repair drone replaces a broken hatch component with a spare."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/HatchCracking/ReplacePartWithSpare.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* hatch repair drone connects to the computer and rewrites some infected code."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/HatchCracking/ConnectAndRewrite.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* hatch repair drone welds some metal together."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/HatchCracking/Welding.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* hatch repair drone hammers some metal bits back into place."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/HatchCracking/HammerMetal.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* hatch repair drone, its work complete, folds back up into a small ball."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/HatchCracking/DeactivateHatchRepairDrone.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum in the background builds up a bit as the pressurizing systems prepare for shutdown."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/CycleStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum dies down as the pressurizing system shutdown completes."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/AirEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A low, almost unnoticeable hum becomes audible in the background as the pressurizing systems are activated."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/AirStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A voice comes over the speaker and says, &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comm/CommChirp2.ogg")
    Note(Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A voice announces, &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comm/CommChirp2.ogg")
    Note(Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* flick*a small switch on *, *"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%4", "enabling")) then
      CurrentGlobalSound = PlaySound("General/Devices/Activate.ogg")
    end
    if (string.match("%4", "disabling")) then
      CurrentGlobalSound = PlaySound("General/Devices/Deactivate.ogg")
    end
    if (string.match("%4", "tuning its frequency")) then
      CurrentGlobalSound = PlaySound("General/Comm/Tune.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* flick*a small switch on a control panel."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/CameraFeed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* pass*in front of * and look*at the display."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/HandheldScanner.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* flick*a switch, turning * the ship's radio microphone."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%3", "on")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/RadioOn.ogg")
    end
    if (string.match("%3", "off")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/RadioOff.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* indicate*to * that * wish*for * to follow *, which * promptly *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/GroupJoin.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Upon request, * begin*following *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/GroupJoin.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You follow *"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%0"), "you")) then
      StopSound(CurrentRoomSound)
    end
    CurrentGlobalSound = PlaySound("General/Misc/GroupFollow.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* follow*you into the area."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/GroupFollow.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* request*that * no longer follow *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/GroupDisband.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* ha*wandered away from * group."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/GroupDisband.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* start*following *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/GroupJoin.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* stop*following *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/GroupDisband.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* disband*group."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/GroupDisband.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The defense shields strengthen for a moment to block weapon fire."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/FireReflected.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shakes violently as a powerful laser beam is reflected back at it!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/FireReflected.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="This * has been hit by *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shakes as if hit by something!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shakes violently as a projectile comes in contact with it and explodes!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship is hit by a massive energy beam!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shudders as it begins to explode. You are thrown into the wall with force you could never believe possible, and then you find yourself somewhere else."
   send_to="12"
   sequence="100"
  >
  <send>
    for i = 1, 3 do
      CurrentCombatSound = PlaySound("Combat/Space/YouDestroyed"..i..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The reflection plates around the ship orient themselves, successfully throwing the beam away."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/Deflect.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a gentle hum as the weapons power up."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/RedStart.ogg")
    CurrentCombatSound = PlaySound("Combat/Space/WeaponsOn.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A loud klaxon sounds as red lights continue to flash overhead."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/RedAlert.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The walls and ceiling continue to pulse a crimson color as loud klaxons scream their warnings."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/RedAlert.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Red alert lights come to life as the starship is attacked by an opponent."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/RedStart.ogg")
    CurrentCombatSound = PlaySound("Combat/Space/WeaponsOn.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The walls and ceiling suddenly start glowing *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "blood")) then
      CurrentCombatSound = PlaySound("Combat/Space/WeaponsOn.ogg")
    elseif (string.match("%1", "blue")) then
      StopSound(CurrentCombatSound)
      CurrentCombatSound = PlaySound("Combat/Space/WeaponsOff.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* toggle*the starships alert status to a * state."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship is already on * alert."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The interior lighting turns to pulsating yellow."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    StopSound(CurrentCombatSound)
    CurrentCombatSound = PlaySound("Combat/Space/WeaponsOff.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The overhead lights change to solid green."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    StopSound(CurrentCombatSound)
    CurrentCombatSound = PlaySound("Combat/Space/WeaponsOff.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship waves in place as beam cannons are fired."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/CannonFire"..math.random(1, 6)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship vibrates mildly as torpedoes are launched."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/TorpedoFire.ogg")    
    CurrentCombatSound = PlaySound("Combat/Space/Torpedo"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Those coordinates are too far away to establish a lock."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Those controls are already in use."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has launched * at *!"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (string.match("%1", "guided missile")) then
      if (string.match("%1", "X-Loritan Assassin")) then
        CurrentCombatSound = PlaySound("Combat/Space/OtherMissiles.ogg")
        CurrentCombatSound = PlaySound("Combat/Space/GrapeShot.ogg")
      else
        CurrentCombatSound = PlaySound("Combat/Space/OtherMissiles.ogg")
        Note(Capitalize("%0"))
      end
    elseif (string.match("%1", "torpedo")) then
      if (string.match("%1", "X-Loritan") or string.match("%3", "X-Loritan")) then
        CurrentCombatSound = PlaySound("Combat/Space/OtherTorpedos.ogg")
      else
        CurrentCombatSound = PlaySound("Combat/Space/OtherTorpedos.ogg")
        Note(Capitalize("%0"))
      end
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a thud as guided missiles are launched into space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/YouMissile"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shudders as the lasers are fired."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/LaserFire"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship starts to vibrate as the long-range laser begins to draw energy."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/PowerBuildUp"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The vibration ceases as the long-range laser powers down."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="The roar of the engine calms as the starship completes its launch."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    CurrentGlobalSound = PlaySound("Ship/Misc/Background"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You notify flight control of your desire to *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comm/CommChirp1.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the sound of the engines as the ship begins to move."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/Accelerate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The engine stops as the ship arrives at a destination."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/Decelerate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The thrusters of * begin to glow bright red, and the ship launches toward the sky with a roar, leaving behind a wave of heat and a trail of fire."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/OtherLaunching"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the distinctive roar of starship engines, and look up to see a starship quickly approaching from a distance, making careful maneuvers toward * in order to *."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/OtherLanding"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the microdrones working in the background as they repair the damage."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Repair"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a buzzing sound from the * as repairs continue."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Repair"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a shrill screeching sound as repair drones drag replacement components across the *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Repair"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a deafening booming sound as repairs to the ship proceed."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Repair"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear an electrical zapping sound as repairs to the ship continue."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Repair"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear several clinking sounds as the ship is repaired."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Repair"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Suddenly, you hear a massive crashing and booming sound as the repair drones go to super power! They're repairing * now!"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Note("Repairing %1 with super power!")
    CurrentGlobalSound = PlaySound("Ship/Misc/Repair"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The equipment returns to the ship with a clang."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Harvesting/EquipmentReturning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The harvesting equipment begins drilling deep into the asteroid's surface."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Harvesting/DrillingAsteroid"..math.random(1, 8)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You watch the harvesting equipment unfold from underneath the vessel and begin moving toward the asteroid on your ship's viewscreen."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Harvesting/EquipmentUnfold.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear some clangs and whooshes as the harvesting equipment retracts back into the ship's bowels."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Harvesting/EquipmentReturning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There is no more room for trash in the storage compartment. *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/StorageFull.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="From where the equipment drilled in, a shower of rocks suddenly bursts out!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Harvesting/Explosion.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Charge is too low for harvesting."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/LowCharge"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There is nothing here to scan."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/NothingHere.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You activate the trash collectors."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Activate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A loud thud can be heard from the storage compartment as trash is deposited by the collectors."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Store.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a series of clicks from below as items are removed from the storage compartment."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/TransferStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The clicks coming from below abruptly stop."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/TransferEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a series of clicks from below as the refinery is emptied into a starship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Transfer"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has fired at *."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (string.match("%1", "X-Loritan")) then
      CurrentCombatSound = PlaySound("Combat/Space/OtherFired"..math.random(1, 5)..".ogg")
    else
      CurrentCombatSound = PlaySound("Combat/Space/OtherFired"..math.random(1, 5)..".ogg")
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are no * to fire."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Warning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Either the launchers do not need reloading, or the ship lacks the required ammunition."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The vehicle shudders as *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "it begins to explode")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/RelicExploding"..math.random(1, 2)..".ogg")
    elseif (string.match("%1", "machine guns are fired")) then
      CurrentCombatSound = PlaySound("Combat/Space/Weapons"..math.random(1, 5)..".ogg")
    elseif (string.match("%1", "cannons are fired")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/SalvageLaunch.ogg")
    elseif (string.match("%1", "missiles are launched")) then
      CurrentCombatSound = PlaySound("Combat/Space/YouMissile"..math.random(1, 3)..".ogg")
    elseif (string.match("%1", "a grenade is launched toward a target")) then
      CurrentGlobalSound = PlaySound("Combat/Ground/GrenadeFire.ogg")
    elseif (string.match("%1", "a grenade comes in contact with its armor and explodes")) then
      CurrentGlobalSound = PlaySound("Combat/Ground/GrenadeExplode.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has fired * at *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (string.match("%2", "minicannons")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/SalvageLaunch.ogg")
    elseif (string.match("%2", "a greenade")) then
      CurrentGlobalSound = PlaySound("Combat/Ground/GrenadeFire.ogg")
    elseif (string.match("%2", "a massive energy beam")) then
      if (string.match("%1", "X-Loritan") or string.match("%3", "X-Loritan")) then
        CurrentCombatSound = PlaySound("Combat/Space/OtherFired"..math.random(1, 5)..".ogg")
      else
        CurrentCombatSound = PlaySound("Combat/Space/OtherFired"..math.random(1, 5)..".ogg")
        Note(Capitalize("%0"))
      end
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has a lock on this *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/LockedOnYou.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="WARNING! Self-destruct in *!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/SelfDestructStart.ogg")
    if (string.match("%1", "1 minute")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/SelfDestructStart.ogg")
    elseif (string.match("%1", "30 seconds")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/SelfDestructThirty.ogg")
    elseif (string.match("%1", "10 seconds")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/SelfDestructTen.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The relic... EXPLODES!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/RelicExplosion.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship lurches as a powerful cutting beam is launched to space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Shipwrecks/BeamLaunch.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Grabbing is already in progress."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship rumbles as the beam carefully cuts its way into the wreck."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Shipwrecks/BeamCutting.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="With a jolt, the beam returns to the ship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Shipwrecks/BeamJolt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship lurches as the cutting beam destroys the shipwreck into millions of tiny pieces!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/OtherDestroyed"..math.random(1, 8)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You cannot grab any more."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship suddenly lurches violently as something hits it!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
    CurrentCombatSound = PlaySound("Combat/Space/Reflectors"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="An alert flashes on a nearby power management console for your immediate attention: &quot;*&quot;"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Warning.ogg")
    if (string.match(string.lower("%1"), "critical charge alert")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/LowCharge"..math.random(1, 2)..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A low hum starts in the background as the batteries begin recharging."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A compacted mass of energy slams into *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/LRL4.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The viewscreen*switches to a pictograph of *."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (string.match("%2", "flying out of the circle")) then
      CurrentGlobalSound = PlaySound("Ship/Move/ExitSector"..math.random(1, 2)..".ogg")
      Note("Target moved.")
    elseif (string.match("%2", "with a red circle around it")) then
      CurrentCombatSound = PlaySound("Combat/Space/PowerBuildUp"..math.random(1, 2)..".ogg")
    elseif (string.match("%2", "with a dagger through it")) then
      CurrentCombatSound = PlaySound("Combat/Space/LRL"..math.random(1, 5)..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has harmlessly discharged a massive energy beam into space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/LRL"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A soft hum starts somewhere within the bowels of the ship as the missile banks are refilled."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/MissileReload.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum subsides as the missile bank refilling completes."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A low hum comes to life as the shields begin recharging."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/ShieldsRecharging.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The low hum fades away as the shields finish recharging."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The floor beneath your feet begins rumbling softly as the refinery is activated."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayLoopSound("Vehicle/TrashRefinery.ogg")
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The rumble beneath your feet eases off as the refinery powers down."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The construction facility is powering up."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/ConstructionFacilityPowerUp.ogg")
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You barely notice a low hum start up as the construction facility is activated."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/ConstructionFacilityPowerUp.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The barely noticeable hum of the construction facility dies as it is deactivated."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/ConstructionFacilityPowerDown.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The construction facility is shutting down."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/ConstructionFacilityPowerDown.ogg")
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum stops as the refinery completes its work."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/ConstructionFacilityPowerDown.ogg")
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Item to construct?"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A slowly rotating black rift appears in front of the ship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/RiftForms.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shakes as it ripples the fabric of space, entering a rift of deep, pulsing blackness."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/Rift.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship slows down as it comes closer to the final destination."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Computer/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship suddenly shoots out of the rift and into another sector. The rift rapidly shrinks and disappears."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Computer/Beep"..math.random(1, 5)..".ogg")
    CurrentGlobalSound = PlaySound("Ship/Misc/Background"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="With a final jolt, the starship slows as it exits the Worldway."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship shudders as it enters a *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/Stargate"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="With a final jolt, the starship slows as it exits the *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/StargateNotification.ogg")
    CurrentGlobalSound = PlaySound("General/Computer/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Would you like to drive out of the ship's vehicle hatch*"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You detect a faint rumbling as the starship begins to orient toward another ship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/RingStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The engines begin to vibrate mildly as the ship accelerates toward another starship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/RingStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship rocks gently as the docking ring comes into contact with another starship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/RingEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a satisfying click as the ship's docking ring is retracted from the docked ship's hull."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/RingRemove.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a faint vibration as the ship begins to launch into open space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/RingRemove.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a loud klang as robotic arms transport the ship from the garage to the *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/LandingPad.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a loud clang as robotic arms seize the ship and transport it to the *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/LandingPad.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a short hum as hydraulic arms smoothly haul the ship from the garage *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/LandingPad.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a short hum as hydraulic arms smoothly haul the ship from * into the garage."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Garage.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is gently lifted up and smoothly hauled into the garage by a pair of hydraulic arms."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/GarageExt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is smoothly hauled into the area and placed on a large, metal platform."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/GarageExt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is gently lifted from its platform and smoothly hauled out of the area by a pair of hydraulic arms."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/LandingPadExt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is smoothly hauled onto the (.*) and gently set down, ready for launch."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/LandingPadExt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a loud clang as robotic arms seize the ship and transport it to the garage."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Garage.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a loud klang as robotic arms transport the ship from the * to the garage."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Garage.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A blinding electric blue beam of light appears. After a few seconds, it disappears, leaving nothing in its wake."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/PersonTeleportsIn.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is surrounded by an electric blue light and vanishes."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "you")) then
      StopSound(CurrentRoomSound)
    end
    CurrentGlobalSound = PlaySound("General/Misc/PersonTeleportsOut.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* appear*in a beam of electric blue light!"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "you")) then
      StopSound(CurrentRoomSound)
      CurrentGlobalSound = PlaySound("Ship/Misc/Light.ogg")
    else
      CurrentGlobalSound = PlaySound("Ship/Misc/Light.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* appears in the room from a bright beam of light."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Light.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A bright beam surrounds *. When it fades, * is no longer in the room."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Light.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is suddenly enveloped in a bright * beam of light. When the light disappears, * is no longer in the room."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Light.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A bright * beam of light surrounds you. When it fades, you notice that your surroundings have changed."
   send_to="12"
   sequence="100"
  >
  <send>
    StopSound(CurrentRoomSound)
    SetStarshipAmbience("%2", "%3")
    CurrentGlobalSound = PlaySound("Ship/Misc/Light.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* encased in a beam of electric blue light!"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "you are")) then
      SetStarshipAmbience(CurrentRoomName, "On")
    end
    CurrentGlobalSound = PlaySound("Ship/Misc/Light.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* appears in a puff of smoke!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Smoke"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel like you are about to go blind. The lights dance in front of your eyes, like a fireworks display."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/WormholeInt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You see a glimpse of darkness ahead, and suddenly, you find yourself hitting the ground."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Socials/Collapse"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You become aware of a thumdering rumble very close to your ear."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Teleported.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum from under the floor increases markedly."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Teleported.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the hum from beneath your feet increase markedly."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Teleported.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* signal*the technician to begin the transport process."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/TeleportActivate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* encased in a fluctuating electric blue light and after a brief moment * disappear*into the great unknown."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "you are")) then
      StopSound(CurrentRoomSound)
      CurrentGlobalSound = PlaySound("General/Misc/TeleportActivate.ogg")
    else
      CurrentGlobalSound = PlaySound("General/Misc/TeleportActivate.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* notice*a flash of light before * and after a brief second * appear*in a slight daze."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/PersonTeleportsIn.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The electric blue beam fades, and you notice that your surroundings have changed."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/PersonTeleportsIn.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The electric blue beam fades, leaving nothing in its wake."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/PersonTeleportsOut.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The sparks multiply, until * are hidden from sight in an electric blue beam of light."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/WormholeInt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The sparks continue multiplying, until you are encased in an electric blue beam of light."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/WormholeInt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Sparks start issuing from the disc. As time passes, the sparks become more and more numerous."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/WormholeInt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Sparks start shooting up from the disc you're standing on. As time passes, the sparks become more and more numerous."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/WormholeInt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The pod begins to vibrate mildly as it activates its jump drive."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/EscapePodWormHoleJump"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The vibration calms as the pod completes its jump, and begins to accelerate through space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/EscapePodDescend.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="With a sharp jolt, the pod touches down on the planet's surface. It then begins breaking apart, and you wearily climb out."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/EscapePodLands.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear some odd sounds as the harvesting equipment begins scanning for gas."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comets/GasScanning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A smooth hum builds up in the background, and the unmistakeable sounds of gas being cleaned up fills the area."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comets/GasCleanUp.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (snaps|snap) (her|his|your) fingers\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Snap"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (snorts|snort).\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Snort.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (cheers|cheer) ecstatically\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Cheer"..math.random(1, 6)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (cheers|cheer) at (.*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Cheer"..math.random(1, 6)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (chortles|chortle)(.*?)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Chortle.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (chuckles|chuckle)(.*?)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Chuckle.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (throws|throw) back (her|his|your) head and (cackles|cackle) with glee.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Cackle"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (whistles|whistle)(.*?)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Whistle"..math.random(1, 6)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (tackles|tackle)(.*?)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Tackle"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (attempts|attempt) to tackle (.*?)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Tackle"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (whistles|whistle) innocently at (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Whistle"..math.random(1, 6)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* yawn*and collapse*to *, asleep."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Yawn"..math.random(1, 2)..".ogg")
    CurrentSocialSound = PlaySound("Socials/Collapse"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* drift*off to sleep."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Yawn"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* suddenly awakens."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Yawn"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (lets|let) forth an enormous yawn.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Yawn"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (yawns|yawn) at (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Yawn"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (sighs|sigh)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Sigh"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (sighs|sigh) at (her|him|your)self.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Sigh"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (slaps|slap) (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Slap"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (burps|burp) loudly.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Burp"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (burps|burp) explosively!$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Burp"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (coughs|cough)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Cough"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (coughs|cough) madly.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Cough"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (coughs|cough) at (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Cough"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (snorts|snort) in disbelief.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Snort.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (snorts|snort) indignantly.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Snort.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (looks|look) down at (.*) and (snorts|snort)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Snort.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (spanks|spank) the air.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Spank.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (attempts|attempt) to spank (her|him|your)self, but fall in a mangled heap on the floor.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Spank.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (spanks|spank) (.*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Spank.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (collapses|collapse)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Collapse"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (collapses|collapse) (of exhaustion|dramatically)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Collapse"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (belches|belch) loudly.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Belch"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (belches|belch) noisily, and then almost vomit all over (her|him|your)self! That's one smooth move.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Belch"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (looks|look) at (.*) and (belch|belches)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Belch"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (begins|begin) to cry.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Cry"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (bursts|burst) into tears!$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Cry"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (farts|fart) loudly.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Fart"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (lets|let) loose an enormously loud and smelly fart!$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Fart"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (farts|fart) loudly at (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Fart"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (giggles|giggle)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Giggle"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (giggles|giggle) at (her|his|your) actions.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Giggle"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (giggles|giggle) quietly.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Giggle"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (moans|moan)(.*?)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Moan"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (moans|moan) loudly.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Moan"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (vomits|vomit) a green substance onto the floor. Gross!$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Vomit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (belches|belch) and suddenly (expels|expel) a green, fairly bad-odored liquid all over (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Vomit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (looks|look) at (.*) and (vomits|vomit)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Vomit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (makes|make) a tackle movement at the air.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Tackle"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (kisses|kiss) the air. What a wierdo!$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Kiss"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (leans|lean) in close and (kisses|kiss) (.*) tenderly on the lips.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Kiss"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (rolls|roll) around on the floor laughing.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/ROFL"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (rolls|roll) around on the floor laughing out loud.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/ROFL"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (rolls|roll) around on the floor laughing at (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/ROFL"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (screams|scream)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Scream"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (screams|scream) in agany!$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Scream"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (looks|look) at (.*) and (screams|scream) loudly.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Scream"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (lies|lie) down on (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Lie.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (laughs|laugh) out loud!$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/LOL"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (looks|look) at (.*) and laugh out loud!$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/LOL"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (laughs|laugh) cheerfully.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Laugh"..math.random(1, 6)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (laughs|laugh) at (her|him|your)self. What a weirdo!$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Laugh"..math.random(1, 6)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (laughs|laugh) at (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Laugh"..math.random(1, 6)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (kicks) (.*).$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/Attack/"..math.random(1, 3).."/"..math.random(1, 20)..".ogg")
    CurrentSocialSound = PlaySound("Socials/Kick"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (punches|punch) (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/Attack/"..math.random(1, 3).."/"..math.random(1, 20)..".ogg")
    CurrentSocialSound = PlaySound("Socials/Punch"..math.random(1, 10)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (walks|walk) over and (kicks) (.*).$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Socials/Kick"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (pulls|pull) (.*) to (her|his|your) feet\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/StandUp.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (pokes|poke) (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Poke.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (snickers|snicker) (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Laugh"..math.random(1, 6)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* throw* onto the ground where it shatters into several thousand tiny pieces!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/BreakingGlass"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="&quot;You to *, *&quot;"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=%0")
    Execute("history_add Conversations=%0")
    CurrentSocialSound = PlaySound("Socials/Say.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="&quot;* to you, *&quot;"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=%0")
    Execute("history_add Conversations=%0")
    CurrentSocialSound = PlaySound("Socials/Say.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* (to *): &quot;*&quot;"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=%0")
    Execute("history_add Conversations=%0")
    CurrentSocialSound = PlaySound("Socials/Say.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* rumble*into * translator."
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=%0")
    Execute("history_add Conversations=%0")
    CurrentSocialSound = PlaySound("Socials/PyrianChitter"..math.random(1, 10)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* Pyrian translator with * screen and * switches rumbles, &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/PyrianChitter"..math.random(1, 10)..".ogg")
    Note(Capitalize("%4"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* rumble*something."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/PyrianChitter"..math.random(1, 10)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* type*a complicated series of code into * translator."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/PyrianChitter"..math.random(1, 10)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* translator announces in a synthesized voice, &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/PyrianChitter"..math.random(1, 10)..".ogg")
    if (string.match("%1", "Your")) then
      Execute("history_add All=You rumble: "..Capitalize("%2"))
      Execute("history_add Conversations=You rumble: "..Capitalize("%2"))
      Note("You rumble: "..Capitalize("%2"))
    else
      Execute("history_add All="..Capitalize("%1").." rumbles: "..Capitalize("%2"))
      Execute("history_add Conversations="..Capitalize("%1").." rumbles: "..Capitalize("%2"))
      Note(Capitalize("%1").." rumbles: "..Capitalize("%2"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (says|say)\, &quot;(.*)&quot;$"
   omit_from_output="y"
   regexp="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All="..Capitalize("%1").." %2: "..Capitalize("%3"))
    Execute("history_add Conversations="..Capitalize("%1").." %2: "..Capitalize("%3"))
    CurrentSocialSound = PlaySound("Socials/Say.ogg")
    Note(Capitalize("%1").." %2: "..Capitalize("%3"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (says|say) in (.*) accent\, &quot;(.*)&quot;$"
   omit_from_output="y"
   regexp="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All="..Capitalize("%1").." %2: "..Capitalize("%4"))
    Execute("history_add Conversations="..Capitalize("%1").." %2: "..Capitalize("%4"))
    CurrentSocialSound = PlaySound("Socials/Say.ogg")
    Note(Capitalize("%1").." %2: "..Capitalize("%4"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (asks|ask)\, &quot;(.*)&quot;$"
   omit_from_output="y"
   regexp="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All="..Capitalize("%1").." %2: "..Capitalize("%3"))
    Execute("history_add Conversations="..Capitalize("%1").." %2: "..Capitalize("%3"))
    CurrentSocialSound = PlaySound("Socials/Say.ogg")
    Note(Capitalize("%1").." %2: "..Capitalize("%3"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (asks|ask) in (.*) accent, &quot;(.*)&quot;$"
   omit_from_output="y"
   regexp="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All="..Capitalize("%1").." %2: "..Capitalize("%4"))
    Execute("history_add Conversations="..Capitalize("%1").." %2: "..Capitalize("%4"))
    CurrentSocialSound = PlaySound("Socials/Say.ogg")
    Note(Capitalize("%1").." %2: "..Capitalize("%4"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (exclaims|exclaim)\, &quot;(.*)&quot;$"
   omit_from_output="y"
   regexp="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All="..Capitalize("%1").." %2: "..Capitalize("%3"))
    Execute("history_add Conversations="..Capitalize("%1").." %2: "..Capitalize("%3"))
    CurrentSocialSound = PlaySound("Socials/Say.ogg")
    Note(Capitalize("%1").." %2: "..Capitalize("%3"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (exclaims|exclaim) in (.*) accent\, &quot;(.*)&quot;$"
   omit_from_output="y"
   regexp="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All="..Capitalize("%1").." %2: "..Capitalize("%4"))
    Execute("history_add Conversations="..Capitalize("%1").." %2: "..Capitalize("%4"))
    CurrentSocialSound = PlaySound("Socials/Say.ogg")
    Note(Capitalize("%1").." %2: "..Capitalize("%4"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (slurs|slur)\, &quot;(.*)&quot;$"
   omit_from_output="y"
   regexp="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All="..Capitalize("%1").." %2: "..Capitalize("%3"))
    Execute("history_add Conversations="..Capitalize("%1").." %2: "..Capitalize("%4"))
    CurrentSocialSound = PlaySound("Socials/Say.ogg")
    Note(Capitalize("%1").." %2: "..Capitalize("%3"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (slurs|slur) in (.*) accent\, &quot;(.*)&quot;$"
   omit_from_output="y"
   regexp="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All="..Capitalize("%1").." %2: "..Capitalize("%4"))
    Execute("history_add Conversations="..Capitalize("%1").." %2: "..Capitalize("%4"))
    CurrentSocialSound = PlaySound("Socials/Say.ogg")
    Note(Capitalize("%1").." %2: "..Capitalize("%4"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Stand up first!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Command"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the death cry of *!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/DeathMob"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* falls onto the ground, dead."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/Dead.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The corpse of * rapidly decays into dust."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/DecayingCorpse.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You * with *!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/Aiming.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You fire *!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    for g = 1, #guns do
      if (string.match(string.lower("%1"), string.lower(guns[g]))) then
        CurrentGlobalSound = PlaySound("Combat/Ground/Lasers/Laser"..guns[g]..".ogg")
      end
    end
    if (string.match("%1", "low-level")) then
      CurrentGlobalSound = PlaySound("Combat/Ground/Lasers/LaserLowLevel.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The beam dissolves into the air!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/Lasers/LaserVanish.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* shield turns the beam away!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/Lasers/LaserBlocked.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The beam hits *!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/Lasers/LaserHits.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="An alien creature falls to the ground with a sickening thud!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/Dead.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The laser beam flies around the room!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/Lasers/LaserDouble"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The beam flies *!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/Lasers/LaserDouble"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You insert a laser energy pack into a laser supplier, pressing a button."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/PowerSupplierButton.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* in-ship recharging station finishes recharging * laser power supplier."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/RechargeComplete.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press*a button on * laser power supplier."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/PowerSupplierButton.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* connect* laser power supplier with * in-ship recharging station."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/PowerSupplierButton.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The energy discharges with a whoosh, and * discard* laser energy pack."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentglobalSound = PlaySound("Combat/Ground/PowerBoost.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="An energy shield slowly forms around *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/ArmorEnabled.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The energy shield around * fades."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/ArmorDisabled.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* turn*portable oven on."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/OvenBeep.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* portable oven beeps, indicating that the food inside is ready."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/OvenBeep.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The display of * portable oven indicates, 'Recharging...'"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/OvenBeep.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* portable oven indicates that the recharging process is complete."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/OvenBeep.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* examine*the menu of available items."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Menu.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship slows down and you feel the sharp jolt as the ship touches down on the landing pad."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* exits * dropship."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/Lores"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The scans indicate that there might be an artifact at *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/HandheldScanner.ogg")
    Note("Artifact at %1")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* thrust* shovel deep into the ground."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Archaeology/Shovel"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* shovel*aside some freshly dug dirt, but all you find is a strange insect."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Archaeology/Cease.ogg")
    CurrentGlobalSound = PlaySound("General/Archaeology/Insect"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* sigh*as the digging reveals nothing but insects."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Archaeology/Cease.ogg")
    CurrentGlobalSound = PlaySound("General/Archaeology/Insect"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* shovel*aside the dug dirt, but find nothing underneath."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Archaeology/Cease.ogg")
    CurrentGlobalSound = PlaySound("General/Archaeology/NothingUnderneath.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* shovel*the dug dirt aside, revealing *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Archaeology/Cease.ogg")
    CurrentGlobalSound = PlaySound("General/Archaeology/ArtifactFind.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The shovel produces a clear clang sound as it hits something underground."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Archaeology/Cease.ogg")
    CurrentGlobalSound = PlaySound("General/Archaeology/Clang.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* shovel indicates that the area is empty of artifacts."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Archaeology/NothingHere.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You think you might have found something... But when you shovel the dug dirt aside, nothing reveals."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Archaeology/Cease.ogg")
    CurrentGlobalSound = PlaySound("General/Archaeology/NothingReveals.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A small computer screen announces, &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All="..Capitalize("%1"))
    Execute("history_add Vehicle Computer Announcements="..Capitalize("%1"))
    CurrentGlobalSound = PlaySound("Ship/Computer/Announce"..math.random(1, 7)..".ogg")
    if (string.match(string.lower("%1"), "confirmed hit on")) then
      CurrentGlobalSound = PlaySound("Combat/Ground/GrenadeExplode.ogg")
    end
    if (string.match(string.lower("%1"), "weapons locked on")) then
      CurrentCombatSound = PlaySound("Combat/Space/LockedOnOther.ogg")
    end
    if (string.match(string.lower("%1"), "beginning") and string.match(string.lower("%1"), "repair")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/RepairStart.ogg")
    end
    if (string.match(string.lower("%1"), "repair complete")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/RepairComplete.ogg")
    end
    if (string.match(string.lower("%1"), "aborting repair")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/RepairAborted.ogg")
    end
    if (string.match(string.lower("%1"), "recharging")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/BatteryRecharging.ogg")
    end
    if (string.match(string.lower("%1"), "vehicle recharged")) then
      CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    end
    if (string.match(string.lower("%1"), "charge running low")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/LowCharge"..math.random(1, 2)..".ogg")
    end
    if (string.match(string.lower("%1"), "Excavation cannot be started due to the vehicle running low on charge")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/LowCharge"..math.random(1, 2)..".ogg")
    end
    if (string.match(string.lower("%1"), "stored minerals")) then
      CurrentGlobalSound = PlaySound("Ship/computer/Display.ogg")
    end
    if (string.match(string.lower("%1"), "storage full")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/StorageFull.ogg")
    end
    if (string.match(string.lower("%1"), "storage capacity full")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/StorageFull.ogg")
    end
    if (string.match(string.lower("%1"), "current charge")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
    end
    if (string.match(string.lower("%1"), "items in the storage compartment")) then
      CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
    end
    if (string.match("%1", "destroyed")) then
      CurrentCombatSound = PlaySound("Combat/Space/OtherDestroyed"..math.random(1, 8)..".ogg")
    end
    if (string.match("%1", "Scanning")) then
      CurrentGlobalSound = PlaySound("Vehicle/Scanning.ogg")
    end
    Note(Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* board*the * &quot;*&quot;."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "you")) then
      SetVehicleAmbience("%1", "%3")
      SetStarshipAmbience("%2", "%3")
      CurrentGlobalSound = PlaySound("Vehicle/Enter.ogg")
    else
      CurrentGlobalSound = PlaySound("Vehicle/Enter.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* exit*the * &quot;*&quot;."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "you")) then
      SetVehicleAmbience("%1", "%3")
      SetStarshipAmbience("%2", "%3")
      CurrentGlobalSound = PlaySound("Vehicle/Leave.ogg")
    else
      CurrentGlobalSound = PlaySound("Vehicle/Leave.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Equipment Damage: *%."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="No damage."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are no damaged components."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a barely audible hum as the engines activate, and the floor beneath your feet begins vibrating slightly."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/EngineStart.ogg")
    SetVehicleAmbience(CurrentRoomName, "POWERED")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum decreases but doesn't stop completely, and the vibration eases out as the engine startup completes."
   omit_from_output="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="The floor beneath your feet begins to rumble as the engines begin shutting down."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/EngineStop.ogg")
    SetVehicleAmbience(CurrentRoomName, "UNPOWERED")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum suddenly falls silent, leaving you in complete silence."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/EngineStop.ogg")
    SetVehicleAmbience(CurrentRoomName, "UNPOWERED")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The pitch of the engines * ever so slightly as the vehicle *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "increases") and string.match("%2", "begins moving")) then
      CurrentGlobalSound = PlaySound("Vehicle/CarGo.ogg")
    end
    if (string.match("%1", "decreases") and string.match("%2", "stops")) then
      CurrentGlobalSound = PlaySound("Vehicle/CarStop.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear some clangs as the excavation equipment is retracted."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/Reflectors3.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Excavation impossible due to damaged equipment."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a loud clang as a chunk of minerals is deposited into the mineral area."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Store.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear some clangs as the excavation equipment is deployed."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Archaeology/Shovel"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the microdrones working in the background as they repair the damaged equipment."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Repair"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* input*a command * console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* begin*inputting a sequence of commands into a wormhole transport console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are no destinations to which you can teleport at present."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* check*the starship's record console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* check*a damage console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* examine*a *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* examine*the *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* input*a series of commands into * console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* input*a series of coordinates into a weapon console."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* input*some commands * console."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* begin*tapping commands into * console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* examine*a * console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a loud clang as something under the vehicle snaps."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Harvesting/Explosion.ogg")
    CurrentGlobalSound = PlaySound("Vehicle/Damaged.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You tap a 'MINERAL' icon on a status console."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/MiniKeyboard.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You press * button labeled *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/ButtonPush.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The vehicle rumbles a bit as it moves towards the vehicle hatch of *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Start.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The vehicle rumbles a bit as it moves towards the vehicle hatch."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Start.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You can't go that way."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/CantGo"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You remove * pearl from the water!"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/PearlDiving/PearlFind.ogg")
    CurrentGlobalSound = PlaySound("General/PearlDiving/Found"..math.random(1, 7)..".ogg")
    Note("Revealing %1 pearl!")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[&quot;*; *&quot;]"
   send_to="12"
   sequence="99"
  >
  <send>
    SetAreaAmbience("%2")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[&quot;Relic *\; *&quot;]"
   send_to="12"
   sequence="99"
  >
  <send>
    StopSound(CurrentRoomSound)
    if (string.match(string.lower("%2"), "landing")) then
      CurrentRoomSound = PlayLoopRoomSound("General/LandingPad.ogg")
    else if (string.match(string.lower("%2"), "room 1")) then
      CurrentRoomSound = PlayLoopRoomSound("General/Relic.ogg")

    else if (string.match(string.lower("%2"), "room 2")) then
      CurrentRoomSound = PlayLoopRoomSound("General/Relic.ogg")
    else if (string.match(string.lower("%2"), "room 3")) then
      CurrentRoomSound = PlayLoopRoomSound("General/Relic.ogg")
    else if (string.match(string.lower("%2"), "room 4")) then
      CurrentRoomSound = PlayLoopRoomSound("General/Relic.ogg")
    else if (string.match(string.lower("%2"), "room 5")) then
      CurrentRoomSound = PlayLoopRoomSound("General/Relic.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[&quot;Afterlife; *&quot;]"
   send_to="12"
   sequence="99"
  >
  <send>
    StopSound(CurrentRoomSound)
    CurrentRoomSound = PlayLoopRoomSound("General/Afterlife.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[&quot;*&quot; *] [Starship Power: *]*"
   send_to="12"
   sequence="99"
  >
  <send>
    SetStarshipAmbience("%2", "%3")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[Inside the * &quot;*&quot; * *at *]*"
   send_to="12"
   sequence="99"
  >
  <send>
    SetVehicleAmbience("%1", "%3")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* tap*an icon on the console."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/ButtonPush.ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* shift*the throttle into *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Lever"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* div*into the water."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/PearlDiving/Dive"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* carefully insert* pearl into * oceanography container."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Archaeology/Container.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press*a button on * underwater scanner."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/PearlDiving/Scanning.ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The scanner indicates that the current coordinates are empty of valuable items."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/PearlDiving/NothingHere.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* begin*moving * underwater shovel through the water and deep into the ground."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Archaeology/Shovel"..math.random(1, 5)..".ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* stop*digging, nothing as a result."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Archaeology/Cease.ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Valuable material found! Depth * meters."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/PearlDiving/PearlLocated.ogg")
    Note("%1 feet.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Current depth: * meters."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Note("%1 feet.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You begin swimming toward the surface."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/PearlDiving/Resurface.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* swims onto the shore."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/PearlDiving/Resurface.ogg")
    Note(Capitalize("%0"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="An alert is displayed across your suit's glasses: *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (string.match("%1", "20 minutes")) then
      CurrentGlobalSound = PlaySound("General/PearlDiving/RunningOutOfOxygen1.ogg")
    elseif (string.match("%1", "10 minutes")) then
      CurrentGlobalSound = PlaySound("General/PearlDiving/RunningOutOfOxygen2.ogg")
    elseif (string.match("%1", "5 minutes")) then
      CurrentGlobalSound = PlaySound("General/PearlDiving/RunningOutOfOxygen3.ogg")
    elseif (string.match("%1", "2 minutes")) then
      CurrentGlobalSound = PlaySound("General/PearlDiving/RunningOutOfOxygen4.ogg")
    elseif (string.match("%1", "1 minute")) then
      CurrentGlobalSound = PlaySound("General/PearlDiving/RunningOutOfOxygen5.ogg")
    end
    Note("Alert: Oxygen for %1")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* clip*to * weapon belt with * clips."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Belt1.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* unclip*from * weapon belt with * clips."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Belt2.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There is a contest in progress! Type 'contest' to participate."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/NewsFlash.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press* finger on the scanner next to the *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Scanning.ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The scanner flashes a * light."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "green")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/ScanSuccess.ogg")
    elseif (string.match("%1", "red")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/ScanFailure.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Sorry, that area is restricted to * only."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/ScanFailure.ogg")
    Note("The area is restricted to %1 only.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You are denied access to that information."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/ScanFailure.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There * to transfer."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/ScanFailure.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your * just improved by * percent!"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/SkillGain.ogg")
    Note("Improved %1 by %2 percent.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A small light near the hatch of * flashes *"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%2", "once")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/AirlockFlashesOnce.ogg")
    elseif (string.match("%2", "twice")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/AirlockFlashesTwice.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The medical drones begin healing your wounds."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/MedicalOperation.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* instruct*the medical drones to heal *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/MedicalOperation.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* feel*refreshed and full of energy as the healing finishes."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/MedicalEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The drones stop healing *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/MedicalEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[Space]"
   send_to="12"
   sequence="100"
  >
  <send>
    SetSpaceAmbience("space")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* enter* shower with * showerheads."
   send_to="12"
   sequence="99"
  >
  <send>
    if (string.match(string.lower("%1"), "you")) then
      SetShowerAmbience("shower")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* leave*the shower."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "you")) then
      SetShowerAmbience("shower")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* lightly press*a button on the touch-activated control panel, * water begins to spray * from the showerheads."
   send_to="12"
   sequence="100"
  >
  <send>
    if (ShowerStatus == false) then
      ShowerStatus = true
      ShowerLoop = PlayLoopSound("General/Misc/Shower.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* lightly press*a button on the touch-activated control panel, causing the spray of water to stop."
   send_to="12"
   sequence="100"
  >
  <send>
    if (ShowerStatus == true) then
      ShowerStatus = false
      StopSound(ShowerLoop)
      CurrentGlobalSound = PlaySound("General/Misc/ShowerEnd.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You see several lights blink in rapid succession on the navigation console, informing you that the ship is being * by *."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/SomeoneScannedYou.ogg")
    Note("This starship was %1 by %2.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Now viewing monitoring satellite *. This satellite is monitoring *."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Satellite.ogg")
    Note("Satellite report of %2:")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* shout*, &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All="..Capitalize("%1").." shout%2: "..Capitalize("%3"))
    Execute("history_add Shouts="..Capitalize("%1").." shout%2: "..Capitalize("%3"))
    CurrentGlobalSound = PlaySound("General/Hosts/Shouts.ogg")
    Note(Capitalize("%1").." shout%2: "..Capitalize("%3"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Thanks for playing!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/Gift.ogg")
    CurrentGlobalSound = PlaySound("General/Hosts/AddCredits.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   group="gift"
   match="Oooooooo, look! You get some extra points! Yaaaayy!"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/ThankYou.ogg")
    CurrentGlobalSound = PlaySound("General/Hosts/AddCredits.ogg")
    Note("The Prometheus hosts thanks you for playing!")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You receive * points!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Points.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You press a button."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/ButtonPush.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[&quot;Relic *; *&quot;]"
   send_to="12"
   sequence="99"
  >
  <send>
    SetAreaAmbience("%2")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The planetary damage of this planet is * units out of 100.0 units."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
    if (string.match("%1", "^0.0$")) then
      Note("No damages.")
    else
      Note("Damage: %1 units.")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a soft knocking from the starship's hull."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/HullKnocking.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You calmly knock on the hull of *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/HullKnocking.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You open *"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "container")) then
      CurrentGlobalSound = PlaySound("General/Misc/ContainerOpen.ogg")
    elseif (string.match("%1", "fridge")) then
      CurrentGlobalSound = PlaySound("General/Misc/FridgeOpen.ogg")
    elseif (string.match("%1", "oven")) then
      CurrentGlobalSound = PlaySound("General/Misc/OvenDoorOpen.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You close *"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "container")) then
      CurrentGlobalSound = PlaySound("General/Misc/ContainerClose.ogg")
    elseif (string.match("%1", "fridge")) then
      CurrentGlobalSound = PlaySound("General/Misc/FridgeClose.ogg")
    elseif (string.match("%1", "oven")) then
      CurrentGlobalSound = PlaySound("General/Misc/OvenDoorClose.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Enter security access code:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="*-capacity weapon safe beeps and opens with a soft hum."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/SafeOpen.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You press a button on *-capacity weapon safe, which closes with a soft hum. After a brief pause, you hear a loud click as the locks slide into place."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/SafeClose.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A low hum starts up deep within the bowels of the ship as the last system of defense is activated."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (EmergencyWeaponStatus == false) then
      EmergencyWeaponStatus = true
      EmergencyWeaponLoop = PlayLoopSound("Combat/Space/EmergencyWeapon.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum dies down and the ship jerks as the emergency weapon completes firing."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (EmergencyWeaponStatus == true) then
      StopSound(EmergencyWeaponLoop)
      EmergencyWeaponStatus = false
    end
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="An escape pod lands nearby."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/EscapePodLands.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* floats into the room and comes to a stop in your hand."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/Drink.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* flies into the room and lands in your arms."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/Food.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You press the 'RELOAD' button."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/ButtonPush.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A soft hum starts in the background as the launchers begin reloading."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/MissileReload.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A soft hum starts as * begin reloading."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/MissileReload.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum subsides as * finish reloading."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Letter successfully sent to *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You * the engineering area."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%0"), "you enter")) then
      StopSound(CurrentRoomSound)
    end
    if (string.match(string.lower("%1"), "you exit")) then
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * launchers are cooling down."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* are already being fired."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The LRL is recharging: * remaining."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The viewscreen is filled with brilliant white light as * explodes!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/GrenadeExplode.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* key*a few commands into *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* input*a few commands in an important-looking console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* begin*inputting commands into * console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* examine*a sector scan."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Scan4.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You activate a high-powered infrared laser beam."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/StarResearching/LActivate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* deftly hits a button on an infrared laser beam control board, activating the high-powered beam."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/StarResearching/LActivate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The room lights up with a beautiful red glow as the starship fires an infrared laser beam into space towards a star."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/StarResearching/LFiring.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You notice the star begin to glow a blinding red."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/StarResearching/LBlinding.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The pulsating light radiates as it becomes steady."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/StarResearching/LPulsating.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The pulsating of the lights grows steady."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/StarResearching/LSteady.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Rays of light pulsate as the starship continues to fire the infrared laser beam at the star."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/StarResearching/LPulsating.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Suddenly, the rays of light begin pulsating quickly, and it seems as if the star is disintegrating right before your eyes."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/StarResearching/LRapid.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The rays of light dwindle down to nothing as the starship's infrared laser beam powers down."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/StarResearching/LDeactivate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship's computer prints * the star research data."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/StarResearching/Printer.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* remove*a small piece of paper containing strange symbols from the printer."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/StarResearching/SnatchPaper.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* push*a button, * the captain notifier."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/ButtonPush.ogg")
    if (string.match("%1", "enabling")) then
      CurrentGlobalSound = PlaySound("General/Devices/Activate.ogg")
    elseif (string.match("%1", "disabling")) then
      CurrentGlobalSound = PlaySound("General/Devices/Deactivate.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The military has shut down the application process for the time being. We appologize for the inconvenience!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/ScanFailure.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You tap a few buttons, making a small screen flash with lights."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="I see no &quot;*&quot; here."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are no salvage lines available."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Things can only be transferred at a landing pad or when docked to another ship via the docking ring."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You'll need to land at a properly equipped landing pad to transfer."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="This communication device is *"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "now connected")) then
      CurrentGlobalSound = PlaySound("General/Devices/Activate.ogg")
    end
    if (string.match("%1", "no longer trackable")) then
      CurrentGlobalSound = PlaySound("General/Devices/Deactivate.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You have been added to the owners  list of *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comm/LinkConfirmed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You have been authorized to the locking mechanisms of the door leading * from *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comm/LinkConfirmed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You have been added to the recognized fingerprints of *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comm/LinkConfirmed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You can not use this drive for *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship was last moving *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Drive could not be activated due to the vessel being in motion."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Please drop your shields first."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Please power up your weapons first."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/NotInSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You reach under the control board, and open a small metal panel before installing * override chip."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Report"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You plug * Armor Piercing Weapon Chip into the weapons board, uploading its firmware to the computers."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Space/ArmorPiercingChipBegin.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* place*in-ship camera installation chip against a console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Report"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* in-ship camera installation chip slides into the console and eventually out of view."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Report"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Something deep within the ship's bowels explodes!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/BatteryExplosion"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* datapad prints a peace of paper titled *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/StarResearching/Printer"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The blinding light gos out, and a red light flashes on the infrared laser beam control board. Warning, research failed."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Warning.ogg")
    Note("Warning, research has failed!")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship shakes and rattles as armor piercing shells are launched."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/ArmorPiercingShells"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* depart*to modify the game."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/GameModificationStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* finish*modifying the game."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/GameModificationStop.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A tradesman certificate has been created for you and can be found in your inventory."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/Certificate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The vehicle begins shaking in place as it prepares for launching."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Scoopers/Prelaunch.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The engines kick in and the vehicle ascends sharply as it accelerates into the atmosphere."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Scoopers/Ascending.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The engines begin rumbling slightly as the vehicle begins descending through the atmosphere."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Scoopers/Descending.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The engines calm slightly and gravity returns to normal as the vehicle steadies itself."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Thrusters.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Black lightning rips through the sky in front of the vehicle as the quantum shift matrix is activated."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/QuantumDriveStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A black hole opens in front of the vehicle. *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/QuantumDriveFinish.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are no damages."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Damage: *%."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The storage area contains:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The storage hold contains:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* activate*the vehicle's material scoopers."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Scoopers/ActivateScooper.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A loud thud can be heard as a piece of scoopable material is deposited into the storage area."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Scoopers/Scooped.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A sudden wind pummels the vehicle, making it spin out of control!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Scoopers/Wind.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Finally, the wind releases the vehicle from it's grasp."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Scoopers/Wind.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You can not scoop while the vehicle is moving."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You can not move while attempting to scoop."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your scooper just took * percent damage."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Damaged.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A series of clicks is heard as a transfer process begins."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/TransferStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The clicks finally vanish as the transfer process completes."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/TransferEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There is not a star in the sector."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* should not be moving."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You cannot use that in hyperspace."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Finish your hyper jump first."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Hyperspace drive could not be activated due to the vessel being in motion."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Scans of * unfiltered."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/Activate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Scans of * filtered."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/Deactivate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* tap*a button, bringing up the mined mineral status."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/ButtonPush.ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="No mined minerals could be found."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A light next to the PA blinks off."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/Deactivate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A light blinks on next to the PA."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/Aactivate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Only * until Christmas!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/Christmas.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* hit*a few keys on a weapons board."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* key*a few commands into the * control board."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship rocks slightly as its hull is impacted by parts of an exploding starship!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship accelerates into hyperspace."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/Accelerate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship decelerates into real space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/Decelerate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship suddenly shoots into realspace."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/Decelerate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* turn* UTF-Issue radio with * high-definition speaker *."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%4", "on")) then
      CurrentGlobalSound = PlaySound("General/Devices/Activate.ogg")
    elseif (string.match("%4", "off")) then
      CurrentGlobalSound = PlaySound("General/Devices/Deactivate.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are no artifacts in the storage area."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The following artifacts are in the storage area:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Vehicle Bay Status:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship should be in space before you attempt this."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You're no longer in that sector."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You are having a hard time using the controls do to your uncoordinated state."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear an odd noise coming from the direction of the ship's hatch."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/HatchCracking/HatchCracked.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   group="gift"
   match="You have just received * Easter eggs as a gift! Found in your inventory!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/EggHunt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You open * Easter egg... And find * inside!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/EggItem.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* Portable Military Computer with * touch screen flashes a message on its screen, telling you that a new report has been added to the network."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Devices/NewMilitaryReport.ogg")
    Note("A new report has been added to the military network.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* enter*a shiny lift."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Movement.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* step*out of the lift."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Movement.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A smooth hum starts in the background and the lift begins moving."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/LiftGo.ogg")
    if (LiftMovingStatus == false) then
      LiftMovingStatus = true
      LiftMovingLoop = PlayLoopSound("Ship/Misc/LiftMoving.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum slowly stops as the lift arrives at its destination."
   send_to="12"
   sequence="100"
  >
  <send>
    if (LiftMovingStatus == true) then
      StopSound(LiftMovingLoop)
      LiftMovingStatus = false
    end
    CurrentGlobalSound = PlaySound("Ship/Misc/LiftArrived.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A computer screen flickers to life, displaying a pictograph transmission from *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/CameraFeed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The door leading * open."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/DoorOpen.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The door leading * shut."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/DoorClose.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You are dead!"
   send_to="12"
   sequence="100"
  >
  <send>
    StopSound(CurrentRoomSound)
    CurrentGlobalSound = PlaySound("General/Misc/Death.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is dead!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Death.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^You don (an?\s.*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/ItemWear.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^You remove (an?\s.*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/ItemUnwear.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shakes slightly when something impacts the hull."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship cruises through a *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a jolt as the ship crashes into a small, previously unseen asteroid."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The engines roar for a short moment, something blocking the ship's movement."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship clips a derelict as it moves through the sector."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the screaming of metal as the ship flies straight into an unseen shipwreck."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship moves carefully in the vastness of hyperspace."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Move/Hyperrouting.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The smell of * wafts into the room."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Scents.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* begin*scribbling something on a PBS. Inc. lottery ticket..."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Scribble.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You place * in *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Archaeology/Container.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The defense shields strengthen for a moment to mitigate damage."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/FireReflected.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Condensing of multiple debris clouds *."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "enabled")) then
      CurrentGlobalSound = PlaySound("General/Devices/Activate.ogg")
    end
    if (string.match("%1", "disabled")) then
      CurrentGlobalSound = PlaySound("General/Devices/Deactivate.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* clutch*in * hand."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/Wield"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* tuck*away *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/Unwield.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* yank*from *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "you")) then
      CurrentGlobalSound = PlaySound("Combat/Ground/Disarm.ogg")
    else
      CurrentGlobalSound = PlaySound("Combat/Ground/Disarmed.ogg")
      Note("You're disarmed.")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* attempt*to disarm * but fail*"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "you")) then
      CurrentGlobalSound = PlaySound("Combat/Ground/DisarmingFailed.ogg")
      Note("Disarming failed!")
    else
      CurrentGlobalSound = PlaySound("Combat/Ground/DisarmFailed.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* attempt*to disarm * but * hold*onto * weapon with a titan grip!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Combat/Ground/TitanGrip"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You slide a panel aside, and proceed to fit * partial vehicle replacement battery into a slot."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Report"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You close the panel, as * partial vehicle replacement battery locks into place with a *CLICK*."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Report"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* but * zapped by a forcefield."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Electricity.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You see*a pack of materials*here."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/EggItem.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* pull*the lever on * slot machine."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Lever"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You win!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/YouWin.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You lose!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/YouLose.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel the ship shudder slightly as something impacts the hull."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The shields strengthen, absorbing most of the impact."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/Reflectors"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The displays flicker and the ship's lights dim briefly as more power is diverted to the heat shields."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/CameraFeed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shakes, pouring more power to the beam."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Store.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your command could not be executed at this time. *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Traceback.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The displays flicker and the ship's lights dim briefly as more power is diverted to the shields."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/CameraFeed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship rocks violently as something impacts the hull!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel the ship jolt suddenly as something impacts the hull."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlaySound("Combat/Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* the main owner of this starship. *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You glance at the repair status panel."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * banks are already full."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="*You were awarded * points for the resolution of report *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/ThankYou.ogg")
    CurrentGlobalSound = PlaySound("General/Misc/Points.ogg")
    Note(Trim(string.gsub("%0", "*", "")))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="*You have unread personal announcements, displaying them now.*"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/ThankYou.ogg")
    CurrentGlobalSound = PlaySound("General/Misc/NewMail.ogg")
    Note(Trim(string.gsub("%0", "*", "")))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* personally wants to thank you for playing Prometheus! As a token of appreciation, have this!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/ThankYou.ogg")
    CurrentGlobalSound = PlaySound("General/Hosts/AddCredits.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You step into a brilliant beam of light which whisks you back to your home."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/Host"..math.random(1, 10)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A voice comes from the speaker of *, &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Comm/CommChirp1.ogg")
    Note(Capitalize("%2"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press*a button on a nearby console and study the data displayed on its screen."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Display.ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a slight hum as the ship *."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "cloaks")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/CloakOn.ogg")
    elseif (string.match(string.lower("%1"), "becomes visible.")) then
      CurrentGlobalSound = PlaySound("Ship/Misc/CloakOff.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship accelerates, making the blackness around you shiver as it flies through hyperspace."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="The beam returns with something in its grasp."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Store.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shakes, pouring more power into *."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Background5.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Some whooshes and clangs come from below."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Vehicle/Store.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The equipment is non-functional when damaged. Please repair it fully before proceeding."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A hum builds up for a second, but quickly subsides; apparently nothing was found."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Harvesting/NoMinerals.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The beam stops abruptly, seemingly unable to move."
   omit_from_output="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="There is nothing to be transfered."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (takes|take) a sip from (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Drink.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) obscenely (slurps|slurp) up  (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Drink.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (drains|drain) (.*) in one gulp, then (throws|throw) (.*) away\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Burp"..math.random(1, 5)..".ogg")
    CurrentSocialSound = PlaySound("Socials/BreakingGlass3.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (takes|take) a bite of (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/Eat.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (finishes|finish) the last of (.*)\!$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentSocialSound = PlaySound("Socials/EatUp.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="All drones are busy repairing."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The viewscreen is filled with brilliant white light as Relic * explodes!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/RelicExploding"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You instruct the microdrones to repair the damaged equipment."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/RepairStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Coordinates: (*)"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Scan"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Distance: *."
   send_to="12"
   sequence="100"
  >
  <send>
    if (tonumber("%1") == 1) then
      CurrentGlobalSound = PlaySound("General/Misc/Roundtime.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Current coordinates: *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Note("%1")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has resolved an assist from *."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Note(Trim(string.gsub("%0", "*", "")))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^Being (hauled|harvested|mined|cleaned)\, no\.$"
   omit_from_output="y"
   regexp="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="* tap*a few buttons on * control console."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Computer/Keyboard"..math.random(1, 7)..".ogg")
    if not (string.match(string.lower("%1"), "you")) then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Enter security access code:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/Scanning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The keypad beeps, allowing you to pass."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/ScanSuccess.ogg")
    Note("Code accepted.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A small panel flashes 'Access denied' when you tap some keys on the keypad."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("Ship/Misc/ScanFailure.ogg")
    Note("Code denied.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^Verb programmed\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/SaveSuccessful.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^Verb not programmed\."
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlaySound("General/Hosts/SaveFailed.ogg")
  </send>
  </trigger>
</triggers>

<aliases>
  <alias
   enabled="y"
   match="^bat$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("beaconadd translator")
  </send>
  </alias>
  <alias
   enabled="y"
   match="^brt$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("beaconremove translator")
  </send>
  </alias>
  <alias
   enabled="y"
   match="^btt$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("beaconto translator")
  </send>
  </alias>
  <alias
   enabled="y"
   match="^q$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("@abort")
  </send>
  </alias>
  <alias
   enabled="y"
   match="^readme$"
   omit_from_command_history="y"
   omit_from_log="y"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    local readme = GetInfo(66).."Soundpack.txt"
    if (Path.exists(readme)) then
      res = utils.msgbox("Are you sure you want to open to tread this file now?", "Confirmation", "yesno", "?", 1)
      if (res == "yes") then
        utils.shellexecute ("cmd", "/C notepad.exe "..readme, GetInfo(66), "open", 0)
      end
    else
      error("This readme file is not available!")
    end
  </send>
  </alias>
  <alias
   enabled="y"
   match="^changelog$"
   omit_from_command_history="y"
   omit_from_log="y"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    local changelog = GetInfo(66).."changelog.txt"
    if (Path.exists(changelog)) then
      res = utils.msgbox("Are you sure you want to open the change log file now?", "Confirmation", "yesno", "?", 1)
      if (res == "yes") then
        utils.shellexecute ("cmd", "/C notepad.exe "..changelog, GetInfo(66), "open", 0)
      end
    else
      error("This changelog file is not available!")
    end
  </send>
  </alias>
  <alias
   enabled="y"
   match="^version$"
   omit_from_command_history="y"
   omit_from_log="y"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    Note("Soundpack Version "..GetVariable("version")..".")
  </send>
  </alias>
  <alias
   enabled="y"
   match="^mcv$"
   omit_from_command_history="y"
   omit_from_log="y"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    Note("MUSHclient Version "..GetInfo(72)..", compiled on "..GetInfo(73)..".")
  </send>
  </alias>
  <alias
   enabled="y"
   match="^lag$"
   regexp="y"
   omit_from_command_history="y"
   omit_from_log="y"
   omit_from_output="y"
   send_to="12"
   sequence="99"
  >
  <send>
    Execute("@lag")
  </send>
  </alias>
  <alias
   enabled="y"
   match="^dt$"
   regexp="y"
   omit_from_command_history="y"
   omit_from_log="y"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("deliver-time")
  </send>
  </alias>
</aliases>

<script>
<![CDATA[

version = io.open(GetInfo(66).."version.info", "r")
SetVariable("version", version:read("*a"))
version:close()

SoundFolder = string.gsub(GetInfo(74), "\\", "/")

ConfigTable = {}
ConfigTable.Settings = {}
ConfigTable.Settings.ScreenReader = "MushReader"
ConfigTable.Settings.SoundVolume = 50
ConfigTable.Settings.RoomVolume = 50
ConfigTable.Settings.CombatVolume = 50
ConfigTable.Settings.GlobalSounds = true
ConfigTable.Settings.RoomSounds = true
ConfigTable.Settings.CombatSounds = true
ConfigTable.Settings.Music = false
ConfigTable.Settings.Numpad = true
ConfigTable.Settings.SalvagingMessages = false
ConfigTable.Settings.GrabbingMessages = false
ConfigTable.Settings.HarvestingMessages = false
ConfigTable.Settings.Roundtime = true

ConfigFile = require("ini")

guns = {"pistol", "rifle", "shotgun", "sniper"}

CurrentPowerStatus = ""
CurrentRoomName = ""

CurrentRoomSound = 1
CurrentGlobalSound = 1
CurrentCombatSound = 1
CurrentSocialSound = 1

SPowerLoop = 0
ShowerStatus = false
ShowerLoop = 0
EmergencyWeaponStatus = false
EmergencyWeaponLoop = 0
LiftMovingStatus = false
LiftMovingLoop = 0

Path = require("pl.path")
PPI = require("ppi")
ppi = PPI.Load("aedf0cb0be5bf045860d54b7")
if not ppi then
  error("Dependency plugin not installed!")
end

Accelerator("Alt+C", "c")
Accelerator("Alt+Shift+C", "gc")
Accelerator("Alt+H", "hp")
Accelerator("Alt+G", "cash")
Accelerator("Alt+X", "goal")
Accelerator("Alt+,", "ht")
AcceleratorTo("F9", "SetSoundVolume(-5)", 12)
AcceleratorTo("F10", "SetSoundVolume(5)", 12)
AcceleratorTo("Ctrl+F9", "SetRoomVolume(-5)", 12)
AcceleratorTo("Ctrl+F10", "SetRoomVolume(5)", 12)
AcceleratorTo("Ctrl+Shift+F9", "SetCombatVolume(-5)", 12)
AcceleratorTo("Ctrl+Shift+F10", "SetCombatVolume(5)", 12)
AcceleratorTo("Alt+F9", "ToggleGlobalSounds()", 12)
AcceleratorTo("Alt+F10", "ToggleRoomSounds()", 12)
AcceleratorTo("Alt+F11", "ToggleCombatSounds()", 12)
AcceleratorTo("Decimal", "ToggleNumpad()", 12)

function Capitalize(str)
  if (str == nil) then
    return
  end
  return (str:gsub("^%l", string.upper))
end

function Trim(str)
  if (str == nil) then
    return
  end
  return (str:gsub("^%s*(.-)%s*$", "%1"))
end

function DisplayConfigMenu()
  local title = "Available Options"
  local help_text = "To change an option, go to the option from the list, then press the Enter key (or click OK)."
  repeat 
    choices = {}
    result = utils.choose(help_text, title, choices, result)
    if (result) then
      Execute("tts_interrupt Option changed to "..choices[result]..".")
    else
      Execute("tts_interrupt Option unchanged.")
    end
  until not result
end

function ToggleNumpad()
  if (ConfigTable.Settings.Numpad == true) then
    Accelerator("Numpad1", "southwest")
    Accelerator("Numpad2", "south")
    Accelerator("Numpad3", "southeast")
    Accelerator("Numpad4", "west")
    Accelerator("Numpad5", "look")
    Accelerator("Numpad6", "east")
    Accelerator("Numpad7", "northwest")
    Accelerator("Numpad8", "north")
    Accelerator("Numpad9", "northeast")
    Accelerator("Numpad0", "look")
    Accelerator("Divide", "in")
    Accelerator("Multiply", "out")
    Accelerator("Subtract", "up")
    Accelerator("Add", "down")
    ConfigTable.Settings.Numpad = false
    Note("Numpad switched to navigation mode.")
  elseif (ConfigTable.Settings.Numpad == false) then
    Accelerator("Numpad1", "1")
    Accelerator("Numpad2", "2")
    Accelerator("Numpad3", "3")
    Accelerator("Numpad4", "4")
    Accelerator("Numpad5", "galcoords")
    Accelerator("Numpad6", "6")
    Accelerator("Numpad7", "7")
    Accelerator("Numpad8", "8")
    Accelerator("Numpad9", "9")
    Accelerator("Numpad0", "navi")
    Accelerator("Divide", "manual")
    Accelerator("Multiply", "auto")
    Accelerator("Subtract", "-")
    Accelerator("Add", "+")
    ConfigTable.Settings.Numpad = true
    Note("Numpad switched to walk mode.")
  end
  CurrentGlobalSound = PlaySound("General/Misc/Switch.ogg")
end

function SetAreaAmbience(AreaName)
  if (CurrentRoomName == AreaName) then
    return
  end
  StopSound(CurrentRoomSound)
  if (string.match(string.lower(AreaName), "landing")) then
    CurrentRoomSound = PlayLoopRoomSound("General/LandingPad.ogg")
  elseif (string.match(string.lower(AreaName), "docking")) then
    CurrentRoomSound = PlayLoopRoomSound("General/LandingPad.ogg")
  elseif (string.match(string.lower(AreaName), "research")) then
    CurrentRoomSound = PlayLoopRoomSound("General/Research.ogg")
  elseif (string.match(string.lower(AreaName), "lake")) then
    CurrentRoomSound = PlayLoopRoomSound("General/Lake.ogg")
  elseif (string.match(string.lower(AreaName), "river")) then
    CurrentRoomSound = PlayLoopRoomSound("General/River"..math.random(1, 2)..".ogg")
  elseif (string.match(string.lower(AreaName), "ocean")) then
    CurrentRoomSound = PlayLoopRoomSound("General/Ocean.ogg")
  elseif (string.match(string.lower(AreaName), "sea")) then
    CurrentRoomSound = PlayLoopRoomSound("General/Ocean.ogg")
  elseif (string.match(string.lower(AreaName), "garage")) then
    CurrentRoomSound = PlayLoopRoomSound("General/Garage.ogg")
  elseif (string.match(string.lower(AreaName), "dig")) then
    CurrentRoomSound = PlayLoopRoomSound("General/DigSite.ogg")
  elseif ((string.match(string.lower(AreaName), "missions")) or (string.match(string.lower(AreaName), "mission"))) then
    CurrentRoomSound = PlayLoopRoomSound("General/MissionCenter.ogg")
  elseif (string.match(string.lower(AreaName), "medical")) then
    CurrentRoomSound = PlayLoopRoomSound("General/Medical.ogg")
  elseif (string.match(string.lower(AreaName), "apartment lobby")) then
    CurrentRoomSound = PlayLoopRoomSound("General/ApartmentLobby.ogg")
  elseif ((string.match(string.lower(AreaName), "lounge")) or (string.match(string.lower(AreaName), "bar"))) then
    CurrentRoomSound = PlayLoopRoomSound("General/PilotsLounge.ogg")
  elseif (string.match(string.lower(AreaName), "pub")) then
    CurrentRoomSound = PlayLoopRoomSound("General/PilotsLounge.ogg")
  elseif (string.match(string.lower(AreaName), "cafe")) then
    CurrentRoomSound = PlayLoopRoomSound("General/PilotsLounge.ogg")
  elseif (string.match(string.lower(AreaName), "cave")) then
    CurrentRoomSound = PlayLoopRoomSound("General/Cave.ogg")
  elseif (string.match(string.lower(AreaName), "lottery center")) then
    CurrentRoomSound = PlayLoopRoomSound("General/LotteryCenter.ogg")
  elseif (string.match(string.lower(AreaName), "newly colonized planet")) then
    CurrentRoomSound = PlayLoopRoomSound("General/Relic.ogg")
  elseif (string.match(string.lower(AreaName), "repair part store")) then
    CurrentRoomSound = PlayLoopRoomSound("General/Relic.ogg")
  elseif (string.match(string.lower(AreaName), "asteroid")) then
    CurrentRoomSound = PlayLoopRoomSound("General/AsteroidSurface.ogg")
  else
    CurrentRoomSound = PlayLoopRoomSound("General/GenericRoom.ogg")
  end
  CurrentRoomName = AreaName
end

function SetStarshipAmbience(RoomName, PowerStatus)
  if ((CurrentRoomName == RoomName) and (CurrentPowerStatus == PowerStatus)) then
    return
  end
  StopSound(CurrentRoomSound)
  if (PowerStatus == "On") then
    if (string.match(string.lower(RoomName), "airlock")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/Airlock.ogg")
    elseif (string.match(string.lower(RoomName), "entrance")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/Airlock.ogg")
    elseif ((string.match(string.lower(RoomName), "corridor")) or (string.match(string.lower(RoomName), "coridor"))) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/Corridor.ogg")
    elseif (string.match(string.lower(RoomName), "deck")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/Deck.ogg")
    elseif (string.match(string.lower(RoomName), "control")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/Control"..math.random(1, 2)..".ogg")
    elseif (string.match(string.lower(RoomName), "bridge")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/Control"..math.random(1, 2)..".ogg")
    elseif (string.match(string.lower(RoomName), "command")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/Control"..math.random(1, 2)..".ogg")
    elseif (string.match(string.lower(RoomName), "engineering")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/Engineering"..math.random(1, 2)..".ogg")
    elseif (string.match(string.lower(RoomName), "repair")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/Engineering"..math.random(1, 2)..".ogg")
    elseif (string.match(string.lower(RoomName), "battle")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/WeaponsRoom.ogg")
    elseif (string.match(string.lower(RoomName), "cannon")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/WeaponsRoom.ogg")
    elseif (string.match(string.lower(RoomName), "laser")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/WeaponsRoom.ogg")
    elseif (string.match(string.lower(RoomName), "missile")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/WeaponsRoom.ogg")
    elseif (string.match(string.lower(RoomName), "torpedo")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/WeaponsRoom.ogg")
    elseif (string.match(string.lower(RoomName), "weapon")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/WeaponsRoom.ogg")
    elseif ((string.match(string.lower(RoomName), "defense")) or (string.match(string.lower(RoomName), "defence"))) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/WeaponsRoom.ogg")
    elseif (string.match(string.lower(RoomName), "observation")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/ObservationRoom.ogg")
    elseif ((string.match(string.lower(RoomName), "quarter")) or (string.match(string.lower(RoomName), "headquarter"))) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/LivingQuarters"..math.random(1, 2)..".ogg")
    elseif (string.match(string.lower(RoomName), "arrival")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/DockingBay.ogg")
    elseif (string.match(string.lower(RoomName), "docking")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/DockingBay.ogg")
    elseif (string.match(string.lower(RoomName), "vehicle")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/VehicleBay.ogg")
    elseif ((string.match(string.lower(RoomName), "stateroom")) or (string.match(string.lower(RoomName), "state room"))) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/StateRoom.ogg")
    elseif (string.match(string.lower(RoomName), "cargo")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/Storage.ogg")
    elseif (string.match(string.lower(RoomName), "storage")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/Storage.ogg")
    elseif (string.match(string.lower(RoomName), "medical")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/Medical.ogg")
    elseif (string.match(string.lower(RoomName), "infirmery")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/Medical.ogg")
    elseif (string.match(string.lower(RoomName), "misc")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/MiscShipRoom.ogg")
    elseif (string.match(string.lower(RoomName), "lift")) then
      CurrentRoomSound = PlayLoopRoomSound("Ship/Lift.ogg")
    else
      CurrentRoomSound = PlayLoopRoomSound("Ship/MiscShipRoom.ogg")
    end
  elseif (PowerStatus == "Off") then
    CurrentRoomSound = PlayLoopRoomSound("Ship/NoPower.ogg")
  end
  CurrentPowerStatus = PowerStatus
  CurrentRoomName = RoomName
end

function SetVehicleAmbience(VehicleType, PowerStatus)
  if ((CurrentRoomName == VehicleType) and (CurrentPowerStatus == PowerStatus)) then
    return
  end
  StopSound(CurrentRoomSound)
  if (PowerStatus == "POWERED") then
    if (string.match(string.lower(VehicleType), "transport vehicle")) then
      CurrentRoomSound = PlayLoopRoomSound("Vehicle/Transport.ogg")
    elseif (string.match(string.lower(VehicleType), "mining vehicle")) then
      CurrentRoomSound = PlayLoopRoomSound("Vehicle/Mining.ogg")
    elseif (string.match(string.lower(VehicleType), "combat vehicle")) then
      CurrentRoomSound = PlayLoopRoomSound("Vehicle/Combat.ogg")
    elseif (string.match(string.lower(VehicleType), "airspace defender")) then
      CurrentRoomSound = PlayLoopRoomSound("Vehicle/Airspace.ogg")
    elseif (string.match(string.lower(VehicleType), "airspace scooper")) then
      CurrentRoomSound = PlayLoopRoomSound("Vehicle/Airspace.ogg")
    elseif (string.match(string.lower(VehicleType), "trash collecting vehicle")) then
      CurrentRoomSound = PlayLoopRoomSound("Vehicle/Trash.ogg")
    end
  elseif (PowerStatus == "UNPOWERED") then
    CurrentRoomSound = PlayLoopRoomSound("Ship/NoPower.ogg")
  end
  CurrentPowerStatus = PowerStatus
  CurrentRoomName = VehicleType
end

function SetSpaceAmbience(Space)
  if (CurrentRoomName == Space) then
    return
  end
  StopSound(CurrentRoomSound)
  if (string.match(string.lower(Space), "space")) then
      CurrentRoomSound = PlayLoopRoomSound("General/SpaceSuit.ogg")
  end
  CurrentRoomName = Space
end

function SetShowerAmbience(Shower)
  if (CurrentRoomName == Shower) then
    return
  end
  StopSound(CurrentRoomSound)
  CurrentRoomName = Shower
end

function PlaySound(snd, vol, pan)
  if (ConfigTable.Settings.GlobalSounds == true) then
    vol = vol or tonumber(ConfigTable.Settings.SoundVolume)
    pan = pan or 0
    return ppi.play(SoundFolder.."/"..snd, 0, pan, vol)
  end
end

function PlayLoopSound(snd, vol, pan)
  if (ConfigTable.Settings.GlobalSounds == true) then
    vol = vol or tonumber(ConfigTable.Settings.SoundVolume)
    pan = pan or 0
    return ppi.play(SoundFolder.."/"..snd, 1, pan, vol)
  end
end

function PlayLoopRoomSound(snd, vol, pan)
  if (ConfigTable.Settings.RoomSounds == true) then
    vol = vol or tonumber(ConfigTable.Settings.RoomVolume)
    pan = pan or 0
    return ppi.play(SoundFolder.."/Rooms/"..snd, 1, pan, vol)
  end
end

function StopSound(id)
  if ((tonumber(id) ~= nil) and (ppi.isPlaying(id) == 1)) then
    ppi.stop(id)
  end
end

function ToggleGlobalSounds()
  if (ConfigTable.Settings.GlobalSounds == true) then
    ConfigTable.Settings.GlobalSounds = false
    StopSound(CurrentGlobalSound)
    Note("Global sounds disabled.")
  elseif (ConfigTable.Settings.GlobalSounds == false) then
    ConfigTable.Settings.GlobalSounds = true
    Note("Global sounds enabled.")
  end
end

function ToggleRoomSounds()
  if (ConfigTable.Settings.RoomSounds == true) then
    ConfigTable.Settings.RoomSounds = false
    StopSound(CurrentRoomSound)
    Note("Room sounds disabled.")
  elseif (ConfigTable.Settings.RoomSounds == false) then
    ConfigTable.Settings.RoomSounds = true
    Note("Room sounds enabled.")
  end
end

function ToggleCombatSounds()
  if (ConfigTable.Settings.CombatSounds == true) then
    ConfigTable.Settings.CombatSounds = false
    StopSound(CurrentCombatSound)
    Note("Combat sounds disabled.")
  elseif (ConfigTable.Settings.CombatSounds == false) then
    ConfigTable.Settings.CombatSounds = true
    Note("Combat sounds enabled.")
  end
end

function SetSoundVolume(Value)
  if (ConfigTable.Settings.GlobalSounds == true) then
    if (ConfigTable.Settings.SoundVolume + Value <= 100) and (ConfigTable.Settings.SoundVolume + Value > 0) then
      ConfigTable.Settings.SoundVolume = ConfigTable.Settings.SoundVolume + Value
      CurrentGlobalSound = PlaySound("General/Misc/Switch.ogg")
      ppi.setVol(ConfigTable.Settings.VolumeSounds, CurrentGlobalSound)
      Note("Global Sound Volume: "..tostring(ConfigTable.Settings.SoundVolume).." percent.")
    else
      if (ConfigTable.Settings.SoundVolume + Value > 100) then
        CurrentGlobalSound = PlaySound("General/Misc/Error.ogg")
        Note("Global sound volume can't go higher.")
        return
      elseif (ConfigTable.Settings.SoundVolume + Value < 1) then
        CurrentGlobalSound = PlaySound("General/Misc/Error.ogg")
        Note("Global sound volume can't go lower.")
        return
      end
    end
  elseif (ConfigTable.Settings.GlobalSounds == false) then
    Note("Global sounds are currently disabled.")
    return
  end
  SaveConfig()
end

function SetRoomVolume(Value)
  if (ConfigTable.Settings.RoomSounds == true) then
    if (ConfigTable.Settings.RoomVolume + Value <= 100) and (ConfigTable.Settings.RoomVolume + Value > 0) then
      ConfigTable.Settings.RoomVolume = ConfigTable.Settings.RoomVolume + Value
      CurrentGlobalSound = PlaySound("General/Misc/Switch.ogg")
      ppi.setVol(ConfigTable.Settings.RoomVolume, CurrentRoomSound)
      Note("Room Volume: "..tostring(ConfigTable.Settings.RoomVolume).." percent.")
    else
      if (ConfigTable.Settings.RoomVolume + Value > 100) then
        CurrentGlobalSound = PlaySound("General/Misc/Error.ogg")
        Note("Room sound volume can't go higher.")
        return
      elseif (ConfigTable.Settings.RoomVolume + Value < 1) then
        CurrentGlobalSound = PlaySound("General/Misc/Error.ogg")
        Note("Room sound volume can't go lower.")
        return
      end
    end
  else
    Note("Room sounds are currently disabled.")
    return
  end
  SaveConfig()
end

function SetCombatVolume(Value)
  if (ConfigTable.Settings.CombatSounds == true) then
    if (ConfigTable.Settings.CombatVolume + Value <= 100) and (ConfigTable.Settings.CombatVolume + Value > 0) then
      ConfigTable.Settings.CombatVolume = ConfigTable.Settings.CombatVolume + Value
      CurrentGlobalSound = PlaySound("General/Misc/Switch.ogg")
      ppi.setVol(ConfigTable.Settings.CombatVolume, CurrentCombatSound)
      Note("Combat Sound Volume: "..tostring(ConfigTable.Settings.CombatVolume).." percent.")
    else
      if (ConfigTable.Settings.CombatVolume + Value > 100) then
        CurrentGlobalSound = PlaySound("General/Misc/Error.ogg")
        Note("Combat sound volume can't go higher.")
        return
      elseif (ConfigTable.Settings.CombatVolume + Value < 1) then
        CurrentGlobalSound = PlaySound("General/Misc/Error.ogg")
        Note("Combat sound volume can't go lower.")
        return
      end
    end
  else
    Note("Combat sounds are currently disabled.")
    return
  end
  SaveConfig()
end

function LoadConfig()
  ConfigFile.read("Config.txt", ConfigTable)
end

function SaveConfig()
  ConfigFile.write("Config.txt", ConfigTable)
end

function OnPluginConnect()
  LoadConfig()
  if (ConfigTable.Settings.Music == true) then
    CurrentGlobalSound = PlaySound("Music/"..math.random(1, 5)..".ogg")
  end
  Note("Soundpack Version "..GetVariable("version")..".")
end

function OnPluginDisconnect()
  StopSound(CurrentRoomSound)
  StopSound(CurrentGlobalSound)
  CurrentGlobalSound = PlaySound("General/Misc/MudDisconnected.ogg")
  SaveConfig()
end

function OnPluginInstall()
  if not Path.exists("Config.txt") then
    res = utils.msgbox("Congratulations! The Prometheus Soundpack is now ready. For more information open the readme file. Are you sure you want to read it now?", "Confirmation", "yesno", "?", 1)
    if (res == "yes") then
      utils.shellexecute ("cmd", "/C notepad.exe "..GetInfo(66).."Soundpack.txt", GetInfo(66), "open", 0)
    end
    return
  end
  LoadConfig()
end

]]>
</script>

</muclient>
