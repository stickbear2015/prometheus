<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>

<muclient>

<plugin
   name="Prometheus"
   author="Nyano"
   id="ad8f25246eb08f268411d690"
   language="Lua"
   purpose="Soundpack for Prometheus: The Eternal Wars."
   requires="5.00"
  >
</plugin>

<include name="constants.lua"/>

<triggers>
  <trigger
   enabled="y"
   match="^\#\$\#mcp version\: 2\.1 to\: 2\.1$"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("#$#register_soundpack Mush Soundpack | "..GetVariable("version"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^\#\$\#register_soundpack (registered|old_version \| (.+))$"
   omit_from_output="y"
   regexp="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (string.match("%1", "old_version")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Outdated.ogg")
      Note("There's a new version available for your Mush soundpack. Please update soon!")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^\#\$\#register_soundpack old_version$"
   omit_from_output="y"
   regexp="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (string.match("%1", "old_version")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Outdated.ogg")
      Note("There's a new version available for your Mush soundpack. Please update soon!")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^\#\$\#soundpack ambiance \| (.+) \| (indoors|outside|unpowered|powered) \| (.+)$"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    StopSound(CurrentRoomSound)
    if (string.match("%1", "planet") or string.match("%1", "spacestation")) then
      CurrentRoomSound = PlayRoomSound(Capitalize("%1").."/"..Capitalize("%3")..".ogg")
    elseif (string.match("%1", "starship")) then
      if not string.match("%2", "unpowered") then
        CurrentRoomSound = PlayRoomSound("Starship/"..Capitalize("%3")..".ogg")
      end
    elseif (string.match("%1", "vehicle")) then
      if not string.match("%2", "unpowered") then
        CurrentRoomSound = PlayRoomSound("Vehicle/"..Capitalize("%3")..".ogg")
      end
    elseif (string.match("%1", "misc")) then
      if (string.match("%3", "asteroid")) then
        CurrentRoomSound = PlayRoomSound("Misc/"..Capitalize("%3")..".ogg")    
      end
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^\#\$\#soundpack door \| (planet|spacestation|starship) \| (.+) \| (open|close)$"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "starship")) then
      if (string.match("%3", "open")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Misc/StarshipDoorOpen.ogg")
      elseif (string.match("%3", "close")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Misc/StarshipDoorClose.ogg")
      end
    else
      if (string.match("%2", "swing") and string.match("%3", "open")) then
        CurrentGlobalSound = PlayGlobalSound("General/Misc/SwingDoorOpen.ogg")
      elseif (string.match("%2", "swing") and string.match("%3", "close")) then
        CurrentGlobalSound = PlayGlobalSound("General/Misc/SwingDoorClose.ogg")
      else
        if (string.match("%3", "open")) then
          CurrentGlobalSound = PlayGlobalSound("General/Misc/DoorOpen.ogg")
        elseif (string.match("%3", "close")) then
          CurrentGlobalSound = PlayGlobalSound("General/Misc/DoorClose.ogg")
        end
      end
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^\#\$\#soundpack footstep \| (.+) \| (indoors|outside) \| (.+)$"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "planet") or string.match("%1", "spacestation") or string.match("%1", "starship")) then
      CurrentGlobalSound = PlayGlobalSound("Footsteps/"..Capitalize("%1")..math.random(1, 8)..".ogg")
    elseif (string.match("%1", "room") and string.match("%2", "indoor")) then
      CurrentGlobalSound = PlayGlobalSound("Footsteps/Room"..math.random(1, 4)..".ogg")
    else
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Movement.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^\#\$\#soundpack social \| (channel|room) \| (female|male|neuter) \| (.+)$"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (ConfigTable.Settings.SocialSounds == 1) then
      if (string.match("%3", "pyrianSay")) then
        if (string.match("%1", "room")) then
          CurrentGlobalSound = PlayGlobalSound("Socials/PyrianChitter"..math.random(1, 10)..".ogg")
        end
      elseif (string.match("%3", "belch")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Belch"..math.random(1, 3)..".ogg")
      elseif (string.match("%3", "burp")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Burp"..math.random(1, 5)..".ogg")
      elseif (string.match("%3", "cackle")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Cackle_"..Capitalize("%2")..".ogg")
      elseif (string.match("%3", "cheer")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Cheer_"..Capitalize("%2")..math.random(1, 3)..".ogg")
      elseif (string.match("%3", "collapse")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Collapse"..math.random(1, 3)..".ogg")
      elseif (string.match("%3", "cough")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Cough_"..Capitalize("%2")..".ogg")
      elseif (string.match("%3", "cry")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Cry"..math.random(1, 4)..".ogg")
      elseif (string.match("%3", "fart")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Fart"..math.random(1, 5)..".ogg")
      elseif (string.match("%3", "gag")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Gag"..math.random(1, 2)..".ogg")
      elseif (string.match("%2", "female") and string.match("%3", "giggle")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Giggle"..math.random(1, 7)..".ogg")
      elseif (string.match("%1", "room") and string.match("%3", "hmm")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Say.ogg")
      elseif (string.match("%3", "kick")) then
        if (string.match("%1", "room")) then
          CurrentCombatSound = PlayCombatSound("Ground/Fight/"..Capitalize("%2").."/"..math.random(1, 20)..".ogg")
        end
        CurrentGlobalSound = PlayGlobalSound("Socials/Kick"..math.random(1, 9)..".ogg")
      elseif (string.match("%3", "kiss")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Kiss"..math.random(1, 2)..".ogg")
      elseif (string.match("%3", "laugh")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Laugh_"..Capitalize("%2")..math.random(1, 2)..".ogg")
      elseif (string.match("%3", "lol")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Lol_"..Capitalize("%2")..math.random(1, 2)..".ogg")
      elseif (string.match("%3", "moan")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Moan_"..Capitalize("%2")..math.random(1, 2)..".ogg")
      elseif (string.match("%3", "punch")) then
        if (string.match("%1", "room")) then
          CurrentCombatSound = PlayCombatSound("Ground/Fight/"..Capitalize("%2").."/"..math.random(1, 20)..".ogg")
        end
        CurrentGlobalSound = PlayGlobalSound("Socials/Punch"..math.random(1, 10)..".ogg")
      elseif (string.match("%3", "rofl")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Rofl_"..Capitalize("%2")..math.random(1, 2)..".ogg")
      elseif (string.match("%3", "scream")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Scream_"..Capitalize("%2")..".ogg")
      elseif (string.match("%3", "sigh")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Sigh_"..Capitalize("%2")..math.random(1, 2)..".ogg")
      elseif (string.match("%3", "slap")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Slap"..math.random(1, 5)..".ogg")
      elseif (string.match("%3", "snap")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Snap"..math.random(1, 3)..".ogg")
      elseif (string.match("%3", "tackle")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Tackle"..math.random(1, 5)..".ogg")
      elseif (string.match("%3", "whistle")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Whistle"..math.random(1, 6)..".ogg")
      elseif (string.match("%3", "yawn")) then
        CurrentGlobalSound = PlayGlobalSound("Socials/Yawn_"..Capitalize("%2")..".ogg")
      else
        CurrentGlobalSound = PlayGlobalSound("Socials/"..Capitalize("%3")..".ogg")
      end
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^\#\$\#PrometheusKeepAlive$"
   omit_from_log="y"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="^An (X-Loritan .+|alien creature) (kicks|punches) (you|.+) in (.+)\.$"
   ignore_case="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%2", "kicks")) then
      CurrentGlobalSound = PlayGlobalSound("Combat/Ground/Fight/Neuter/"..math.random(1, 20)..".ogg")
      CurrentGlobalSound = PlayGlobalSound("Socials/Kick"..math.random(1, 9)..".ogg")
    elseif (string.match("%2", "punches")) then
      CurrentGlobalSound = PlayGlobalSound("Combat/Ground/Fight/Neuter/"..math.random(1, 20)..".ogg")
      CurrentGlobalSound = PlayGlobalSound("Socials/Punch"..math.random(1, 10)..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^([\-]+)$"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="[Input]"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Username:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Password:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Report complete."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Suggestion sent."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^Wait (\d+) (seconds?|minutes?)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (says|say)(.*?)\: (.*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (ConfigTable.Settings.Accents == 1) then
      Execute("history_add All=%0")
      Execute("history_add Conversations=%0")
    else
      Execute("history_add All=%1 %2: %4")
      Execute("history_add Conversations=%1 %2: %4")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) translator announces(.*?)\, &quot;(.*)&quot;$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add Conversations=%0")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^\[([A-Za-z- ]+)\][,:]? [&quot;]?(.*)[&quot;]?$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if not tonumber("%1") then
      if (string.len("%1") > 1) then
        Execute("history_add All=%0")
        Execute("history_add "..Explode("%1", "-")[1].."=%2")
      end
      CurrentGlobalSound = PlayGlobalSound("General/Channels/%1.ogg")
      if (string.match("%1", "OOC") and string.match("%2", "A pre\-recorded message")) then
        CurrentGlobalSound = PlayGlobalSound("General/Hosts/Announcement.ogg")
      elseif (string.match("%1", "General") and string.match("%2", "UTF Communications Officer")) then
        CurrentGlobalSound = PlayGlobalSound("General/Misc/Alarm.ogg")
      elseif (string.match(string.lower("%1"), "info")) then
        if (string.match("%2", "entered the game")) then
          CurrentGlobalSound = PlayGlobalSound("General/Misc/LoggedOn.ogg")
        elseif (string.match("%2", "left the game")) then
          CurrentGlobalSound = PlayGlobalSound("General/Misc/LoggedOff.ogg")
        end
      elseif (string.match(string.lower("%1"), "flight control")) then
        if (string.match("%2", "static")) then
          CurrentGlobalSound = PlayGlobalSound("General/Comm/Static"..math.random(1, 5)..".ogg")
        elseif (string.match(string.lower("%2"), "ground on")) then
          CurrentCombatSound = PlayCombatSound("Ground/GroundTroops.ogg")
        elseif (string.match(string.lower("%2"), "enemies are forcing a landing")) then
          CurrentGlobalSound = PlayGlobalSound("General/Comm/FlightControlForcedLanding.ogg")
        elseif (string.match("%2", "Forced landing at")) then
          CurrentGlobalSound = PlayGlobalSound("General/Comm/FlightControlForcedLanding.ogg")
        elseif (string.match("%2", "Detecting") and string.match("%2", "Repeat")) then
          CurrentGlobalSound = PlayGlobalSound("General/Comm/FlightControlEnemiesEntering.ogg")
        elseif (string.match("%2", "inbound enemy")) then
          CurrentGlobalSound = PlayGlobalSound("General/Comm/FlightControlEnemiesEntering.ogg")
        elseif (string.match("%2", "retreating")) then
          CurrentGlobalSound = PlayGlobalSound("General/Comm/FlightControlEnemiesRetreating.ogg")
        elseif (string.match("%2", "destroyed")) then
          if not string.match("%2", "X\-Loritan") then
            CurrentGlobalSound = PlayGlobalSound("Combat/Space/OtherDestroyed"..math.random(1, 8)..".ogg")
          end
        elseif (string.match(string.lower("%1"), "commpipe")) then
          if (string.match("%2", "has been salvaged") or string.match("%2", "has been harvested") or string.match("%2", "successfully grabbed") or string.match("%2", "Valuable material found") or string.match("%2", "No minerals detected")) then
            if (ConfigTable.Settings.SalvagingMessages == 0) then
              if (string.match("%2", "prepared for future use")) then
                CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Prepared.ogg")
              else
                return
              end
            end
            if (ConfigTable.Settings.GrabbingMessages == 0) then
              return
            end
            if (ConfigTable.Settings.HarvestingMessages == 0) then
              return
            end
          elseif (string.match("%1", "detected in the sector")) then
            if (string.match("%1", "enemy starship")) then
              CurrentGlobalSound = PlayGlobalSound("Starship/Computer/EnemyDetected.ogg")
            end
            if (string.match("%1", "artifact")) then
              CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Artifact.ogg")
            end
            if (string.match("%1", "friendly")) then
              CurrentGlobalSound = PlayGlobalSound("Starship/Computer/FriendlyShip.ogg")
            end
            if (string.match("%1", " relic")) then
              CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Relic.ogg")
            end
            if (string.match("%1", "comet")) then
              CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Comet.ogg")
            end
            if (string.match("%1", "shipwreck")) then
              CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Shipwreck.ogg")
            end
            if (string.match("%1", "planet")) then
              CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Planet.ogg")
            end
            if (string.match("%1", "spacestation")) then
              CurrentGlobalSound = PlayGlobalSound("Starship/Computer/SpaceStation.ogg")
            end
            if (string.match(string.lower("%1"), " star ")) then
              CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Star.ogg")
            end
            if (string.match("%1", "derelict starship")) then
              CurrentGlobalSound = PlayGlobalSound("Starship/Derelicts/AlienStarship.ogg")
            end
            if (string.match("%1", "asteroid")) then
              CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Asteroid.ogg")
            end
            if (string.match("%1", "debris")) then
              CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Debris.ogg")
            end
            if (string.match("%1", "spacebear")) then
              CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Spacebear.ogg")
            end
          elseif (string.match("%2", "Ppowering down due to lack of charge")) then
            CurrentGlobalSound = PlayGlobalSound("Starship/Computer/LowCharge"..math.random(1, 2)..".ogg")
          elseif (string.match("%2", "Shutting down due to low power conditions")) then
            CurrentGlobalSound = PlayGlobalSound("Starship/Computer/LowCharge"..math.random(1, 2)..".ogg")
          elseif (string.match("%2", "Beam locked")) then
            CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Warning.ogg")
          elseif (string.match("%2", "The beam stops abruptly")) then
            CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Warning.ogg")
          elseif (string.match("%2", "Excavation cannot continue due to the equipment being damaged")) then
            CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Warning.ogg")
          end
        end
      elseif (string.match(string.lower("%1"), "ship construction")) then
        CurrentGlobalSound = PlayGlobalSound("General/Comm/Notify.ogg")
        CurrentGlobalSound = PlayGlobalSound("General/Misc/NewsFlash.ogg")
      elseif (string.match(string.lower("%1"), "events")) then
        if (string.match("%2", "added")) then
          CurrentGlobalSound = PlayGlobalSound("General/Hosts/EventsAdded.ogg")
        end
      elseif (string.match("%1", "PA")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Comm/PA"..math.random(1, 9)..".ogg")
      end
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[Frequency *] *"
   omit_from_output="y"
   send_to="14"
   sequence="99"
  >
  <send>
    Execute("history_add All=[%1] %2")
    Execute("history_add Frequency=[%1] %2")
    CurrentGlobalSound = PlayGlobalSound("General/Channels/Frequency.ogg")
    Note("[%1] "..Capitalize("%2"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[* to you]*"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=[%1 to you]%2")
    Execute("history_add Private Communication=[%1 to you]%2")
    CurrentGlobalSound = PlayGlobalSound("General/Channels/Private.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[You to *]*"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=[You to %1]%2")
    Execute("history_add Private Communication=[You to %1]%2")
    CurrentGlobalSound = PlayGlobalSound("General/Channels/Private.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your application has been submitted."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The application console beeps as * complete*submitting an application."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/ScanSuccess.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Thank you for your answer!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Application submitted. Randomly check your hypermail to see your application status."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Beeps can be heard as the starship surveys the planet."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Scanning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Beeps and clicks can be heard as the starships surveyor activates."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Scanning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship completes surveying the planet."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The screen of * hypernet browser with * touchscreen flashes briefly, indicating that *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Devices/NewsFlash.ogg")
    if (string.match("%3", "new hypermail waiting for you")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/NewMail.ogg")
    end
    Note("The screen of your hypernet browser with touchscreen flashes briefly, informing you:") 
    Note(Capitalize("%3"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^\(From outside\: (.*)\)$"
   omit_from_output="y"
   regexp="y"
   send_to="14"
   sequence="99"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/CameraFeed.ogg")
    Note("[Camera] "..Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^\(In (.*)\: (.*)\)$"
   omit_from_output="y"
   regexp="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/CameraFeed.ogg")
    Note("[Camera] "..Capitalize("%2").." ("..Capitalize("%1")..")")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* &quot;* requesting * clearance*&quot; into a small microphone mounted on the console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/CommChirp1.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Announcement from *: *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=Game Announcement from %1: %2")
    Execute("history_add GameAnnouncements=Announcement from %1: %2")
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/Announcement.ogg")
    Note("Game Announcement from %1:")
    Note(Capitalize("%2"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[SUB-ANNOUNCEMENT | *]: &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=Game Sub-Announcement from %1: %2")
    Execute("history_add GameAnnouncements=Game Sub-Announcement from %1: %2")
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/SubAnnouncement.ogg")
    Note("Game Sub-Announcement from %1:")
    Note(Capitalize("%2"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[Code updates] *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=Code Updates: "..Capitalize("%1"))
    Execute("history_add Code Updates="..Capitalize("%1"))
    CurrentGlobalSound = PlayGlobalSound("General/Channels/CodeUpdates.ogg")
    Note("Code Updates:")
    Note(Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[CHANGES] *: *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=Game Changes: "..Capitalize("%2").." (Category: %1)")
    Execute("history_add GameChanges=%1: "..Capitalize("%2"))
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/GameChange"..math.random(1, 2)..".ogg")
    Note("Game Changes: %1")
    Note(Capitalize("%2"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* crumple*up into a ball and throw*it away."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Paper"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* bullet-proof statue crumples like paper!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Paper"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="In a sudden burst of anger at * bad luck, * tear*a PBS. Inc. lottery ticket up and throw*the pieces away!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Paper"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^Attention\! (.*)$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/News.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^\*\*\* Notice from (.*) \*\*\*$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/NewsFlash.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a humming noise *."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "as the docking bay door opens")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/DockingBayDoorOpen.ogg")
    elseif (string.match("%1", "as the docking bay door closes")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/DockingBayDoorClose.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A soft, steady hum starts up somewhere deep inside the bowels of the ship as the power up completes, blended with the smooth sound of the engines kicking in."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/PowerOn.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The humm dies down as the starship's powerup fails."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/BadCell.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The smooth hum deep within the bowels of the ship slowly subsides into silence as the starship's systems are powered down."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/PowerOff.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You press a large button on * wormhole recall remote."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Devices/ButtonPush.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Suddenly, you feel a pulling sensation behind your shoulderblades, and you are thrown into the swirling depths of a wormhole."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Teleported.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(An? .*) wormhole recall remote says in a synthesized voice\, &quot;(.*)&quot;$"
   ignore_case="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Socials/Say.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^A robotic voice from (.*) wormhole transport console says\, &quot;(.*)&quot;\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Socials/Say.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The monitor on * wormhole transport console flashes the words: *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Socials/Say.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the roar of * starship from outside."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "launching") or string.match("%1", "undocking")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/OtherLaunching"..math.random(1, 3)..".ogg", math.random(-100, 100))
    elseif (string.match("%1", "landing") or string.match("%1", "docking")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/OtherLanding"..math.random(1, 3)..".ogg", math.random(-100, 100))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A message is displayed in bright red on the screen, &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All="..Capitalize("%1"))
    Execute("history_add Vehicles="..Capitalize("%1"))
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Announce"..math.random(1, 7)..".ogg")
    CurrentCombatSound = PlayCombatSound("Space/OtherDestroyed"..math.random(1, 8)..".ogg")
    Note(Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The computer announces, &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=Computer Announcement: "..Capitalize("%1"))
    Execute("history_add Computer Announcements="..Capitalize("%1"))
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Announce"..math.random(1, 7)..".ogg")
    if (string.match("%1", "detected in the sector")) then
      if (string.match("%1", "enemy starship")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Computer/EnemyDetected.ogg")
      end
      if (string.match("%1", "artifact")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Artifact.ogg")
      end
      if (string.match("%1", "friendly")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Computer/FriendlyShip.ogg")
      end
      if (string.match("%1", " relic")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Relic.ogg")
      end
      if (string.match("%1", "comet")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Comet.ogg")
      end
      if (string.match("%1", "shipwreck")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Shipwreck.ogg")
      end
      if (string.match("%1", "planet")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Planet.ogg")
      end
      if (string.match("%1", "spacestation")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Computer/SpaceStation.ogg")
      end
      if (string.match(string.lower("%1"), " star ")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Star.ogg")
      end
      if (string.match("%1", "derelict starship")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Derelicts/AlienStarship.ogg")
      end
      if (string.match("%1", "asteroid")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Asteroid.ogg")
      end
      if (string.match("%1", "debris")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Debris.ogg")
      end
      if (string.match("%1", "spacebear")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Spacebear.ogg")
      end
    elseif (string.match("%1", "generators have completed their charging cycle")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    elseif (string.match("%1", "Valuable material found")) then
      if (ConfigTable.Settings.GrabbingMessages == 0) then
        return
      end
    elseif (string.match("%1", "successfully grabbed")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Salvage"..math.random(1, 3)..".ogg")
      if (ConfigTable.Settings.GrabbingMessages == 0) then
        return
      end
    elseif (string.match("%1", "Beam locked")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Warning.ogg")
    elseif (string.match("%1", "debris cloud")) then
      if (string.match("%1", "partially salvaged") or string.match("%1", "completely salvaged")) then
        CurrentGlobalSound = PlayGlobalSound("Vehicle/Store.ogg")
      end
    elseif (string.match("%1", "has been salvaged")) then
      if (ConfigTable.Settings.SalvagingMessages == 0) then
        if (string.match("%1", "and prepared for future use")) then
          CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Prepared.ogg")
        else
          return
        end
      end
    elseif (string.match("%1", "A present disruption field prevents safe travel out of the sector")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/NAVI_Interrupted.ogg")
    elseif (string.match("%1", "This weapon system is disabled")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
    elseif (string.match("%1", "Artifacts retrieved")) then
      if not string.match("%1", "nothing") then
        CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Salvage"..math.random(1, 3)..".ogg")
      end
    elseif (string.match("%1", "Target has moved from the locked coordinates") or string.match("%1", "^Miss\.$") or string.match("%1", "Target moved") or string.match("%1", "Firing incomplete due to target moving")) then
      CurrentCombatSound = PlayCombatSound("Space/LostLock.ogg")
    elseif (string.match("%1", "There is no target at the locked coordinates") or string.match("%1", "Firing aborted")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
    elseif (string.match("%1", "This ship transmits")) then
      CurrentGlobalSound = PlayGlobalSound("General/Channels/Sector.ogg")
    elseif (string.match("%1", "This starship is not equipped with the landing equipment needed to land on asteroids")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/LandingImpossible.ogg")
    elseif (string.match(string.lower("%1"), "that component is damaged beyond repair")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Warning.ogg")
    elseif (string.match(string.lower("%1"), "recharging")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/BatteryRecharging.ogg")
    elseif (string.match(string.lower("%1"), "recharge complete")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    elseif (string.match("%1", "deployed for repair of")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/RepairStart.ogg")
    elseif (string.match("%1", "completed repair of")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/RepairComplete.ogg")
    elseif (string.match("%1", "Current repair aborted")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/RepairAborted.ogg")
    elseif (string.match("%1", "banks empty")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Warning.ogg")
    elseif (string.match("%1", "WARNING")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Warning.ogg")
    elseif (string.match("%1", "cleared the solar storm")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    elseif (string.match("%1", "recharged")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    elseif (string.match("%1", "Autopilot engaged")) then
      CurrentGlobalSound = PlayGlobalSound("General/Devices/Activate.ogg")
    elseif (string.match("%1", "Autopilot disengaged")) then
      CurrentGlobalSound = PlayGlobalSound("General/Devices/Deactivate.ogg")
    elseif (string.match(string.lower("%1"), "deploying asteroid anchor complete")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    elseif (string.match(string.lower("%1"), "damage taken from an explosion on the surface")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Harvesting/EquipmentDamaged.ogg")
    elseif (string.match(string.lower("%1"), "no minerals detected")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Harvesting/NoMinerals.ogg")
    elseif (string.match(string.lower("%1"), "is not equipped for asteroid landing")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/LandingImpossible.ogg")
    elseif (string.match(string.lower("%1"), "landing impossible when")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/LandingImpossible.ogg")
    elseif (string.match(string.lower("%1"), "charge levels reaching critical")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/LowCharge"..math.random(1, 2)..".ogg")
    elseif (string.match(string.lower("%1"), "storage full") or string.match(string.lower("%1"), "lack of storage space")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/StorageFull.ogg")
    elseif (string.match("%1", "Mission access code") and string.match(string.lower("%1"), "accepted")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/PiercingTone.ogg")
    elseif (string.match("%1", "Mission completed")) then
      CurrentGlobalSound = PlayGlobalSound("Music/"..math.random(1, 5)..".ogg")
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Congratulations.ogg")
    elseif (string.match("%1", "Not enough shells left to fire")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Warning.ogg")
    elseif (string.match(string.lower("%1"), "cannot refine all the material in the storage compartment")) then
      CurrentGlobalSound = PlayGlobalSound("Vehicle/RefineryFull.ogg")
    elseif (string.match(string.lower("%1"), "initiating asteroid haul to")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/HaulAsteroid"..math.random(1, 2)..".ogg")
    elseif (string.match(string.lower("%1"), "on shipwreck")) then
      CurrentGlobalSound = PlayGlobalSound("General/Shipwrecks/BeamLockedOn.ogg")
    elseif (string.match(string.lower("%1"), "self-destruct sequence initiated")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/SelfDestructStart.ogg")
    elseif (string.match("%1", "^Sixty\.$")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/SelfDestructSixty.ogg")
    elseif (string.match("%1", "^Thirty\.$")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/SelfDestructThirty.ogg")
    elseif (string.match("%1", "^Ten\.$")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/SelfDestructTen.ogg")
    elseif (string.match("%1", "^Five\.$")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/SelfDestructFive.ogg")
    elseif (string.match("%1", "^Four\.$")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/SelfDestructFour.ogg")
    elseif (string.match("%1", "^Three\.$")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/SelfDestructThree.ogg")
    elseif (string.match("%1", "^Two\.$")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/SelfDestructTwo.ogg")
    elseif (string.match("%1", "^One\.$")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/SelfDestructOne.ogg")
    elseif (string.match(string.lower("%1"), "beginning ground dock")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/DockingBayDoorOpen.ogg")
    elseif (string.match(string.lower("%1"), "harvesting aborted") and string.match(string.lower("%1"), "damaged")) then
      CurrentGlobalSound = PlayGlobalSound("General/Comets/Explosion.ogg")
    elseif (string.match(string.lower("%1"), "harvested")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Salvage"..math.random(1, 3)..".ogg")
      if (ConfigTable.Settings.HarvestingMessages == 0) then
        return
      end
    elseif (string.match(string.lower("%1"), "spacepowerup mode engaged")) then
      CurrentGlobalSound = PlayGlobalSound("Ship/Misc/SpacePowerStartup.ogg")
    elseif (string.match(string.lower("%1"), "powering down due to lack of charge")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/LowCharge"..math.random(1, 2)..".ogg")
    elseif (string.match(string.lower("%1"), "charge running critical")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/LowCharge"..math.random(1, 2)..".ogg")
    elseif (string.match(string.lower("%1"), "hit on")) then
      CurrentCombatSound = PlayCombatSound("Space/OtherHit"..math.random(1, 4)..".ogg")
    elseif (string.match(string.lower("%1"), "Weapon fire blocked by shields")) then
      CurrentCombatSound = PlayCombatSound("Space/FireReflected.ogg")
    elseif (string.match(string.lower("%1"), "grenade firing complete")) then
      CurrentCombatSound = PlayCombatSound("Ground/GrenadeExplode.ogg")
    elseif (string.match(string.lower("%1"), "computer piping")) then
      if (string.match("%1", "enabled")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Computer/PipeOn.ogg")
      elseif (string.match("%1", "disabled")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Computer/PipeOff.ogg")
      end
    elseif (string.match("%1", "Locked onto")) then
      CurrentCombatSound = PlayCombatSound("Space/LockedOnOther.ogg")
    elseif (string.match("%1", "Target out of") and string.match("%1", "range")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
    elseif (string.match("%1", "Detected an attempt to launch the ship while drunk")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
    elseif (string.match("%1", "Firmware upgrade complete")) then
      CurrentGlobalSound = PlayGlobalSound("Combat/Space/ArmorPiercingChipDone.ogg")
    elseif (string.match("%1", "Scanning")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Scanning.ogg")
    elseif (string.match("%1", "collided with")) then
      CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg")
    elseif (string.match("%1", "Gathering data")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Scanning.ogg")
    end
    Note(Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^Computer in (.*)\, &quot;(.*)&quot;$"
   omit_from_output="y"
   regexp="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All="..Capitalize("%2").." (%1)")
    Execute("history_add Computer Announcements="..Capitalize("%2").." (%1)")
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Announce"..math.random(1, 7)..".ogg")
    Note(Capitalize("%2 (%1)"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="No repair drones available."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Only owners can do this."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You can't * while *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You must wait another * while the * generator recharges."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The low hum of the shields recharging abruptly ends."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/RepairAborted.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Repair the * first."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship is already in the process of harvesting *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You cannot teleport * a ship with active shields."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You cannot salvage while the ship is in motion."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship is currently unable to move."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You should stop the ship before attempting this."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Unlock the beam first."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship's NAVI drive is already engaged."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Please do not attempt to salvage while your ship is in the midst of probing a derelict starship."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Wait for the acceleration to hyperspace first."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Please deactivate * first."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The power controls of this ship are locked due to it being under construction."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The weapons are not powered up."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You cannot deploy probes while the starship is moving."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You cannot salvage while landing."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="X-Loritan * has begun to generate a field of unrecorded type."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/Inbound.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has begun a power buildup of some kind."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/PowerBuildUp"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are no * left in the launchers."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Warning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* damaged beyond repair."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Warning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There is inadequate amount of ammunition left in the starship for a reload."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Warning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* the starship's salvage scanners, which begin scanning the area for debris."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
    if (string.match(string.lower("%1"), "you activate")) then
      return
    else
      Note("%0")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* begin*to install * into the ships systems."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Report"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* finish*installing *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Report"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The computer reports that *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=Computer Reports: "..Capitalize("%1"))
    Execute("history_add Computer Reports="..Capitalize("%1"))
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Report"..math.random(1, 4)..".ogg")
    if (string.match("%1", "completed repair of")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/RepairComplete.ogg")
    elseif (string.match("%1", "there is no debris")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/NoDebris.ogg")
    elseif (string.match("%1", "starship probe")) then
      if (string.match("%1", "destroyed by")) then
        CurrentGlobalSound = PlayGlobalSound("Combat/Space/OtherDestroyed"..math.random(1, 8)..".ogg")
      elseif (string.match("%1", "hacked into")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Derelicts/Hacked.ogg", math.random(-100, 100))
      elseif (string.match("%1", "Attempting to retreat")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Derelicts/DestructionTriggered.ogg")
      elseif (string.match("%1", "deployed")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Derelicts/Probe"..math.random(1, 3)..".ogg")
      elseif (string.match("%1", "discovered an artifact")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Artifact.ogg", math.random(-100, 100))
      elseif (string.match("%1", "returned to the ship")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Derelicts/ProbeReturn.ogg")
      end
    elseif (string.match("%1", "is 1 unit away")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/OneUnitAway.ogg")
    elseif (string.match("%1", "destroyed")) then
      if (string.match("%1", "X\-Loritan")) then
        CurrentCombatSound = PlayCombatSound("Space/OtherDestroyed"..math.random(1, 8)..".ogg")
      else
        CurrentGlobalSound = PlayGlobalSound("Combat/Space/OtherDestroyed"..math.random(1, 8)..".ogg")
      end
    elseif (string.match("%1", "no space for the debris")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/StorageFull.ogg")
    elseif (string.match("%1", "Easter egg")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/EggItem.ogg")
    end
    Note(Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The computer emits a piercing tone, alerting you that a starship has been detected in the sector's boundries."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/PiercingTone.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum of the recharge falls silent as the batteries of the vehicle become full."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear an odd whoosh as the stored charge is discarded."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    Note("Charge discarded.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum subsides and finally falls silent as the batteries finish recharging."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear several loud thuds as a salvaging line is deployed into space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/DeploySalvage.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* in-ship recharging station beeps, indicating that it's low on charge."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/OvenBeep.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press*a button*."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%3", "toilet") and string.match("%3", "flushing it")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/ToiletFlush.ogg")
    elseif (string.match("%3", "to stop ongoing harvest") or string.match("%3", "on top of")) then
      CurrentGlobalSound = PlayGlobalSound("General/Devices/ButtonPush.ogg")
    elseif (string.match("%3", "chair with")) then
      if (string.match("%3", "leaning it back")) then
        CurrentGlobalSound = PlayGlobalSound("General/Misc/Chair1.ogg")
      elseif (string.match("%3", "leaning it forward")) then
        CurrentGlobalSound = PlayGlobalSound("General/Misc/Chair2.ogg")
      elseif (string.match("%3", "ing it")) then
        CurrentGlobalSound = PlayGlobalSound("General/Misc/Chair3.ogg")
      end
    elseif (string.match("%3", "laser power supplier")) then
      CurrentCombatSound = PlayCombatSound("Ground/PowerSupplierButton.ogg")
    elseif (string.match("%3", "underwater scanner")) then
      CurrentGlobalSound = PlayGlobalSound("General/PearlDiving/Scanning.ogg")
    elseif (string.match("%3", "capacity weapon safe")) then
      if (string.match("%3", "open")) then
        CurrentGlobalSound = PlayGlobalSound("General/Misc/SafeOpen.ogg")
      elseif (string.match("%3", "close")) then
        CurrentGlobalSound = PlayGlobalSound("General/Misc/SafeClose.ogg")
      end
    elseif (string.match("%3", "on a nearby console and study the data displayed on its screen")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
    elseif (string.match("%3", "viewscreen")) then
      if (string.match("%3", "enabling")) then
        CurrentGlobalSound = PlayGlobalSound("General/Devices/Activate.ogg")
      elseif (string.match("%3", "disabling")) then
        CurrentGlobalSound = PlayGlobalSound("General/Devices/Deactivate.ogg")
      end
    else
      CurrentGlobalSound = PlayGlobalSound("General/Devices/ButtonPush.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* push*a button*."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Devices/ButtonPush.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* turn*sink on and * washing * hands."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/WashingHands.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is carried into the room in the center of a flaming circle."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/FireBolt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* reforms into the legendary human wizard... And disappears in a circle of flames!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/FlameVanish.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* suddenly step*from the background."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/HostIn"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* suddenly seem*to disappear into the background."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/HostOut"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[SECTOR COMMUNICATION] *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=[Sector] "..Capitalize("%1"))
    Execute("history_add Sector="..Capitalize("%1"))
    CurrentGlobalSound = PlayGlobalSound("General/Channels/Sector.ogg")
    Note("[Sector] "..Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A speaker on the communication console crackles to life, and you hear * transmitting from *, *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=[Sector] "..Capitalize("%2")..", "..Capitalize("%1").." transmits, "..Capitalize("%3"))
    Execute("history_add Sector="..Capitalize("%2")..", "..Capitalize("%1").." transmits, "..Capitalize("%3"))
    CurrentGlobalSound = PlayGlobalSound("General/Channels/Sector.ogg")
    Note("[Sector] "..Capitalize("%2")..", "..Capitalize("%1").." transmits, "..Capitalize("%3"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* say*into a small microphone mounted on the console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/CommChirp1.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has restored you to full health!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Health.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^\*\*\* The server will be shut down by .* in .*$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/Announcement.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Number of new announcements since last visit: *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/Announcement.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Please do not command stack."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Warning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Checking to see if your * is broken..."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Checking movement..."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Movement fixed."
   send_to="12"
   sequence="100"
  >
  <send>
    if (ConfigTable.Settings.Roundtime == 1) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Roundtime.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Fixed."
   send_to="12"
   sequence="100"
  >
  <send>
    if (ConfigTable.Settings.Roundtime == 1) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Roundtime.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Roundtime fixed."
   send_to="12"
   sequence="100"
  >
  <send>
    if (ConfigTable.Settings.Roundtime == 1) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Roundtime.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(\d+) (second|minute) (stun|round)time\.$"
   regexp="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (ConfigTable.Settings.Roundtime == 1) then
      if (string.match("%2", "minute")) then
        DoAfterSpecial((tonumber("%1") * 60), 'CurrentGlobalSound = PlayGlobalSound("General/Misc/Roundtime.ogg")', sendto.script)
      elseif (string.match("%2", "second")) then
        DoAfterSpecial("%1", 'CurrentGlobalSound = PlayGlobalSound("General/Misc/Roundtime.ogg")', sendto.script)
      end
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You raise your status to *!"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=%0")
    CurrentGlobalSound = PlayGlobalSound("General/Misc/LevelUp.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="No shipwrecks found. Cannot continue grabbing process."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Hyperspace drive could not be activated due to the vessle being in motion."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The sublight drive is still recharging: * remaining."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Can't find *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/NothingHere.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="No matching objects to &quot;*&quot;."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/NothingHere.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="That target is no longer here."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship is already salvaging."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * is already firing."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* WELCOME BACK TO PROMETHEUS! *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/LoggedOn.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* Redirecting connection to this port... *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/LoggedOn.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You ask * if * would like to establish a private communications link."
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=%0")
    Execute("history_add Private Communication=%0")
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your * emits a confirmational tone as the private link with * is established."
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=%0")
    Execute("history_add Private Communication=%0")
    CurrentGlobalSound = PlayGlobalSound("General/Comm/LinkConfirmed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You deny * request for a communications link."
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=%0")
    Execute("history_add Private Communication=%0")
    CurrentGlobalSound = PlayGlobalSound("General/Comm/LinkDenied.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* denies your request."
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=%0")
    Execute("history_add Private Communication=%0")
    CurrentGlobalSound = PlayGlobalSound("General/Comm/LinkDenied.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has deleted * communications link with you."
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=%0")
    Execute("history_add Private Communication=%0")
    CurrentGlobalSound = PlayGlobalSound("General/Comm/LinkConfirmed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You delete your communications link with *."
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=%0")
    Execute("history_add Private Communication=%0")
    CurrentGlobalSound = PlayGlobalSound("General/Comm/LinkConfirmed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your * flashes a message, indicating that the remote link with its starship has been lost due to *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/LinkConfirmed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The screen of * with * screen and * switches flashes briefly, indicating that a new link to a starship has been established."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/LinkConfirmed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* private communications are disabled."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/Disabled.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^Sorry\, but your command input has been blocked\. We apologize for any inconvenience this may cause you\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/Disabled.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A new poll has been opened. Use vote to answer it."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Poll.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your vote has been recorded. Thank you for voting!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The polls are now closed."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* pull*a series of straps around * and securely buckle* into * seat."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Buckle"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* release*the buckle of * seatbelt, causing it to retract back into * seat."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Unbuckle"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A small speaker on * suddenly emits a loud burst of static."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/Static"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* with * suddenly emits a painfully loud burst of static. After a few moments, it subsides a bit, and a synthesized voice breaks through the static, saying: *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/Static"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* quickly doubletap*a button on top of *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/MiniKeyboard.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="&gt;&gt; Command Aborted &lt;&lt;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
    Note("Aborted.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Buying less than one? Nice try!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Invalid*"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Oops, wrong amount!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* tr*to enter *, but * turned away by the locked hatch."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/CantGo"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear somebody trying to enter the ship."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/CantGo"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* flick*a*switch on *."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%4", "radio microphone")) then
      if (string.match("%4", "turning on")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Misc/RadioOn.ogg")
      elseif (string.match("%4", "turning off")) then
        CurrentGlobalSound = PlayGlobalSound("Starship/Misc/RadioOff.ogg")
      end
    else
      if (string.match("%4", "enabling")) then
        CurrentGlobalSound = PlayGlobalSound("General/Devices/Activate.ogg")
      elseif (string.match("%4", "disabling")) then
        CurrentGlobalSound = PlayGlobalSound("General/Devices/Deactivate.ogg")
      end
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You connect to the * channel."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Devices/Activate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You disconnect from the * channel."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Devices/Deactivate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="AFK notifications *"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "enabled")) then
      CurrentGlobalSound = PlayGlobalSound("General/Devices/Activate.ogg")
    elseif (string.match("%1", "disabled")) then
      CurrentGlobalSound = PlayGlobalSound("General/Devices/Deactivate.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="*[Enter *yes* or *no*]"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="[Type *, *]"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are more than one matches to that argument in your links. Please be more specific."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You exchange * credits for *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You contribute * credits to the owner of this starship."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You sell * for * credits."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You deposit * credits into *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You withdraw * credits from *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="CONGRATULATIONS! You won * credits!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You receive a * of * credits."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You have * credits on hand and * bank credits."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/ViewInfo.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You need * more points before you can raise your status."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/ViewInfo.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You are * credits in debt."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/ViewInfo.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You are given a loan of * credits. You are now * credits in debt. The loan increased your cash on hand by *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You pay * credits * of your debt."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Transaction complete."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your * informs you that * credits has been transfered to your account by *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Credits"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="I don't understand that."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Command"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* type*a complicated series of code into * translator."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("PyrianChitter"..math.random(1, 10)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (takes?) a sip (of|from) (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Socials/Drink.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) obscenely (slurps?) up  (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Socials/Drink.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (drains?) (.*) in one gulp, then (throws?) (.*) away\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Socials/Drink.ogg")
    if (ConfigTable.Settings.SocialSounds == 1) then
      CurrentGlobalSound = PlayGlobalSound("Socials/Burp"..math.random(1, 5)..".ogg")
    end
    CurrentGlobalSound = PlayGlobalSound("Socials/BreakingGlass3.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (takes?) a bite of (.*)\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Socials/Eat.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(.*) (finishes|finish) the last of (.*)\!$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Socials/EatUp.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(You holster|.* holsters) .*$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/Unwield.ogg")
    CurrentGlobalSound = PlayGlobalSound("Combat/Ground/Holster.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* deftly draw*from * weapon holster clipped to * weapon belt with * clips."
   send_to="12"
   sequence="100"
  >
  <send>
    for g = 1, #guns do
      if (string.match(string.lower("%2"), string.lower(guns[g]))) then
        CurrentGlobalSound = PlayGlobalSound("Combat/Ground/Draw"..Capitalize(guns[g])..".ogg")
        CurrentGlobalSound = PlayGlobalSound("Combat/Ground/Wield"..math.random(1, 5)..".ogg")
      end
    end
  </send>
  </trigger>
        CurrentCombatSound = PlayCombatSound("Ground/Wield"..math.random(1, 5)..".ogg")
  <trigger
   enabled="y"
   match="You take * in your * hand."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "laser")) then
      CurrentCombatSound = PlayCombatSound("Ground/Wield"..math.random(1, 5)..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* lock*the door leading *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Lock.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* lock*the vehicle."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Lock.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* unlock*the door leading *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Lock.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* unlock*the door leading *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Unlock.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* unlock*the vehicle."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Unlock.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* lock*the door leading *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Unlock.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* securely bolt* so it cannot be moved."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Asteroid/AnchorStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* remove*the bolts from * and pick*it up."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Asteroid/AnchorRemove.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You notice a faint hum as the starship orients its asteroid anchor into place."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Asteroid/AnchorStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a whirring coming from beneath you, followed by a loud click as the ship's asteroid anchor is drilled securely into the asteroid."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Asteroid/AnchorEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a sharp scraping sound and look out to notice the asteroid anchor being removed from the solid rock."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Asteroid/AnchorRemove.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* begin*maneuvering the starship onto an asteroid."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/LandAsteroid.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* tap*a series of buttons, * the starship's power."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* tap*the unlock button on the grabbing console, causing the locked cutting beam to begin moving again."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship lurches as a powerful cutting beam is launched into space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/SalvageLaunch.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A slight hum can be heard as an artifact retrieval tube is deployed into space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/SalvageLaunch.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press*some buttons on * with *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/MiniKeyboard.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You tap some buttons on * hypernet browser with * touchscreen and the screen flashes, '*'"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/MiniKeyboard.ogg")
    Note("%3")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* carefully slide*into *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Container.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You put * into * container*."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Container.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You place * in * sifting bucket*."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Container.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Through the window, you watch a starship probe remove a section of hull with its industrial-strength drill and saw attachments, just large enough for it to enter the ship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Derelicts/ProbeDrill.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Displaying docked starships:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Debris scanner report for the current sector:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Items in the storage compartment:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There is no trash in the storage compartment. The size of the storage compartment is * units."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Combat mission"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Record for *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Available starship probes: *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There is no debris to refine."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Nothing is currently being constructed."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Defense system information for *:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The following items are in the cargo hold:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There is nothing in the * hold. *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
    Note(Capitalize("%2"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Available units of refined material: * out of *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The refinery tanks are * full *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^You hear several loud thuds as automated drones (load|remove) cargo (from|into) the storage room\.$"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/TransferStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A drone loads * onto its platform and carries it away."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Transfer"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The thuds coming from *."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/TransferEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The clicks abruptly stop as the transfer finishes."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/TransferEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A loud thud can be heard from the storage room as a piece of debris is deposited by the salvaging line."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Salvage"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You retrieve a weapons status readout."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Status for *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Charge readout:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Security status for *:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Engine Speed: *"
   ignore_case="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Starship component Damage:"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Weapon Damage:"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A weapon is already being repaired."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You can't teleport for *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press*a few keys on a console, * the * alert."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
    if (string.match("%3", "enabling")) then
      CurrentGlobalSound = PlayGlobalSound("General/Devices/Activate.ogg")
    elseif (string.match("%3", "disabling")) then
      CurrentGlobalSound = PlayGlobalSound("General/Devices/Deactivate.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* pull*up an image of the starship's status report on a screen built-into the main control board."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* furiously input*into a weapon locking console."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
    if not string.match("%1", "You") then
      Note("%0")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a thrumming pulse through the deck beneath you as the shields activate."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Combat/Space/Shields.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a slight vibration from the ship as it strengthens the shields around the ship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/Reflectors"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A low whine emanates from the shields as they successfully repel incoming shrapnel."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/Reflectors"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship lurches abruptly as super-heated shrapnel penetrates the hull."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg", math.random(-100, 100))
    CurrentCombatSound = PlayCombatSound("Space/Reflectors"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The plates around the hull orient themselves, deflecting the solar mass."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/Reflectors"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The pulsing slowly fades away as the shields around the ship deactivate."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/PanelsOff.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear several sliding noises as the reflector plates *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "surround the hull")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/PanelsOn.ogg")
    elseif (string.match("%1", "around the hull are retracted")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/PanelsOff.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a barely audible vibration followed by a * the ship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "around")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/PanelsOn.ogg")
    elseif (string.match("%1", "retract")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/PanelsOff.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a vibration as the solar recharge completes an the solar receptors retract back into the ship with an audible click."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/PanelsOff.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship shakes slightly as rebounded weapons fire impacts the hull."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/Reflectors"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship rocks slightly as planetary lasers impact the hull from *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg", math.random(-100, 100))
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg", math-random(-100, 100))
    CurrentCombatSound = PlayCombatSound("Space/Reflectors"..math.random(1, 3)..".ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear some clangs and drilling sounds as the replacement * is installed."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/ReplacingComponent.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Clang.ogg")
    Note("Replacement %1 is installed.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You're not in space!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/NotInSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You should be in space."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/NotInSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * isn't in space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/NotInSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * is not in space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/NotInSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You can only do that in space."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/NotInSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * is not in the required conditions to use this function."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/NotInSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * should be in space before * wormhole transport console may be activated."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/NotInSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* to autopilot first."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* to manual pilot first."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship is already moving."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Hyperspace jumps cannot be aborted."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * is already in that sector."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * is not moving."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * is already moving."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You're already there."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Hyperspace jump not possible while shielded."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The launchers do not need reloading."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are still * left in the banks."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Invalid coordinates. Range: * to *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has * the sector."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%2", "entered")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/EnterSector"..math.random(1, 2)..".ogg")
    elseif (string.match("%2", "jumped into")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/EnterSector"..math.random(1, 2)..".ogg")
    elseif (string.match("%2", "left")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/ExitSector"..math.random(1, 2)..".ogg")
    elseif (string.match("%2", "jumped out of")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/ExitSector"..math.random(1, 2)..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has * the sector through an unrecorded field."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "X\-Loritan") and string.match("%2", "entered")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/EnterSector"..math.random(1, 2)..".ogg")
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/EnemyDetected.ogg")
    elseif (string.match("%2", "jumped into")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/EnterSector"..math.random(1, 2)..".ogg")
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/EnemyDetected.ogg")
    elseif (string.match("%2", "left")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/ExitSector"..math.random(1, 2)..".ogg")
    elseif (string.match("%1", "X\-Loritan") and string.match("%2", "jumped out of")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/ExitSector"..math.random(1, 2)..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has * hyperspace."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%2", "entered")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/ExitSector"..math.random(1, 2)..".ogg")
    elseif (string.match("%2", "exitted")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/EnterSector"..math.random(1, 2)..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has * stargate."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%2", "entered")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/ExitSector"..math.random(1, 2)..".ogg")
    elseif (string.match("%2", "exitted")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/EnterSector"..math.random(1, 2)..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A chime sounds, indicating that somebody has entered an airlock."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/AirlockChime.ogg")
    Note("Someone has entered the airlock.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a slight jolt as the ship begins to move through the open bay door, and into open space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/DockingBayDoorOpen.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a slight jolt as the other ship begins to move through the open bay door, and into open space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/DockingBayDoorOpen.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a faint vibration coming from the direction of the ships docking bay."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/DockingBayDoorOpen.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a slight pull as the ship is expeled from the docking bay."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/DockingBayDoorClose.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a slight jolt as the ship sets down in a docking bay."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/DockingBayDoorClose.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* make*some selections on the docking console. The red light turns to yellow."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/MiniKeyboard.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Choosing * (Status: powered *)."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/MiniKeyboard.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A red light on the docking console turns on."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The yellow light turns to green."
   send_to="12"
   sequence="100"
  >
  <send>
    StopSound(CurrentGlobalSound)
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The smooth hum of the engines builds up a bit as the ship begins moving."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/Accelerate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum of the engines settles down as the ship stops moving."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/Decelerate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the sound of the ship's engine as you are propelled toward space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/YouLaunch"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel the starship accelerate as it moves toward a *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/YouLand"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="That space is occupied."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/SameSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Those coordinates are occupied by this ship."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/SameSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a dull roar as the ship's sublight drive propels the ship toward its destination."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/SublightExt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has initiated an intrasector sublight jump."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/SublightExt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The dull roar of the sublight drive fades away as the ship reaches a destination."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Background"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="From a large speaker on *, You hear * say, &quot;*&quot;."
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=[EXT] %2 on %1 says: %3")
    Execute("history_add PA=[EXT] %2 on %1 says: %3")
    CurrentGlobalSound = PlayGlobalSound("Starship/Comm/PA"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You say &quot;*&quot; into an external PA microphone."
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("history_add All=[EXT] You say: %1")
    Execute("history_add PA=[EXT] You say: %1")
    CurrentGlobalSound = PlayGlobalSound("Starship/Comm/PA"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* float*out into space."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/AirlockExit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* out of the ship's hatch."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/AirlockExit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* snatch*from the cold, cruel hands of space."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/SnatchArtifact"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* place*hand against a sensor on * and *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Hatch4.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* out from the hatch of *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/AirlockExit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* board*through the unlocked hatch."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Hatch4.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* walk*out into space."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/AirlockExit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* place* UTF-Issue hatch cracker against *, and press a few buttons. The device's AI immediately begins to hack  into the vehicle's security systems."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/HatchCracking/HatchCrackStart.ogg")
    CurrentGlobalSound = PlayGlobalSound("Starship/HatchCracking/WaitForCrack.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* UTF-Issue hatch cracker displays, &quot;Warning, a virus has been transmitted to this device!&quot;"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/HatchCracking/HatchCrackFailStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* UTF-Issue hatch cracker begins to spray sparks and glow omenously, then explodes in your hand!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/HatchCracking/HatchCrackFailEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="In no time at all, * UTF-Issue hatch cracker's AI has totally overpowered * security system and unlocked the airlock."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/HatchCracking/HatchCrackEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You put your hands around * hatch repair drone and squeeze."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/HatchCracking/ActivateHatchRepairDrone.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* hatch repair drone unfolds slowly, revealing a wide aray of tools. It begins its work with a loud racket."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/HatchCracking/HatchRepairDroneActivationResponse.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* hatch repair drone replaces a broken hatch component with a spare."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/HatchCracking/ReplacePartWithSpare.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* hatch repair drone connects to the computer and rewrites some infected code."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/HatchCracking/ConnectAndRewrite.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* hatch repair drone welds some metal together."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/HatchCracking/Welding.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* hatch repair drone hammers some metal bits back into place."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/HatchCracking/HammerMetal.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* hatch repair drone, its work complete, folds back up into a small ball."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/HatchCracking/DeactivateHatchRepairDrone.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum in the background builds up a bit as the pressurizing systems prepare for shutdown."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/CycleStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum dies down as the pressurizing system shutdown completes."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/AirEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A low, almost unnoticeable hum becomes audible in the background as the pressurizing systems are activated."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/AirStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A voice comes over the speaker and says, &quot;*&quot;."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/CommChirp2.ogg")
    Note(Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A voice announces, &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/CommChirp2.ogg")
    Note(Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Primary frequency set to *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/Tune.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* pass*in front of * and look*at the display."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Devices/HandheldScanner.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* indicate*to * that * wish*for * to follow *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/GroupJoin.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You follow *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/GroupFollow.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* follow*you into the area."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/GroupFollow.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* request*that * no longer follow *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/GroupDisband.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* ha* away from * group."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/GroupDisband.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* left you behind."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/GroupDisband.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* start*following *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/GroupJoin.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* stop*following *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/GroupDisband.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* disband*group."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/GroupDisband.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The defense shields strengthen for a moment to block weapon fire."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/FireReflected.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shakes violently as a powerful laser beam is reflected back at it!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/FireReflected.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="This starship has been hit by *."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shakes as if hit by something!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shakes violently as a projectile comes in contact with it and explodes!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship is hit by a massive energy beam!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shudders as it begins to explode. You are thrown into the wall with force you could never believe possible, and then you find yourself somewhere else."
   send_to="12"
   sequence="100"
  >
  <send>
    for i = 1, 3 do
      CurrentCombatSound = PlayCombatSound("Space/YouDestroyed"..i..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The reflection plates around the ship orient themselves, successfully throwing the beam away."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/Deflect.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a gentle hum as the weapons power up."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayCombatSound("Space/WeaponsOn.ogg")
    if (ConfigTable.Settings.AlarmSounds == 1) then
      CurrentGlobalSound = PlayCombatSound("Space/RedStart.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A loud klaxon sounds as red lights continue to flash overhead."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (ConfigTable.Settings.AlarmSounds == 1) then
      CurrentGlobalSound = PlayCombatSound("Space/RedAlert.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The walls and ceiling continue to pulse a crimson color as loud klaxons scream their warnings."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (ConfigTable.Settings.AlarmSounds == 1) then
      CurrentGlobalSound = PlayCombatSound("Space/RedAlert.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Red alert lights come to life as the starship is attacked by an opponent."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayCombatSound("Space/WeaponsOn.ogg")
    if (ConfigTable.Settings.AlarmSounds == 1) then
      CurrentGlobalSound = PlayCombatSound("Space/RedStart.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The walls and ceiling suddenly start glowing *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "blood")) then
      CurrentGlobalSound = PlayCombatSound("Space/WeaponsOn.ogg")
    elseif (string.match("%1", "blue")) then
      CurrentGlobalSound = PlayCombatSound("Space/WeaponsOff.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* toggle*the starships alert status to a * state."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship is already on * alert."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The interior lighting turns to pulsating yellow."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayCombatSound("Space/WeaponsOff.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The overhead lights change to solid green."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayCombatSound("Space/WeaponsOff.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the hum fade as the weapons power down."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shudders and the lights dim briefly as beam cannons are fired."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Background"..math.random(1, 5)..".ogg")
    CurrentCombatSound = PlayCombatSound("Space/CannonFire"..math.random(1, 6)..".ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship vibrates mildly as torpedoes are launched."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    panning = math.random(-100, 100)
    CurrentCombatSound = PlayCombatSound("Space/TorpedoFire.ogg", panning)
    CurrentCombatSound = PlayCombatSound("Space/Torpedo"..math.random(1, 3)..".ogg", panning)
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Those coordinates are too far away to establish a lock."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Those controls are already in use."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has launched * at *!"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (string.match("%2", "missile")) then
      CurrentCombatSound = PlayCombatSound("Space/OtherMissiles.ogg")
      if (string.match("%1", "X\-Loritan Assassin")) then
        CurrentCombatSound = PlayCombatSound("Space/GrapeShot.ogg")
      end
      Note(Capitalize("%0"))
    elseif (string.match("%2", "torpedo")) then
      CurrentCombatSound = PlayCombatSound("Space/OtherTorpedoes.ogg")
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a thud as guided missiles are launched into space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouMissile"..math.random(1, 3)..".ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shudders as the lasers are fired."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/LaserFire"..math.random(1, 4)..".ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship starts to vibrate as the long-range laser begins to draw energy."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/PowerBuildUp"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The vibration ceases as the long-range laser powers down."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The roar of the engine calms as the starship completes its launch."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Background"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You notify flight control of your desire to *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/CommChirp1.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the sound of the engines as the ship begins to move."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/Accelerate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The engine stops as the ship arrives at a destination."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/Decelerate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The thrusters of * begin to glow bright red, and the ship launches toward the sky with a roar, leaving behind a wave of heat and a trail of fire."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/OtherLaunching"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the distinctive roar of starship engines, and look up to see a starship quickly approaching from a distance, making careful maneuvers toward * in order to *."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/OtherLanding"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the microdrones working in the background as they repair the damage."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Repair"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a buzzing sound from the * as repairs continue."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Repair"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a shrill screeching sound as repair drones drag replacement components across the *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Repair"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a deafening booming sound as repairs to the ship proceed."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Repair"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear an electrical zapping sound as repairs to the ship continue."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Repair"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear several clinking sounds as the ship is repaired."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Repair"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Suddenly, you hear a massive crashing and booming sound as the repair drones go to super power! They're repairing * now!"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    for i = 1, 7 do
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Repair"..i..".ogg")
    end
    Note("Repairing %1 with super power!")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The equipment returns to the ship with a clang."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Harvesting/EquipmentReturning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The harvesting equipment begins drilling deep into the asteroid's surface."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Harvesting/DrillingAsteroid"..math.random(1, 8)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shakes softly as the comet harvesting equipment reaches out and begins harvesting the top of * of gases."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Harvesting/DrillingAsteroid"..math.random(1, 8)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You watch the harvesting equipment unfold from underneath the vessel and begin moving toward the asteroid on your ship's viewscreen."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Harvesting/EquipmentUnfold.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear some clangs and whooshes as the harvesting equipment retracts back into the ship's bowels."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Harvesting/EquipmentReturning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There is no more room for trash in the storage compartment. *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/StorageFull.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="From where the equipment drilled in, a shower of rocks suddenly bursts out!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Harvesting/Explosion.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Charge is too low for harvesting."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/LowCharge"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There is nothing here to scan."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/NothingHere.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You activate the trash collectors."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Activate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A loud thud can be heard from the storage compartment as trash is deposited by the collectors."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/TrashThump.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a series of clicks from below as items are removed from the storage compartment."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/TransferStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The clicks coming from below abruptly stop."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/TransferEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a series of clicks from below as the refinery is emptied into a starship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Transfer"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has fired at *."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (string.match("%1", "X\-Loritan")) then
      CurrentCombatSound = PlayCombatSound("Space/OtherFired"..math.random(1, 5)..".ogg")
    else
      CurrentCombatSound = PlayCombatSound("Space/OtherFired"..math.random(1, 5)..".ogg")
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are no * to fire."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Warning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Either the launchers do not need reloading, or the ship lacks the required ammunition."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The vehicle shudders as *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "it begins to explode")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/RelicExploding"..math.random(1, 2)..".ogg")
    elseif (string.match("%1", "machine guns are fired")) then
      CurrentCombatSound = PlayCombatSound("Space/Weapons"..math.random(1, 5)..".ogg")
    elseif (string.match("%1", "cannons are fired")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/SalvageLaunch.ogg")
    elseif (string.match("%1", "missiles are launched")) then
      CurrentCombatSound = PlayCombatSound("Space/YouMissile"..math.random(1, 3)..".ogg")
    elseif (string.match("%1", "a grenade is launched toward a target")) then
      CurrentCombatSound = PlayCombatSound("Ground/GrenadeFire.ogg")
    elseif (string.match("%1", "a grenade comes in contact with its armor and explodes")) then
      CurrentCombatSound = PlayCombatSound("Ground/GrenadeExplode.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has fired * at *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (string.match("%2", "minicannons")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/SalvageLaunch.ogg")
    elseif (string.match("%2", "a greenade")) then
      CurrentCombatSound = PlayCombatSound("Ground/GrenadeFire.ogg")
    elseif (string.match("%2", "a massive energy beam")) then
      if (string.match("%1", "X\-Loritan") or string.match("%3", "X-Loritan")) then
        CurrentCombatSound = PlayCombatSound("Space/OtherFired"..math.random(1, 5)..".ogg")
      else
        CurrentCombatSound = PlayCombatSound("Space/OtherFired"..math.random(1, 5)..".ogg")
        Note(Capitalize("%0"))
      end
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has a lock on this starship."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/LockedOnYou.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Self-destruct sequence initiated! Destruction in sixty seconds."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/SelfDestructStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The relic... EXPLODES!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/RelicExplosion.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship lurches as a powerful cutting beam is launched to space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Shipwrecks/BeamLaunch.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Grabbing is already in progress."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship rumbles as the beam carefully cuts its way into the wreck."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Shipwrecks/BeamCutting.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="With a jolt, the beam returns to the ship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Shipwrecks/BeamJolt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship lurches as the cutting beam destroys the shipwreck into millions of tiny pieces!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/OtherDestroyed"..math.random(1, 8)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You cannot grab any more."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship suddenly lurches violently as something hits it!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg", math.random(-100, 100))
    CurrentCombatSound = PlayCombatSound("Space/Reflectors"..math.random(1, 3)..".ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="An alert flashes on a nearby power management console for your immediate attention: &quot;*&quot;"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Warning.ogg")
    if (string.match(string.lower("%1"), "critical charge alert")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/LowCharge"..math.random(1, 2)..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A low hum starts in the background as the batteries begin recharging."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A compacted mass of energy slams into *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/LRL4.ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The viewscreen*switches to a pictograph of *."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%2", "flying out of the circle")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Move/ExitSector"..math.random(1, 2)..".ogg")
    elseif (string.match("%2", "with a red circle around it")) then
      CurrentCombatSound = PlayCombatSound("Space/PowerBuildUp"..math.random(1, 2)..".ogg")
    elseif (string.match("%2", "with a dagger through it")) then
      CurrentCombatSound = PlayCombatSound("Space/LRL"..math.random(1, 5)..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* has harmlessly discharged a massive energy beam into space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/LRL"..math.random(1, 5)..".ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A soft hum starts somewhere within the bowels of the ship as the * banks are refilled."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/RefillingBanks.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum subsides as the * bank refilling completes."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A low hum comes to life as the shields begin recharging."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/ShieldsRecharging.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The low hum fades away as the shields finish recharging."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The floor beneath your feet begins rumbling softly as the refinery is activated."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/TrashRefinery.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The rumble beneath your feet eases off as the refinery powers down."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The construction facility is powering up."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/ConstructionFacilityPowerUp.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A low hum starts up as the construction facility is activated."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/ConstructionFacilityPowerUp.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The barely noticeable hum of the construction facility dies as it is deactivated."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/ConstructionFacilityPowerDown.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The construction facility is shutting down."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/ConstructionFacilityPowerDown.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum stops as the refinery completes its work."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/ConstructionFacilityPowerDown.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A slowly rotating black rift appears in front of the ship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/RiftForms.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shakes as it ripples the fabric of space, entering a rift of deep, pulsing blackness."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/Rift.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship slows down as it comes closer to the final destination."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Computer/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship suddenly shoots out of the rift and into another sector. The rift rapidly shrinks and disappears."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Computer/Beep"..math.random(1, 5)..".ogg")
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Background"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="With a final jolt, the starship slows as it exits the Worldway."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship shudders as it enters a *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/Stargate"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="With a final jolt, the starship slows as it exits the *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/StargateNotification.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Computer/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Would you like to drive out of the ship's vehicle hatch*"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You detect a faint rumbling as the starship begins to orient toward another ship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/RingStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The engines begin to vibrate mildly as the ship accelerates toward another starship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/RingStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship rocks gently as the docking ring comes into contact with another starship."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/RingEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a satisfying click as the ship's docking ring is retracted from the docked ship's hull."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/RingRemove.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a faint vibration as the ship begins to launch into open space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/RingRemove.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a loud klang as robotic arms transport the ship from the garage to the *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/LandingPad.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a loud clang as robotic arms seize the ship and transport it to the *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/LandingPad.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a short hum as hydraulic arms smoothly haul the ship from the garage *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/LandingPad.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a short hum as hydraulic arms smoothly haul the ship from * into the garage."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Garage.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is gently lifted up and smoothly hauled into the garage by a pair of hydraulic arms."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/GarageExt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is transported into *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/GarageExt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is smoothly hauled into the area and placed on a large, metal platform."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/GarageExt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is gently lifted from its platform and smoothly hauled out of the area by a pair of hydraulic arms."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/LandingPadExt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is smoothly hauled onto the (.*) and gently set down, ready for launch."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/LandingPadExt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a loud clang as robotic arms seize the ship and transport it to the garage."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Garage.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a loud klang as robotic arms transport the ship from the * to the garage."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Garage.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A blinding electric blue beam of light appears. After a few seconds, it disappears, leaving nothing in its wake."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/PersonTeleportsIn.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is surrounded by an electric blue light and vanishes."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/PersonTeleportsOut.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* appear*in a beam of electric blue light!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Light.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* appears in the room from a bright beam of light."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Light.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A bright beam surrounds *. When it fades, * is no longer in the room."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Light.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is suddenly enveloped in a bright * beam of light. When the light disappears, * is no longer in the room."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Light.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A bright * beam of light surrounds you. When it fades, you notice that your surroundings have changed."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Light.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* encased in a beam of electric blue light!"
   send_to="12"
   sequence="100"
  >
  <send>

    if (string.match("%1", "You are")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Light.ogg")
    else
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Light.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* appears in a puff of smoke!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Smoke"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel like you are about to go blind. The lights dance in front of your eyes, like a fireworks display."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/WormholeInt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You see a glimpse of darkness ahead, and suddenly, you find yourself hitting the ground."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Collapse"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You become aware of a thundering rumble very close to your ear."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Teleported.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum from under the floor increases markedly."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Teleported.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the hum from beneath your feet increase markedly."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Teleported.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* signal*the technician to begin the transport process."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/TeleportActivate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* encased in a fluctuating electric blue light and after a brief moment * disappear*into the great unknown."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "you are")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/TeleportActivate.ogg")
    else
      CurrentGlobalSound = PlayGlobalSound("General/Misc/TeleportActivate.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* notice*a flash of light before * and after a brief second * appear*in a slight daze."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/PersonTeleportsIn.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The electric blue beam fades, and you notice that your surroundings have changed."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/PersonTeleportsIn.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The electric blue beam fades, leaving nothing in its wake."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/PersonTeleportsOut.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The sparks multiply, until * are hidden from sight in an electric blue beam of light."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/WormholeInt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The sparks continue multiplying, until you are encased in an electric blue beam of light."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/WormholeInt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Sparks start issuing from the disc. As time passes, the sparks become more and more numerous."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/WormholeInt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Sparks start shooting up from the disc you're standing on. As time passes, the sparks become more and more numerous."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/WormholeInt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The pod begins to vibrate mildly as it activates its jump drive."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/EscapePodWormHoleJump"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The vibration calms as the pod completes its jump, and begins to accelerate through space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/EscapePodDescend.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="With a sharp jolt, the pod touches down on the planet's surface. It then begins breaking apart, and you wearily climb out."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/EscapePodLands.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear some odd sounds as the harvesting equipment begins scanning for gas."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="A smooth hum builds up in the background, and the unmistakeable sounds of gas being cleaned up fills the area."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comets/GasCleanUp.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* throw*onto * where it shatters into several thousand tiny pieces!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Socials/BreakingGlass"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the death cry of *!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/DeathMob"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The corpse of * falls onto * with a thud."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/Dead.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The corpse of * rapidly decays into dust."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/DecayingCorpse.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The corpse of * slowly decays."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/DecayingCorpse.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* take*aim at * with *!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "You")) then
      CurrentCombatSound = PlayCombatSound("Ground/Aiming.ogg")
    else
      CurrentCombatSound = PlayCombatSound("Ground/Aiming.ogg", math.random(-100, 100))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* fire*!"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (string.match("%2", "laser")) then
      for g = 1, #guns do
        if (string.match(string.lower("%2"), string.lower(guns[g]))) then
          if (string.match("%1", "You")) then
            CurrentCombatSound = PlayCombatSound("Ground/Lasers/Laser"..guns[g]..".ogg")
          else
            CurrentCombatSound = PlayCombatSound("Ground/Lasers/Laser"..guns[g]..".ogg", math.random(-100, 100))
          end
        end
      end
      if (string.match("%2", "low-level")) then
        if (string.match("%1", "You")) then
          CurrentCombatSound = PlayCombatSound("Ground/Lasers/LaserLowLevel.ogg")
        else
          CurrentCombatSound = PlayCombatSound("Ground/Lasers/LaserLowLevel.ogg", math.random(-100, 100))
        end
      end
    else
      Note("%0")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The beam dissolves into the air!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/Lasers/LaserVanish.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^(Your|.*\'s) shield turns the beam away\!$"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/Lasers/LaserBlocked.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear distant weapon fire!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/Lasers/LaserDouble"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The beam hits *!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/Lasers/LaserHits.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* walks in from *."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "X\-Loritan") or string.match("%1", "alien creature")) then
      CurrentCombatSound = PlayCombatSound("Ground/Lores"..math.random(1, 2)..".ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* falls to * with a sickening thud!"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "X\-Loritan") or string.match("%1", "alien creature")) then
      CurrentCombatSound = PlayCombatSound("Ground/LoreDeath.ogg")
      CurrentCombatSound = PlayCombatSound("Ground/DeathMob"..math.random(1, 5)..".ogg")
    else
      CurrentCombatSound = PlayCombatSound("Ground/Dead.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The laser beam flies around, hitting everyone in its path!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/Lasers/LaserDouble"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The beam flies *!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/Lasers/LaserDouble"..math.random(1, 3)..".ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You insert a laser energy pack into a laser supplier, pressing a button."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/PowerSupplierButton.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The energy discharges with a whoosh, and * discard* laser energy pack."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/PowerBoost.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="An energy shield slowly forms around *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/ArmorEnabled.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The energy shield around * fades."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/ArmorDisabled.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* turn*portable oven on."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/OvenBeep.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* portable oven beeps, indicating that the food inside is ready."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/OvenBeep.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The display of * portable oven indicates, 'Recharging...'"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/OvenBeep.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* portable oven indicates that the recharging process is complete."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/OvenBeep.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* examine*the menu of available items."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Menu.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship slows down and you feel the sharp jolt as the ship touches down on the landing pad."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* exits * dropship."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/Lores"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The scans indicate that there might be an artifact at *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Devices/HandheldScanner.ogg")
    Note("Artifact at %1")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* thrust*shovel deep into the ground."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Shovel"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* shovel*aside some freshly dug dirt, but all you find is a strange insect."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Cease.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Insect"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* sigh*as the digging reveals nothing but insects."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Cease.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Insect"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* shovel*aside the dug dirt, but find nothing underneath."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Cease.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Insect"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You shovel the dug dirt aside, revealing *!"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Cease.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/ArtifactFind.ogg")
    Note("Revealing %1!")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The shovel produces a clear clang sound as it hits something underground."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Cease.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Clang.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* shovel indicates that the area is empty of artifacts."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/NothingHere.ogg")
    Note("This area is empty of artifacts.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You think you might have found something... But when you shovel the dug dirt aside, nothing reveals."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Cease.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/NothingReveals.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A small computer screen announces, &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All=Vehicle Computer Announcement: "..Capitalize("%1"))
    Execute("history_add Vehicle Computer Announcements="..Capitalize("%1"))
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Announce"..math.random(1, 7)..".ogg")
    if (string.match("%1", "collected")) then
      if (ConfigTable.Settings.CollectingMessages == 0) then
        return
      end
    elseif (string.match(string.lower("%1"), "confirmed hit on")) then
      CurrentCombatSound = PlayCombatSound("Ground/GrenadeExplode.ogg")
    elseif (string.match(string.lower("%1"), "weapons locked on")) then
      CurrentCombatSound = PlayCombatSound("Space/LockedOnOther.ogg")
    elseif (string.match(string.lower("%1"), "beginning") and string.match(string.lower("%1"), "repair")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/RepairStart.ogg")
    elseif (string.match(string.lower("%1"), "repair complete")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/RepairComplete.ogg")
    elseif (string.match(string.lower("%1"), "aborting repair")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/RepairAborted.ogg")
    elseif (string.match(string.lower("%1"), "recharging")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/BatteryRecharging.ogg")
    elseif (string.match("%1", "recharged")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    elseif (string.match(string.lower("%1"), "charge running low")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/LowCharge"..math.random(1, 2)..".ogg")
    elseif (string.match(string.lower("%1"), "Excavation cannot be started due to the vehicle running low on charge")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/LowCharge"..math.random(1, 2)..".ogg")
    elseif (string.match(string.lower("%1"), "stored minerals")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/computer/Display.ogg")
    elseif (string.match(string.lower("%1"), "storage full")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/StorageFull.ogg")
    elseif (string.match(string.lower("%1"), "storage capacity full")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/StorageFull.ogg")
    elseif (string.match(string.lower("%1"), "current charge")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
    elseif (string.match(string.lower("%1"), "items in the storage compartment")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
    elseif (string.match("%1", "destroyed")) then
      CurrentCombatSound = PlayCombatSound("Space/OtherDestroyed"..math.random(1, 8)..".ogg")
    elseif (string.match("%1", "Scanning")) then
      CurrentGlobalSound = PlayGlobalSound("Vehicle/Scanning.ogg")
    end
    Note(Capitalize("%1"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* board*the * &quot;*&quot;."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Enter.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* exit*the * &quot;*&quot;."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Leave.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Equipment Damage: *%."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a barely audible hum as the engines activate, and the floor beneath your feet begins vibrating slightly."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/EngineStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum decreases but doesn't stop completely, and the vibration eases out as the engine startup completes."
   omit_from_output="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="The floor beneath your feet begins to rumble as the engines begin shutting down."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/EngineStop.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum suddenly falls silent, leaving you in complete silence."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/EngineStop.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The pitch of the engines * ever so slightly as the vehicle *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "decreases") and string.match("%2", "stops")) then
      CurrentGlobalSound = PlayGlobalSound("Vehicle/CarStop.ogg")
    elseif (string.match("%1", "increases") and string.match("%2", "begins moving")) then
      CurrentGlobalSound = PlayGlobalSound("Vehicle/CarGo.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear some clangs as the excavation equipment is retracted."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/Reflectors3.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Excavation impossible due to damaged equipment."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a loud clang as a chunk of minerals is deposited into the mineral area."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Store.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear some clangs as the excavation equipment is deployed."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Shovel"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the microdrones working in the background as they repair the damaged equipment."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Repair"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* tap*some buttons on the * console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* begin*inputting a sequence of commands into a wormhole transport console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are no destinations to which you can teleport at present."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* check*the starship's record console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* check*a damage console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* examine*a *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* examine*the *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* input*."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
    if not string.match("%1", "You") then
      Note("%0")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* begin*tapping commands into * console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* examine*a * console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a loud clang as something under the vehicle snaps."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Harvesting/Explosion.ogg")
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Damaged.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You tap a 'MINERAL' icon on a status console."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/MiniKeyboard.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You press * button labeled *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Devices/ButtonPush.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The vehicle rumbles a bit as it moves towards the vehicle hatch of *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Start.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The vehicle rumbles a bit as it moves towards the vehicle hatch."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Start.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You can't go that way."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/CantGo"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear somebody trying to enter the ship."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/CantGo"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You remove * pearl from the water!"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/PearlDiving/PearlFind.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/PearlDiving/Found"..math.random(1, 7)..".ogg")
    Note("Revealing %1 pearl!")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* tap*an icon on the console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Devices/ButtonPush.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* shift*the throttle into *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Lever"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* div*into the water."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/PearlDiving/Dive"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* carefully insert* pearl into * oceanography container."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Container.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The scanner indicates that the current coordinates are empty of valuable items."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/PearlDiving/NothingHere.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* begin*moving * underwater shovel through the water and deep into the ground."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Shovel"..math.random(1, 5)..".ogg")
    if not string.match("%1", "You") then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* stop*digging, nothing as a result."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Cease.ogg")
    if not string.match("%1", "You") then
      Note(Capitalize("%0"))
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Valuable material found! Depth *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/PearlDiving/PearlLocated.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You begin swimming toward the surface."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/PearlDiving/Resurface.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* swims onto the shore."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/PearlDiving/Resurface.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="An alert is displayed across your suit's glasses: *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (string.match("%1", "20 minutes")) then
      CurrentGlobalSound = PlayGlobalSound("General/PearlDiving/RunningOutOfOxygen1.ogg")
    elseif (string.match("%1", "10 minutes")) then
      CurrentGlobalSound = PlayGlobalSound("General/PearlDiving/RunningOutOfOxygen2.ogg")
    elseif (string.match("%1", "5 minutes")) then
      CurrentGlobalSound = PlayGlobalSound("General/PearlDiving/RunningOutOfOxygen3.ogg")
    elseif (string.match("%1", "2 minutes")) then
      CurrentGlobalSound = PlayGlobalSound("General/PearlDiving/RunningOutOfOxygen4.ogg")
    elseif (string.match("%1", "1 minute")) then
      CurrentGlobalSound = PlayGlobalSound("General/PearlDiving/RunningOutOfOxygen5.ogg")
    end
    Note("Alert: Oxygen for %1")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You clip * to * weapon belt with * clips."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Belt1.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You unclip * from * weapon belt with * clips."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Belt2.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* press* finger on the scanner next to the *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Scanning.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The scanner flashes a * light."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "green")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/ScanSuccess.ogg")
    elseif (string.match("%1", "red")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/ScanFailure.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Sorry, that area is restricted to * only."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/ScanFailure.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You are denied access to that information."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/ScanFailure.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There * to transfer."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/ScanFailure.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your * just improved by * percent!"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/SkillGain.ogg")
    Note("Improved %1 by %2 percent.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A small light near the hatch of * flashes *"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%2", "once")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/AirlockFlashesOnce.ogg")
    elseif (string.match("%2", "twice")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/AirlockFlashesTwice.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The medical drones begin healing your wounds."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/MedicalOperation.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* instruct*the medical drones to heal *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/MedicalOperation.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* feel*refreshed and full of energy as the healing finishes."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/MedicalEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The drones stop healing *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/MedicalEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You see several lights blink in rapid succession on the navigation console, informing you that the ship is being * by *."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/SomeoneScannedYou.ogg")
    Note("This starship was %1 by %2.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Now viewing monitoring satellite *. This satellite is monitoring *."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Satellite.ogg")
    Note("Satellite report of %2:")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* shout*, &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Execute("history_add All="..Capitalize("%1").." shout%2: "..Capitalize("%3"))
    Execute("history_add Shouts="..Capitalize("%1").." shout%2: "..Capitalize("%3"))
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/Shouts.ogg")
    Note(Capitalize("%1").." shout%2: "..Capitalize("%3"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Thanks for playing!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/Gift.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Oooooooo, look! You get some extra points! Yaaaayy!"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/ThankYou.ogg")
    Note("The Prometheus hosts thanks you for playing!")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Thank you for assisting!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/ThankYou.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You receive * points!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Points.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You press a button."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Devices/ButtonPush.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The planetary damage of this planet is * units out of 100.0 units."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
    if (string.match("%1", "^0.0$")) then
      Note("No damages.")
    else
      Note("Damage: %1 units.")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a soft knocking from the starship's hull."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/HullKnocking.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You calmly knock on the hull of *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/HullKnocking.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You open *"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "container")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/ContainerOpen.ogg")
    elseif (string.match("%1", "fridge")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/FridgeOpen.ogg")
    elseif (string.match("%1", "oven")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/OvenDoorOpen.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You close *"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "container")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/ContainerClose.ogg")
    elseif (string.match("%1", "fridge")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/FridgeClose.ogg")
    elseif (string.match("%1", "oven")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/OvenDoorClose.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Enter new security access code:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Confirm new security access code:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Enter old security access code for removal confirmation:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Enter the new username:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Enter your current password:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Enter your new password:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Re-enter your new password:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Prompt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Username changed from * to *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Password changed successfully."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="An escape pod lands nearby."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/EscapePodLands.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* floats into the room and comes to a stop in your hand."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/Drink.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* flies into the room and lands in your arms."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/Food.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You press the 'RELOAD' button."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Devices/ButtonPush.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A soft hum starts in the background as the launchers begin reloading."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/RefillingBanks.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum subsides as * finish reloading."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Letter successfully sent to *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Submit.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * launchers are cooling down."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* are already being fired."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The LRL is recharging: * remaining."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The viewscreen is filled with brilliant white light as * explodes!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/GrenadeExplode.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* key*a few commands into *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* begin*inputting commands into * console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* examine*a sector scan."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Scan4.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You activate a high-powered infrared laser beam."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/StarResearching/LActivate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* deftly hits a button on an infrared laser beam control board, activating the high-powered beam."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/StarResearching/LActivate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The room lights up with a beautiful red glow as the starship fires an infrared laser beam into space towards a star."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/StarResearching/LFiring.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You notice the star begin to glow a blinding red."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/StarResearching/LBlinding.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The pulsating light radiates as it becomes steady."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/StarResearching/LPulsating.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The pulsating of the lights grows steady."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/StarResearching/LSteady.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Rays of light pulsate as the starship continues to fire the infrared laser beam at the star."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/StarResearching/LPulsating.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Suddenly, the rays of light begin pulsating quickly, and it seems as if the star is disintegrating right before your eyes."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/StarResearching/LRapid.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The rays of light dwindle down to nothing as the starship's infrared laser beam powers down."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/StarResearching/LDeactivate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship's computer prints * of the star research data."
   send_to="12"
   sequence="100"
  >
  <send>
    total = tonumber(Explode("%1", " ")[1])
    for i = 1, total do    
      CurrentGlobalSound = PlayGlobalSound("Starship/StarResearching/Printer.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The scanning console emits a series of beeps before printing *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/StarResearching/Printer.ogg")
    DoAfterSpecial(2, 'CurrentGlobalSound = PlayGlobalSound("Starship/StarResearching/SnatchPaper.ogg")', sendto.script)
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The computer beeps and prints out a *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/StarResearching/Printer.ogg")
    DoAfterSpecial(2, 'CurrentGlobalSound = PlayGlobalSound("Starship/StarResearching/SnatchPaper.ogg")', sendto.script)
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* remove*a small piece of paper containing strange symbols from the printer."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/StarResearching/SnatchPaper.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The military has shut down the application process for the time being. We appologize for the inconvenience!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/ScanFailure.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You tap a few buttons, making a small screen flash with lights."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="I see no &quot;*&quot; here."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are no salvage lines available."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Things can only be transferred at a landing pad or when docked to another ship via the docking ring."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You'll need to land at a properly equipped landing pad to transfer."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="This communication device is *"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "now connected")) then
      CurrentGlobalSound = PlayGlobalSound("General/Devices/Activate.ogg")
    elseif (string.match("%1", "no longer trackable")) then
      CurrentGlobalSound = PlayGlobalSound("General/Devices/Deactivate.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You have been added to the owners list of *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/LinkConfirmed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You have been added to the recognized fingerprints to the exit * of *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/LinkConfirmed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You have been authorized to *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/LinkConfirmed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You have been added to the recognized fingerprints of *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/LinkConfirmed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You can not use this drive for *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship was last moving *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Drive could not be activated due to the vessel being in motion."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Please drop your shields first."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Please power up your weapons first."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/NotInSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You reach under the control board, and open a small metal panel before installing * override chip."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Report"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You plug * Armor Piercing Weapon Chip into the weapons board, uploading its firmware to the computers."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Combat/Space/ArmorPiercingChipBegin.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* place*in-ship camera installation chip against a console."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Report"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* in-ship camera installation chip slides into the console and eventually out of view."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Report"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Something deep within the ship's bowels explodes!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/BatteryExplosion"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* datapad prints a peace of paper titled *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/StarResearching/Printer.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship shakes and rattles as armor piercing shells are launched."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/ArmorPiercingShells"..math.random(1, 3)..".ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* depart*to modify the game."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/GameModificationStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* finish*modifying the game."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/GameModificationStop.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A tradesman certificate has been created for you and can be found in your inventory."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/Certificate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The vehicle begins shaking in place as it prepares for launching."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Scoopers/Prelaunch.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The engines kick in and the vehicle ascends sharply as it accelerates into the atmosphere."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Scoopers/Ascending.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The engines begin rumbling slightly as the vehicle begins descending through the atmosphere."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Scoopers/Descending.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The engines calm slightly and gravity returns to normal as the vehicle steadies itself."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Thrusters.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Black lightning rips through the sky in front of the vehicle as the quantum shift matrix is activated."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/QuantumDriveStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A black hole opens in front of the vehicle. *"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/QuantumDriveFinish.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are no damages."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Damage: *%."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The storage area contains:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The storage hold contains:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* activate*the vehicle's material scoopers."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Scoopers/ActivateScooper.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A loud thud can be heard as a piece of scoopable material is deposited into the storage area."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Scoopers/Scooped.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A sudden wind pummels the vehicle, making it spin out of control!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Scoopers/Wind.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Finally, the wind releases the vehicle from it's grasp."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Scoopers/Wind.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You can not scoop while the vehicle is moving."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You can not move while attempting to scoop."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your scooper just took * percent damage."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Damaged.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A series of clicks is heard as a transfer process begins."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/TransferStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The clicks finally vanish as the transfer process completes."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/TransferEnd.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There is not a star in the sector."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* should not be moving."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You cannot use that in hyperspace."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Finish your hyper jump first."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Hyperspace drive could not be activated due to the vessel being in motion."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Scans of * unfiltered."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Devices/Activate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Scans of * filtered."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Devices/Deactivate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* tap*a button, *."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%3", "bringing up the mined mineral status")) then
      CurrentGlobalSound = PlayGlobalSound("General/Devices/ButtonPush.ogg")
    elseif (string.match("%3", "viewscreen")) then
      if (string.match("%3", "enabling")) then
        CurrentGlobalSound = PlayGlobalSound("General/Devices/Activate.ogg")
      elseif (string.match("%3", "disabling")) then
        CurrentGlobalSound = PlayGlobalSound("General/Devices/Deactivate.ogg")
      end
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="No mined minerals could be found."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A light next to the PA blinks off."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Devices/Deactivate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A light blinks on next to the PA."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Devices/Aactivate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Only * until Christmas!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/Christmas.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* hit*a few keys on a weapons board."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship rocks slightly as its hull is impacted by parts of an exploding starship!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg", math.random(-100, 100))
    CurrentCombatSound = PlayCombatSound("Space/Reflectors"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship accelerates into hyperspace."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/Accelerate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship decelerates into real space."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/Decelerate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship suddenly shoots into realspace."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/Decelerate.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* turn* UTF-Issue radio with * high-definition speaker *."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%4", "on")) then
      CurrentGlobalSound = PlayGlobalSound("General/Devices/Activate.ogg")
    elseif (string.match("%4", "off")) then
      CurrentGlobalSound = PlayGlobalSound("General/Devices/Deactivate.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="There are no artifacts in the storage area."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The following artifacts are in the storage area:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Vehicle Bay Status:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * should be in space before you attempt this."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/NotInSpace.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You're no longer in that sector."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You are having a hard time using the controls do to your uncoordinated state."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear an odd noise coming from the direction of the ship's hatch."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/HatchCracking/HatchCracked.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   group="gift"
   match="You have just received * Easter eggs as a gift! Found in your inventory!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/EggHunt.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   group="gift"
   match="The scanning console emits a series of beeps before depositing *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Scanning.ogg")
    if (string.match("%1", "Easter egg")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/EggHunt.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You open * Easter egg... And find * inside!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/EggItem.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* Portable Military Computer with * touch screen flashes a message on its screen, telling you that a new report has been added to the network."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Devices/NewMilitaryReport.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* enter*a shiny lift."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Movement.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* step*out of the lift."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Movement.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A smooth hum starts in the background and the lift begins moving."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/LiftGo.ogg")
    CurrentGlobalSound = PlayGlobalSound("Ship/Misc/LiftMoving.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The hum slowly stops as the lift arrives at its destination."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/LiftArrived.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A computer screen flickers to life, displaying a pictograph transmission from *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/CameraFeed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You are dead!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Death.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* is dead!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Death.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You don a*."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/ItemWear.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You remove a*."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/ItemUnwear.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shakes slightly when something impacts the hull."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel a jolt as the ship crashes into a small, previously unseen asteroid."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The engines roar for a short moment, something blocking the ship's movement."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship clips a derelict as it moves through the sector."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear the screaming of metal as the ship flies straight into an unseen shipwreck."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship moves carefully in the vastness of hyperspace."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Move/Hyperrouting.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The smell of * wafts into the room."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Scents.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* begin*scribbling something on a PBS. Inc. lottery ticket..."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Scribble.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You place * in *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Archaeology/Container.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The defense shields strengthen for a moment to mitigate damage."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/FireReflected.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Condensing of multiple debris clouds *."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "enabled")) then
      CurrentGlobalSound = PlayGlobalSound("General/Devices/Activate.ogg")
    elseif (string.match("%1", "disabled")) then
      CurrentGlobalSound = PlayGlobalSound("General/Devices/Deactivate.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* clutch*in * hand."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/Wield"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* tuck*away *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/Unwield.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* yank*from *."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (string.match("%1", "You")) then
      CurrentCombatSound = PlayCombatSound("Ground/Disarm.ogg")
    else
      CurrentCombatSound = PlayCombatSound("Ground/Disarmed.ogg")
      Note("You are disarmed.")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* attempt*to disarm * but fail*"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    if (string.match("%1", "You")) then
      CurrentCombatSound = PlayCombatSound("Ground/DisarmingFailed.ogg")
      Note("Disarming failed!")
    else
      CurrentCombatSound = PlayCombatSound("Ground/DisarmFailed.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* attempt*to disarm * but * hold*onto * weapon with a titan grip!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Ground/TitanGrip"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You slide a panel aside, and proceed to fit * partial vehicle replacement battery into a slot."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Report"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You close the panel, as * partial vehicle replacement battery locks into place with a *CLICK*."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Report"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You are zapped by a forcefield as you try to move *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Electricity.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You see * here."
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match("%1", "a pack of materials") or string.match("%1", "Easter egg")) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/EggItem.ogg")
    elseif (not string.match("%1", "corpse of")) then
      if (string.match("%1", "X\-Loritan") or string.match("%1", "alien creature")) then
        CurrentGlobalSound = PlayGlobalSound("Combat/Ground/Lores"..math.random(1, 2)..".ogg")
      end
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* pull*the lever on * slot machine."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Lever"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You win!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/YouWin.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You lose!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/YouLose.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="It seems that your guess was right!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/YouWin.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Sorry, but your guess was wrong. *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/YouLose.ogg")
    Note("%1")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel the ship shudder slightly as something impacts the hull."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg", math.random(-100, 100))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The shields strengthen, absorbing most of the impact."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/Reflectors"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The displays flicker and the ship's lights dim briefly as more power is diverted to the shields."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/CameraFeed.ogg")
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Background"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shakes, pouring more power to the beam."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Store.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Your command could not be executed at this time. *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Traceback.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship rocks violently as something impacts the hull!"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You feel the ship jolt suddenly as something impacts the hull."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/YouHit"..math.random(1, 9)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* the main owner of this starship. *"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You glance at the repair status panel."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The * banks are already full."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="*You were awarded * points for the resolution of report *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/ThankYou.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Points.ogg")
    Note(Trim(string.gsub("%0", "*", "")))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="*You have unread personal announcements, displaying them now.*"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/ThankYou.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Misc/NewMail.ogg")
    Note(Trim(string.gsub("%0", "*", "")))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* personally wants to thank you for playing Prometheus! As a token of appreciation, have this!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/ThankYou.ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/AddCredits.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You step into a brilliant beam of light which whisks you back to your home."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/Host"..math.random(1, 10)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A voice comes from the speaker of *, &quot;*&quot;"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/CommChirp1.ogg")
    Note(Capitalize("%2"))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You hear a slight hum as the ship *."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    if (string.match(string.lower("%1"), "cloaks")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/CloakOn.ogg")
    elseif (string.match(string.lower("%1"), "becomes visible")) then
      CurrentGlobalSound = PlayGlobalSound("Starship/Misc/CloakOff.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Due to the amount of energy drawn by the cloaking generator, you can not fire weapons while cloaked."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship accelerates, making the blackness around you shiver as it flies through hyperspace."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="The beam returns with something in its grasp."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Store.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The ship shakes, pouring more power into *."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Background5.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Some whooshes and clangs come from below."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Vehicle/Store.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The equipment is non-functional when damaged. Please repair it fully before proceeding."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A hum builds up for a second, but quickly subsides; apparently nothing was found."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Harvesting/NoMinerals.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The beam stops abruptly, seemingly unable to move."
   omit_from_output="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="There is nothing to be transfered."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="All drones are busy repairing."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The viewscreen is filled with brilliant white light as Relic * explodes!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/RelicExploding"..math.random(1, 2)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You instruct the microdrones to repair the damaged equipment."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/RepairStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Coordinates: (*)"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Scan"..math.random(1, 4)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Distance: *."
   send_to="12"
   sequence="100"
  >
  <send>
    if (tonumber("%1") == 1) then
      CurrentGlobalSound = PlayGlobalSound("General/Misc/Roundtime.ogg")
    end
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Current coordinates: *"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Note("%1")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^\*\*\*(.*) has (arrived to answer (.*)\'s assist|resolved an assist from (.*))\.([\*\*\*]?)$"
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    Note(Trim(string.gsub("%0", "*", "")))
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^Being (hauled|harvested|mined|cleaned)\, no\.$"
   omit_from_output="y"
   regexp="y"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   match="* tap*a few commands into *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* tap*a few buttons on *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Keyboard"..math.random(1, 7)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Enter security access code:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/Code.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The keypad beeps, allowing you to pass."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/ScanSuccess.ogg")
    Note("Code accepted.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A small panel flashes 'Access denied' when you tap some keys on the keypad."
   omit_from_output="y"
   send_to="14"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Misc/ScanFailure.ogg")
    Note("Code denied.")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^Verb programmed\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/SaveSuccessful.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="^Verb not programmed\.$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/SaveFailed.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The starship jolts to the side as armor piercing shells smack into it by *."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentCombatSound = PlayCombatSound("Space/Reflectors"..math.random(1, 3)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="A nearby console beeps twice in rapid succession, indicating the occurrence of a naturally occuring spacial anomaly. A spacebear has just disappeared from sensors."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/SpacebearVanish.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Event mode is now enabled, which means that OOC channel access is unavailable. We hope you enjoy the event!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Hosts/EventsAdded.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Event mode has been disabled, the hosts hope you enjoyed. OOC channels will be restored."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Channels/OOC.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Red lights on warning signs begin to flash, indicating that the ship is in the midst of a solar storm."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Alarm.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The red lights on the solar storm warning signs stop flashing."
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Beep"..math.random(1, 5)..".ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Hyperscan results:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Invaded report:"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("Starship/Computer/Display.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="The communication beacons are currently unreachable. Unable to start teleportation process..."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/Disabled.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Teleporting is not possible while the starship is unable to connect to the communication beacons."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/Disabled.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="That doesn't seem to be working."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/Disabled.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="Out of character channels are currently disabled. They will be back soon!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Comm/Disabled.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You begin your journey towards *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/SpeedwalkStart.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You arrive at *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/SpeedwalkDestination.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* sanitation droid arrives."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/SanitationDroidArrives.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* sanitation droid trundles around the area, collecting dropped items."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/SanitationDroidCollects.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="* sanitation droid heads *."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/SanitationDroidLeaves.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You can't lock on this ship!"
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
  <trigger
   enabled="y"
   match="You are having a hard time using the controls due to your uncoordinated state."
   send_to="12"
   sequence="100"
  >
  <send>
    CurrentGlobalSound = PlayGlobalSound("General/Misc/Cancel.ogg")
  </send>
  </trigger>
</triggers>

<aliases>
  <alias
   enabled="y"
   match="^bat$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("beaconadd translator")
  </send>
  </alias>
  <alias
   enabled="y"
   match="^brt$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("beaconremove translator")
  </send>
  </alias>
  <alias
   enabled="y"
   match="^btt$"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("beaconto translator")
  </send>
  </alias>
  <alias
   enabled="y"
   match="^mkills$"
   omit_from_command_history="y"
   omit_from_log="y"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    require("tprint")
    if (mobsTable ~= nil) then
      Note("The following mobs you have killed:")
      Note(tprint(table.sort(mobsTable)))
    else
      Note("No mob kills recorded.")
    end
  </send>
  </alias>
  <alias
   enabled="y"
   match="^readme$"
   omit_from_command_history="y"
   omit_from_log="y"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    local readme = Workspace.."Soundpack.txt"
    if (Path.exists(readme)) then
      res = utils.msgbox("Are you sure you want to open to tread this file now?", "Confirmation", "yesno", "?", 1)
      if (res == "yes") then
        utils.shellexecute ("cmd", "/C notepad.exe "..readme, Workspace, "open", 0)
      end
    else
      Note("Error: This soundpack readme file is not available!")
    end
  </send>
  </alias>
  <alias
   enabled="y"
   match="^changelog$"
   omit_from_command_history="y"
   omit_from_log="y"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    local changelog = Workspace.."changelog.txt"
    if (Path.exists(changelog)) then
      res = utils.msgbox("Are you sure you want to open the change log file now?", "Confirmation", "yesno", "?", 1)
      if (res == "yes") then
        utils.shellexecute ("cmd", "/C notepad.exe "..changelog, Workspace, "open", 0)
      end
    else
      Note("Error: This soundpack changelog file is not available!")
    end
  </send>
  </alias>
  <alias
   enabled="y"
   match="^version$"
   omit_from_command_history="y"
   omit_from_log="y"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    local origin = Path.getmtime(Workspace.."version.info")
    local date = os.date("%B %d, %Y", origin)
    local days = RoundNumber((os.time(os.date("!*t")) - origin) / 86400, 0)
    Note("MUSH Soundpack Version: "..GetVariable("version")..".")
    if (days > 1) then
      Note("Released on "..date.." ("..tostring(days).." days ago).")
    end
  </send>
  </alias>
  <alias
   enabled="y"
   match="^mcv$"
   omit_from_command_history="y"
   omit_from_log="y"
   omit_from_output="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
    Note("MUSHclient Version "..GetInfo(72)..", compiled on "..GetInfo(73)..".")
  </send>
  </alias>
  <alias
   enabled="y"
   match="^lag$"
   regexp="y"
   omit_from_command_history="y"
   omit_from_log="y"
   omit_from_output="y"
   send_to="12"
   sequence="99"
  >
  <send>
    Execute("@lag")
  </send>
  </alias>
  <alias
   enabled="y"
   match="^dt$"
   regexp="y"
   omit_from_command_history="y"
   omit_from_log="y"
   omit_from_output="y"
   send_to="12"
   sequence="100"
  >
  <send>
    Execute("deliver-time")
  </send>
  </alias>
</aliases>

<script>
<![CDATA[

Workspace = string.gsub(GetInfo(66), "\\", "/")
SoundFolder = string.gsub(GetInfo(74), "\\", "/")

version = io.open(Workspace.."version.info", "r")
SetVariable("version", version:read("*a"))
version:close()

Ini = require("ini")

ConfigTable = {}
ConfigTable.Settings = {}
ConfigTable.Settings.ScreenReader = "MushReader"
ConfigTable.Settings.Accents = 1
ConfigTable.Settings.VolumeType = 1
ConfigTable.Settings.SoundVolume = 20
ConfigTable.Settings.RoomVolume = 15
ConfigTable.Settings.CombatVolume = 15
ConfigTable.Settings.AlarmSounds = 1
ConfigTable.Settings.GlobalSounds = 1
ConfigTable.Settings.RoomSounds = 1
ConfigTable.Settings.CombatSounds = 1
ConfigTable.Settings.SocialSounds = 1
ConfigTable.Settings.Music = 1
ConfigTable.Settings.Numpad = 1
ConfigTable.Settings.CollectingMessages = 0
ConfigTable.Settings.SalvagingMessages = 0
ConfigTable.Settings.GrabbingMessages = 0
ConfigTable.Settings.HarvestingMessages = 0
ConfigTable.Settings.Roundtime = 1

guns = {"pistol", "rifle", "shotgun", "sniper"}

CurrentGlobalSound = 1
CurrentRoomSound = 2
CurrentCombatSound = 3

Path = require("pl.path")

PPI = require("ppi")
ppi = PPI.Load("aedf0cb0be5bf045860d54b7")
if not ppi then
  error("Dependency plugin not installed!")
end

Accelerator("Alt+C", "c")
Accelerator("Alt+Shift+C", "gc")
Accelerator("Alt+H", "health")
Accelerator("Alt+G", "cash")
Accelerator("Alt+X", "goal")
Accelerator("Alt+,", "ht")
AcceleratorTo("F9", "SetVolume(-5)", 12)
AcceleratorTo("F10", "SetVolume(5)", 12)
AcceleratorTo("F11", "ToggleVolumeType()", 12)
AcceleratorTo("Alt+F7", "ToggleAlarmSounds()", 12)
AcceleratorTo("Alt+F8", "ToggleSocialSounds()", 12)
AcceleratorTo("Alt+F9", "ToggleGlobalSounds()", 12)
AcceleratorTo("Alt+F10", "ToggleRoomSounds()", 12)
AcceleratorTo("Alt+F11", "ToggleCombatSounds()", 12)
AcceleratorTo("Ctrl+R", "NoRepeatCommand()", 12)
AcceleratorTo("Ctrl+Shift+A", "NoAutoSay()", 12)
AcceleratorTo("Ctrl+Shift+L", "ReloadSoundpack()", 12)
AcceleratorTo("Decimal", "NumpadSwitch()", 12)

Audio = nil

function ReloadSoundpack()
  StopSound(CurrentGlobalSound)
  StopSound(CurrentRoomSound)
  StopSound(CurrentCombatSound)
  Note("Soundpack reloaded.")
  ReloadPlugin("ad8f25246eb08f268411d690")
end

function Capitalize(str)
  if (str == nil) then
    return
  end
  return (str:gsub("^%l", string.upper))
end

function Trim(str)
  if (str == nil) then
    return
  end
  return (str:gsub("^%s*(.-)%s*$", "%1"))
end

function Explode(str, sep)
  if sep == nil then
    sep = '%s'
  end 
  local res = {}
  local func = function(w)
    table.insert(res, w)
  end 
  string.gsub(str, '[^'..sep..']+', func)
  return res 
end

function FileExists(filename)
  local file = io.open(filename)
  if (file) then
    io.close(file)
    return true
  else
    return false
  end
end

function FileSize(filename)
  file = io.open(filename)
  if not file then
    return -1
  end
  local current = file:seek()      -- get current position
  local size = file:seek("end")    -- get file size
  file:seek("set", current)        -- restore position
  file:close()
  return size
end

function RoundNumber(Number, DecimalPoint)
  return tonumber(string.format("%."..(DecimalPoint or 0).."f", Number))
end

function NumpadSwitch()
  if (ConfigTable.Settings.Numpad == 1) then
    ConfigTable.Settings.Numpad = 2
    Execute("tts_interrupt Numpad switched to navigation mode.")
  elseif (ConfigTable.Settings.Numpad == 2) then
    ConfigTable.Settings.Numpad = 1
    Execute("tts_interrupt Numpad switched to walk mode.")
  end
  CurrentGlobalSound = PlayGlobalSound("General/Misc/Switch.ogg")
  NumpadInit()
  SaveConfig()
end

function NumpadInit()
  if (ConfigTable.Settings.Numpad == 1) then
    Accelerator("Numpad1", "southwest")
    Accelerator("Numpad2", "south")
    Accelerator("Numpad3", "southeast")
    Accelerator("Numpad4", "west")
    Accelerator("Numpad5", "look")
    Accelerator("Numpad6", "east")
    Accelerator("Numpad7", "northwest")
    Accelerator("Numpad8", "north")
    Accelerator("Numpad9", "northeast")
    Accelerator("Divide", "enter")
    Accelerator("Multiply", "out")
    Accelerator("Add", "down")
    Accelerator("Subtract", "up")
    Accelerator("Alt+I", "north")
    Accelerator("Alt+K", "south")
    Accelerator("Alt+L", "east")
    Accelerator("Alt+J", "west")
    Accelerator("Alt+O", "northeast")
    Accelerator("Alt+U", "northwest")
    Accelerator("Alt+,", "southeast")
    Accelerator("Alt+N", "southwest")
    Accelerator("Alt+R", "up")
    Accelerator("Alt+F", "down")
  elseif (ConfigTable.Settings.Numpad == 2) then
    Accelerator("Numpad1", "1")
    Accelerator("Numpad2", "2")
    Accelerator("Numpad3", "3")
    Accelerator("Numpad4", "4")
    Accelerator("Numpad5", "coords")
    Accelerator("Numpad6", "6")
    Accelerator("Numpad7", "7")
    Accelerator("Numpad8", "8")
    Accelerator("Numpad9", "9")
    Accelerator("Divide", "smc")
    Accelerator("Multiply", "sms")
    Accelerator("Add", "-")
    Accelerator("Subtract", "+")
    Accelerator("Alt+I", "8")
    Accelerator("Alt+K", "2")
    Accelerator("Alt+L", "6")
    Accelerator("Alt+J", "4")
    Accelerator("Alt+O", "9")
    Accelerator("Alt+U", "7")
    Accelerator("Alt+,", "3")
    Accelerator("Alt+N", "1")
    Accelerator("Alt+R", "+")
    Accelerator("Alt+F", "-")
  end
end

function PlayGlobalSound(file, pan)
  if (ConfigTable.Settings.GlobalSounds == 1) then
    pan = pan or 0
    if not Path.isabs(file) then
      file = SoundFolder..file
    end
    return Audio.play(file, 0, pan, ConfigTable.Settings.SoundVolume)
  end
end

function PlayRoomSound(file)
  if (ConfigTable.Settings.RoomSounds == 1) then
    if not Path.isabs(file) then
      file = SoundFolder.."Rooms/"..file
    end
    return Audio.play(file, 1, 0, ConfigTable.Settings.RoomVolume)
  end
end

function PlayCombatSound(file, pan)
  if (ConfigTable.Settings.CombatSounds == 1) then
    pan = pan or 0
    if not Path.isabs(file) then
      file = SoundFolder.."Combat/"..file
    end
    return Audio.play(file, 0, pan, ConfigTable.Settings.CombatVolume)
  end
end

function StopSound(id)
  if ((tonumber(id) ~= nil) and (Audio.isPlaying(id) == 1)) then
    return Audio.stop(id)
  end
end

function SetVolume(CurrentVolume)
  if (ConfigTable.Settings.VolumeType == 1) then
    if (ConfigTable.Settings.GlobalSounds == 1) then
      if (ConfigTable.Settings.SoundVolume + CurrentVolume < 0 or ConfigTable.Settings.SoundVolume + CurrentVolume > 100) then
        if (ConfigTable.Settings.SoundVolume + CurrentVolume > 100) then
          CurrentGlobalSound = PlayGlobalSound("General/Misc/Error.ogg")
          Execute("tts_interrupt Global sound volume can't go higher.")
          return
        elseif (ConfigTable.Settings.SoundVolume + CurrentVolume < 1) then
          CurrentGlobalSound = PlayGlobalSound("General/Misc/Error.ogg")
          Execute("tts_interrupt Global sound volume can't go lower.")
          return
        end
      else
        ConfigTable.Settings.SoundVolume = ConfigTable.Settings.SoundVolume + CurrentVolume
        CurrentGlobalSound = PlayGlobalSound("General/Misc/Switch.ogg")
        Execute("tts_interrupt Global Sound Volume: "..tostring(ConfigTable.Settings.SoundVolume).." percent.")
        return Audio.setVol(ConfigTable.Settings.SoundVolume, CurrentGlobalSound)
      end
    elseif (ConfigTable.Settings.GlobalSounds == 0) then
      Execute("tts_interrupt Global sounds currently disabled.")
      return
    end
  elseif (ConfigTable.Settings.VolumeType == 2) then
    if (ConfigTable.Settings.RoomSounds == 1) then
      if (ConfigTable.Settings.RoomVolume + CurrentVolume < 0 or ConfigTable.Settings.RoomVolume + CurrentVolume > 100) then
        if (ConfigTable.Settings.RoomVolume + CurrentVolume > 100) then
          CurrentGlobalSound = PlayGlobalSound("General/Misc/Error.ogg")
          Execute("tts_interrupt Room sound volume can't go higher.")
          return
        elseif (ConfigTable.Settings.RoomVolume + CurrentVolume < 1) then
          CurrentGlobalSound = PlayGlobalSound("General/Misc/Error.ogg")
          Execute("tts_interrupt Room sound volume can't go lower.")
          return
        end
      else
        ConfigTable.Settings.RoomVolume = ConfigTable.Settings.RoomVolume + CurrentVolume
        CurrentGlobalSound = PlayGlobalSound("General/Misc/Switch.ogg")
        Execute("tts_interrupt Room Sound Volume: "..tostring(ConfigTable.Settings.RoomVolume).." percent.")
        return Audio.setVol(ConfigTable.Settings.RoomVolume, CurrentRoomSound)
      end
    else
      Execute("tts_interrupt Room sounds currently disabled.")
      return
    end
  elseif (ConfigTable.Settings.VolumeType == 3) then
    if (ConfigTable.Settings.CombatSounds == 1) then
      if (ConfigTable.Settings.CombatVolume + CurrentVolume < 0 or ConfigTable.Settings.CombatVolume + CurrentVolume > 100) then
        if (ConfigTable.Settings.CombatVolume + CurrentVolume > 100) then
          CurrentGlobalSound = PlayGlobalSound("General/Misc/Error.ogg")
          Execute("tts_interrupt Combat sound volume can't go higher.")
          return
        elseif (ConfigTable.Settings.CombatVolume + CurrentVolume < 1) then
          CurrentGlobalSound = PlayGlobalSound("General/Misc/Error.ogg")
          Execute("tts_interrupt Combat sound volume can't go lower.")
          return
        end
      else
        ConfigTable.Settings.CombatVolume = ConfigTable.Settings.CombatVolume + CurrentVolume
        CurrentGlobalSound = PlayGlobalSound("General/Misc/Switch.ogg")
        Execute("tts_interrupt Combat Sound Volume: "..tostring(ConfigTable.Settings.CombatVolume).." percent.")
        return Audio.setVol(ConfigTable.Settings.CombatVolume, CurrentCombatSound)
      end
    else
      Execute("tts_interrupt Combat sounds currently disabled.")
      return
    end
  end
end

function ToggleVolumeType()
  if (ConfigTable.Settings.VolumeType == 1) then
    ConfigTable.Settings.VolumeType = 2
    Execute("tts_interrupt Volume control for room sounds.")
  elseif (ConfigTable.Settings.VolumeType == 2) then
    ConfigTable.Settings.VolumeType = 3
    Execute("tts_interrupt Volume control for combat sounds.")
  else
    ConfigTable.Settings.VolumeType = 1
    Execute("tts_interrupt Volume control for global sounds.")
  end
  CurrentGlobalSound = PlayGlobalSound("General/Misc/Switch.ogg")
  SaveConfig();
end

function ToggleGlobalSounds()
  if (ConfigTable.Settings.GlobalSounds == 1) then
    ConfigTable.Settings.GlobalSounds = 0
    StopSound(CurrentGlobalSound)
    Execute("tts_interrupt Global sounds disabled.")
  elseif (ConfigTable.Settings.GlobalSounds == 0) then
    ConfigTable.Settings.GlobalSounds = 1
    Execute("tts_interrupt Global sounds enabled.")
  end
  CurrentGlobalSound = PlayGlobalSound("General/Misc/Switch.ogg")
end

function ToggleRoomSounds()
  if (ConfigTable.Settings.RoomSounds == 1) then
    ConfigTable.Settings.RoomSounds = 0
    StopSound(CurrentRoomSound)
    Execute("tts_interrupt Room sounds disabled.")
  elseif (ConfigTable.Settings.RoomSounds == 0) then
    ConfigTable.Settings.RoomSounds = 1
    Execute("tts_interrupt Room sounds enabled.")
  end
  CurrentGlobalSound = PlayGlobalSound("General/Misc/Switch.ogg")
end

function ToggleCombatSounds()
  if (ConfigTable.Settings.CombatSounds == 1) then
    ConfigTable.Settings.CombatSounds = 0
    StopSound(CurrentCombatSound)
    Execute("tts_interrupt Combat sounds disabled.")
  elseif (ConfigTable.Settings.CombatSounds == 0) then
    ConfigTable.Settings.CombatSounds = 1
    Execute("tts_interrupt Combat sounds enabled.")
  end
  CurrentGlobalSound = PlayGlobalSound("General/Misc/Switch.ogg")
end

function ToggleAlarmSounds()
  if (ConfigTable.Settings.AlarmSounds == 1) then
    ConfigTable.Settings.AlarmSounds = 0
    Execute("tts_interrupt Alarm sounds disabled.")
  elseif (ConfigTable.Settings.AlarmSounds == 0) then
    ConfigTable.Settings.AlarmSounds = 1
    Execute("tts_interrupt Alarm sounds enabled.")
  end
  CurrentGlobalSound = PlayGlobalSound("General/Misc/Switch.ogg")
end

function ToggleSocialSounds()
  if (ConfigTable.Settings.SocialSounds == 1) then
    ConfigTable.Settings.SocialSounds = 0
    Execute("tts_interrupt Social sounds disabled.")
  elseif (ConfigTable.Settings.SocialSounds == 0) then
    ConfigTable.Settings.SocialSounds = 1
    Execute("tts_interrupt Social sounds enabled.")
  end
  CurrentGlobalSound = PlayGlobalSound("General/Misc/Switch.ogg")
end

function NoAutoSay()
  Execute("tts_interrupt To toggle Auto Say mode, select the AutoSay option from the Game menu.")
end

function NoRepeatCommand()
  Execute("tts_interrupt This function has been disabled.")
end

function LoadConfig()
  if (Path.exists(Workspace.."Config.txt")) then
    ConfigTable = Ini.read("Config.txt")
    if ConfigTable then
      for name, section in pairs(ConfigTable) do
        for option_name, option_value in pairs(section) do
          config = tonumber(option_value)
          if config == nil then
            config = option_value
          end
          if ConfigTable[name] == nil then
            ConfigTable[name] = {}
          end
          ConfigTable[name][option_name] = config
        end
      end
    end
  end
  NumpadInit()
end

function SaveConfig()
  if (Path.exists(Workspace.."Config.txt")) then
    Ini.write("Config.txt", ConfigTable)
  else
    f = io.open(Workspace.."Config.txt", "w")
    Ini.write("Config.txt", ConfigTable)
    f:close()
  end
end

function OnPluginConnect()
  LoadConfig()
  if (ConfigTable.Settings.Music == 1) then
    CurrentGlobalSound = PlayGlobalSound("Music/"..math.random(1, 5)..".ogg")
  end
  Note("Soundpack Version "..GetVariable("version")..".")
end

function OnPluginDisconnect()
  StopSound(CurrentGlobalSound)
  StopSound(CurrentRoomSound)
  StopSound(CurrentCombatSound)
  CurrentGlobalSound = PlayGlobalSound("General/Misc/Disconnected.ogg")
  SaveConfig()
end

function OnPluginInstall()
  if not PPI.Load("aedf0cb0be5bf045860d54b7") then
    error("Couldn't initialize an audio device.")
  end
  if Path.exists("Config.txt") then
    LoadConfig()
  else
    utils.msgbox("The Mush soundpack version "..GetVariable("version").." for Prometheus is now ready. Thanks for using!", "Congratulations", "ok", "!", 1)
    SaveConfig()
  end
  Audio = PPI.Load("aedf0cb0be5bf045860d54b7")
  if not Audio then
    error("Couldn't initialize an audio device!")
  end
end

function OnPluginClose()
  SaveConfig()
end

]]>
</script>

</muclient>
